function CV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function _b(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _0={exports:{}},od={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR;function xV(){if(NR)return od;NR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:o}}return od.Fragment=e,od.jsx=t,od.jsxs=t,od}var MR;function PV(){return MR||(MR=1,_0.exports=xV()),_0.exports}var V=PV(),v0={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function OV(){if(VR)return Le;VR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function C(q,ae,be){this.props=q,this.context=ae,this.refs=R,this.updater=be||T}C.prototype.isReactComponent={},C.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=C.prototype;function L(q,ae,be){this.props=q,this.context=ae,this.refs=R,this.updater=be||T}var B=L.prototype=new U;B.constructor=L,w(B,C.prototype),B.isPureReactComponent=!0;var H=Array.isArray,j={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function M(q,ae,be,ve,ye,Oe){return be=Oe.ref,{$$typeof:n,type:q,key:ae,ref:be!==void 0?be:null,props:Oe}}function x(q,ae){return M(q.type,ae,void 0,void 0,void 0,q.props)}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function b(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(be){return ae[be]})}var P=/\/+/g;function O(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?b(""+q.key):ae.toString(36)}function k(){}function te(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(k,k):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function F(q,ae,be,ve,ye){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var ke=!1;if(q===null)ke=!0;else switch(Oe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(q.$$typeof){case n:case e:ke=!0;break;case g:return ke=q._init,F(ke(q._payload),ae,be,ve,ye)}}if(ke)return ye=ye(q),ke=ve===""?"."+O(q,0):ve,H(ye)?(be="",ke!=null&&(be=ke.replace(P,"$&/")+"/"),F(ye,ae,be,"",function(_t){return _t})):ye!=null&&(I(ye)&&(ye=x(ye,be+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+ke)),ae.push(ye)),1;ke=0;var xt=ve===""?".":ve+":";if(H(q))for(var ze=0;ze<q.length;ze++)ve=q[ze],Oe=xt+O(ve,ze),ke+=F(ve,ae,be,Oe,ye);else if(ze=v(q),typeof ze=="function")for(q=ze.call(q),ze=0;!(ve=q.next()).done;)ve=ve.value,Oe=xt+O(ve,ze++),ke+=F(ve,ae,be,Oe,ye);else if(Oe==="object"){if(typeof q.then=="function")return F(te(q),ae,be,ve,ye);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ee(q,ae,be){if(q==null)return q;var ve=[],ye=0;return F(q,ve,"","",function(Oe){return ae.call(be,Oe,ye++)}),ve}function ie(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(be){(q._status===0||q._status===-1)&&(q._status=1,q._result=be)},function(be){(q._status===0||q._status===-1)&&(q._status=2,q._result=be)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Te(){}return Le.Children={map:ee,forEach:function(q,ae,be){ee(q,function(){ae.apply(this,arguments)},be)},count:function(q){var ae=0;return ee(q,function(){ae++}),ae},toArray:function(q){return ee(q,function(ae){return ae})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Le.Component=C,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=L,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cloneElement=function(q,ae,be){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=w({},q.props),ye=q.key,Oe=void 0;if(ae!=null)for(ke in ae.ref!==void 0&&(Oe=void 0),ae.key!==void 0&&(ye=""+ae.key),ae)!$.call(ae,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ae.ref===void 0||(ve[ke]=ae[ke]);var ke=arguments.length-2;if(ke===1)ve.children=be;else if(1<ke){for(var xt=Array(ke),ze=0;ze<ke;ze++)xt[ze]=arguments[ze+2];ve.children=xt}return M(q.type,ye,void 0,void 0,Oe,ve)},Le.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,ae,be){var ve,ye={},Oe=null;if(ae!=null)for(ve in ae.key!==void 0&&(Oe=""+ae.key),ae)$.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ye[ve]=ae[ve]);var ke=arguments.length-2;if(ke===1)ye.children=be;else if(1<ke){for(var xt=Array(ke),ze=0;ze<ke;ze++)xt[ze]=arguments[ze+2];ye.children=xt}if(q&&q.defaultProps)for(ve in ke=q.defaultProps,ke)ye[ve]===void 0&&(ye[ve]=ke[ve]);return M(q,Oe,void 0,void 0,null,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:c,render:q}},Le.isValidElement=I,Le.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ie}},Le.memo=function(q,ae){return{$$typeof:f,type:q,compare:ae===void 0?null:ae}},Le.startTransition=function(q){var ae=j.T,be={};j.T=be;try{var ve=q(),ye=j.S;ye!==null&&ye(be,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Te,ue)}catch(Oe){ue(Oe)}finally{j.T=ae}},Le.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Le.use=function(q){return j.H.use(q)},Le.useActionState=function(q,ae,be){return j.H.useActionState(q,ae,be)},Le.useCallback=function(q,ae){return j.H.useCallback(q,ae)},Le.useContext=function(q){return j.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,ae){return j.H.useDeferredValue(q,ae)},Le.useEffect=function(q,ae){return j.H.useEffect(q,ae)},Le.useId=function(){return j.H.useId()},Le.useImperativeHandle=function(q,ae,be){return j.H.useImperativeHandle(q,ae,be)},Le.useInsertionEffect=function(q,ae){return j.H.useInsertionEffect(q,ae)},Le.useLayoutEffect=function(q,ae){return j.H.useLayoutEffect(q,ae)},Le.useMemo=function(q,ae){return j.H.useMemo(q,ae)},Le.useOptimistic=function(q,ae){return j.H.useOptimistic(q,ae)},Le.useReducer=function(q,ae,be){return j.H.useReducer(q,ae,be)},Le.useRef=function(q){return j.H.useRef(q)},Le.useState=function(q){return j.H.useState(q)},Le.useSyncExternalStore=function(q,ae,be){return j.H.useSyncExternalStore(q,ae,be)},Le.useTransition=function(){return j.H.useTransition()},Le.version="19.0.0",Le}var LR;function vo(){return LR||(LR=1,v0.exports=OV()),v0.exports}var W=vo();const Ke=_b(W),cE=CV({__proto__:null,default:Ke},[W]);var E0={exports:{}},ld={},b0={exports:{}},w0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UR;function kV(){return UR||(UR=1,function(n){function e(ee,ie){var ue=ee.length;ee.push(ie);e:for(;0<ue;){var Te=ue-1>>>1,q=ee[Te];if(0<i(q,ie))ee[Te]=ie,ee[ue]=q,ue=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ue=ee.pop();if(ue!==ie){ee[0]=ue;e:for(var Te=0,q=ee.length,ae=q>>>1;Te<ae;){var be=2*(Te+1)-1,ve=ee[be],ye=be+1,Oe=ee[ye];if(0>i(ve,ue))ye<q&&0>i(Oe,ve)?(ee[Te]=Oe,ee[ye]=ue,Te=ye):(ee[Te]=ve,ee[be]=ue,Te=be);else if(ye<q&&0>i(Oe,ue))ee[Te]=Oe,ee[ye]=ue,Te=ye;else break e}}return ie}function i(ee,ie){var ue=ee.sortIndex-ie.sortIndex;return ue!==0?ue:ee.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],g=1,_=null,v=3,T=!1,w=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function B(ee){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=ee)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function H(ee){if(R=!1,B(ee),!w)if(t(d)!==null)w=!0,te();else{var ie=t(f);ie!==null&&F(H,ie.startTime-ee)}}var j=!1,$=-1,M=5,x=-1;function I(){return!(n.unstable_now()-x<M)}function b(){if(j){var ee=n.unstable_now();x=ee;var ie=!0;try{e:{w=!1,R&&(R=!1,U($),$=-1),T=!0;var ue=v;try{t:{for(B(ee),_=t(d);_!==null&&!(_.expirationTime>ee&&I());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,v=_.priorityLevel;var q=Te(_.expirationTime<=ee);if(ee=n.unstable_now(),typeof q=="function"){_.callback=q,B(ee),ie=!0;break t}_===t(d)&&r(d),B(ee)}else r(d);_=t(d)}if(_!==null)ie=!0;else{var ae=t(f);ae!==null&&F(H,ae.startTime-ee),ie=!1}}break e}finally{_=null,v=ue,T=!1}ie=void 0}}finally{ie?P():j=!1}}}var P;if(typeof L=="function")P=function(){L(b)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,k=O.port2;O.port1.onmessage=b,P=function(){k.postMessage(null)}}else P=function(){C(b,0)};function te(){j||(j=!0,P())}function F(ee,ie){$=C(function(){ee(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,te())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ue=v;v=ie;try{return ee()}finally{v=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=v;v=ee;try{return ie()}finally{v=ue}},n.unstable_scheduleCallback=function(ee,ie,ue){var Te=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Te+ue:Te):ue=Te,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,ee={id:g++,callback:ie,priorityLevel:ee,startTime:ue,expirationTime:q,sortIndex:-1},ue>Te?(ee.sortIndex=ue,e(f,ee),t(d)===null&&ee===t(f)&&(R?(U($),$=-1):R=!0,F(H,ue-Te))):(ee.sortIndex=q,e(d,ee),w||T||(w=!0,te())),ee},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(ee){var ie=v;return function(){var ue=v;v=ie;try{return ee.apply(this,arguments)}finally{v=ue}}}}(w0)),w0}var BR;function DV(){return BR||(BR=1,b0.exports=kV()),b0.exports}var T0={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function NV(){if(FR)return jn;FR=1;var n=vo();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},jn.flushSync=function(d){var f=l.T,g=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=g,r.d.f()}},jn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=c(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=c(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jn.requestFormReset=function(d){r.d.r(d)},jn.unstable_batchedUpdates=function(d,f){return d(f)},jn.useFormState=function(d,f,g){return l.H.useFormState(d,f,g)},jn.useFormStatus=function(){return l.H.useHostTransitionStatus()},jn.version="19.0.0",jn}var jR;function kx(){if(jR)return T0.exports;jR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),T0.exports=NV(),T0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function MV(){if(zR)return ld;zR=1;var n=DV(),e=vo(),t=kx();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),T=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function x(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case c:return"Portal";case g:return"Profiler";case f:return"StrictMode";case R:return"Suspense";case C:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case T:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case w:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return a=s.displayName||null,a!==null?a:x(s.type)||"Memo";case L:a=s._payload,s=s._init;try{return x(s(a))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.assign,P,O;function k(s){if(P===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||"",O=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+s+O}var te=!1;function F(s,a){if(!s||te)return"";te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var J=le}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(le){J=le}s.call(fe.prototype)}}else{try{throw Error()}catch(le){J=le}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&J&&typeof le.stack=="string")return[le.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),A=y[0],D=y[1];if(A&&D){var z=A.split(`
`),K=D.split(`
`);for(m=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(h===z.length||m===K.length)for(h=z.length-1,m=K.length-1;1<=h&&0<=m&&z[h]!==K[m];)m--;for(;1<=h&&0<=m;h--,m--)if(z[h]!==K[m]){if(h!==1||m!==1)do if(h--,m--,0>m||z[h]!==K[m]){var ce=`
`+z[h].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=h&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?k(u):""}function ee(s){switch(s.tag){case 26:case 27:case 5:return k(s.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return s=F(s.type,!1),s;case 11:return s=F(s.type.render,!1),s;case 1:return s=F(s.type,!0),s;default:return""}}function ie(s){try{var a="";do a+=ee(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ue(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Te(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function q(s){if(ue(s)!==s)throw Error(r(188))}function ae(s){var a=s.alternate;if(!a){if(a=ue(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,h=a;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return q(m),s;if(y===h)return q(m),a;y=y.sibling}throw Error(r(188))}if(u.return!==h.return)u=m,h=y;else{for(var A=!1,D=m.child;D;){if(D===u){A=!0,u=m,h=y;break}if(D===h){A=!0,h=m,u=y;break}D=D.sibling}if(!A){for(D=y.child;D;){if(D===u){A=!0,u=y,h=m;break}if(D===h){A=!0,h=y,u=m;break}D=D.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function be(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=be(s),a!==null)return a;s=s.sibling}return null}var ve=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},ke=[],xt=-1;function ze(s){return{current:s}}function _t(s){0>xt||(s.current=ke[xt],ke[xt]=null,xt--)}function $e(s,a){xt++,ke[xt]=s.current,s.current=a}var wt=ze(null),Ze=ze(null),at=ze(null),en=ze(null);function vr(s,a){switch($e(at,a),$e(Ze,s),$e(wt,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?uR(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=uR(s),a=cR(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}_t(wt),$e(wt,a)}function Ln(){_t(wt),_t(Ze),_t(at)}function Ur(s){s.memoizedState!==null&&$e(en,s);var a=wt.current,u=cR(a,s.type);a!==u&&($e(Ze,s),$e(wt,u))}function Un(s){Ze.current===s&&(_t(wt),_t(Ze)),en.current===s&&(_t(en),nd._currentValue=Oe)}var lr=Object.prototype.hasOwnProperty,li=n.unstable_scheduleCallback,Kl=n.unstable_cancelCallback,E_=n.unstable_shouldYield,rh=n.unstable_requestPaint,ur=n.unstable_now,up=n.unstable_getCurrentPriorityLevel,cn=n.unstable_ImmediatePriority,_n=n.unstable_UserBlockingPriority,us=n.unstable_NormalPriority,cp=n.unstable_LowPriority,ih=n.unstable_IdlePriority,b_=n.log,Co=n.unstable_setDisableYieldValue,oa=null,Bn=null;function sh(s){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(oa,s,void 0,(s.current.flags&128)===128)}catch{}}function Ei(s){if(typeof b_=="function"&&Co(s),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(oa,s)}catch{}}var Xn=Math.clz32?Math.clz32:dp,ah=Math.log,hp=Math.LN2;function dp(s){return s>>>=0,s===0?32:31-(ah(s)/hp|0)|0}var bi=128,la=4194304;function ui(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Br(s,a){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var D=u&134217727;return D!==0?(u=D&~m,u!==0?h=ui(u):(y&=D,y!==0?h=ui(y):s||(A=D&~A,A!==0&&(h=ui(A))))):(D=u&~m,D!==0?h=ui(D):y!==0?h=ui(y):s||(A=u&~A,A!==0&&(h=ui(A)))),h===0?0:a!==0&&a!==h&&!(a&m)&&(m=h&-h,A=a&-a,m>=A||m===32&&(A&4194176)!==0)?a:h}function ua(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Wl(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oh(){var s=bi;return bi<<=1,!(bi&4194176)&&(bi=128),s}function ca(){var s=la;return la<<=1,!(la&62914560)&&(la=4194304),s}function Yl(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Wt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function fp(s,a,u,h,m,y){var A=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var D=s.entanglements,z=s.expirationTimes,K=s.hiddenUpdates;for(u=A&~u;0<u;){var ce=31-Xn(u),fe=1<<ce;D[ce]=0,z[ce]=-1;var J=K[ce];if(J!==null)for(K[ce]=null,ce=0;ce<J.length;ce++){var le=J[ce];le!==null&&(le.lane&=-536870913)}u&=~fe}h!==0&&ha(s,h,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function ha(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Xn(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|u&4194218}function da(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-Xn(u),m=1<<h;m&a|s[h]&a&&(s[h]|=a),u&=~m}}function pp(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function mp(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:CR(s.type))}function fa(s,a){var u=ye.p;try{return ye.p=s,a()}finally{ye.p=u}}var wi=Math.random().toString(36).slice(2),vn="__reactFiber$"+wi,hn="__reactProps$"+wi,cs="__reactContainer$"+wi,xo="__reactEvents$"+wi,Ql="__reactListeners$"+wi,Ti="__reactHandles$"+wi,lh="__reactResources$"+wi,pa="__reactMarker$"+wi;function Po(s){delete s[vn],delete s[hn],delete s[xo],delete s[Ql],delete s[Ti]}function ci(s){var a=s[vn];if(a)return a;for(var u=s.parentNode;u;){if(a=u[cs]||u[vn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=fR(s);s!==null;){if(u=s[vn])return u;s=fR(s)}return a}s=u,u=s.parentNode}return null}function hs(s){if(s=s[vn]||s[cs]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ma(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function ga(s){var a=s[lh];return a||(a=s[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(s){s[pa]=!0}var uh=new Set,Xl={};function Er(s,a){cr(s,a),cr(s+"Capture",a)}function cr(s,a){for(Xl[s]=a,s=0;s<a.length;s++)uh.add(a[s])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ch={},hh={};function gp(s){return lr.call(hh,s)?!0:lr.call(ch,s)?!1:w_.test(s)?hh[s]=!0:(ch[s]=!0,!1)}function ya(s,a,u){if(gp(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function _a(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function Fr(s,a,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+h)}}function Zn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function yp(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function T_(s){var a=yp(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){h=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Oo(s){s._valueTracker||(s._valueTracker=T_(s))}function dh(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=yp(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function Zl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ds=/[\n"\\]/g;function Bt(s){return s.replace(ds,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function va(s,a,u,h,m,y,A,D){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Zn(a)):s.value!==""+Zn(a)&&(s.value=""+Zn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Jl(s,A,Zn(a)):u!=null?Jl(s,A,Zn(u)):h!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+Zn(D):s.removeAttribute("name")}function ko(s,a,u,h,m,y,A,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;u=u!=null?""+Zn(u):"",a=a!=null?""+Zn(a):u,D||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=D?s.checked:!!h,s.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Jl(s,a,u){a==="number"&&Zl(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Je(s,a,u,h){if(s=s.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=a.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Zn(u),a=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Do(s,a,u){if(a!=null&&(a=""+Zn(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Zn(u):""}function Ea(s,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(ve(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=Zn(a),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h)}function jr(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var S_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fh(s,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,u):typeof u!="number"||u===0||S_.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function _p(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&u[m]!==h&&fh(s,m,h)}else for(var y in a)a.hasOwnProperty(y)&&fh(s,y,a[y])}function ph(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Si(s){return R_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var zr=null;function eu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fs=null,ps=null;function ms(s){var a=hs(s);if(a&&(s=a.stateNode)){var u=s[hn]||null;e:switch(s=a.stateNode,a.type){case"input":if(va(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Bt(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var m=h[hn]||null;if(!m)throw Error(r(90));va(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===s.form&&dh(h)}break e;case"textarea":Do(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Je(s,!!u.multiple,a,!1)}}}var mh=!1;function vp(s,a,u){if(mh)return s(a,u);mh=!0;try{var h=s(a);return h}finally{if(mh=!1,(fs!==null||ps!==null)&&(cm(),fs&&(a=fs,s=ps,ps=fs=null,ms(a),s)))for(a=0;a<s.length;a++)ms(s[a])}}function No(s,a){var u=s.stateNode;if(u===null)return null;var h=u[hn]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var qr=!1;if(br)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){qr=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{qr=!1}var Ai=null,ba=null,gs=null;function gh(){if(gs)return gs;var s,a=ba,u=a.length,h,m="value"in Ai?Ai.value:Ai.textContent,y=m.length;for(s=0;s<u&&a[s]===m[s];s++);var A=u-s;for(h=1;h<=A&&a[u-h]===m[y-h];h++);return gs=m.slice(s,1<h?1-h:void 0)}function Ri(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ii(){return!0}function yh(){return!1}function En(s){function a(u,h,m,y,A){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ii:yh,this.isPropagationStopped=yh,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=En(st),Vo=b({},st,{view:0,detail:0}),Ep=En(Vo),nu,ru,Ci,Lo=b({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ci&&(Ci&&s.type==="mousemove"?(nu=s.screenX-Ci.screenX,ru=s.screenY-Ci.screenY):ru=nu=0,Ci=s),nu)},movementY:function(s){return"movementY"in s?s.movementY:ru}}),Hr=En(Lo),bp=b({},Lo,{dataTransfer:0}),I_=En(bp),Uo=b({},Vo,{relatedTarget:0}),iu=En(Uo),_h=b({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),su=En(_h),wp=b({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),au=En(wp),C_=b({},st,{data:0}),vh=En(C_),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Sp[s])?!!a[s]:!1}function Fo(){return Eh}var Ap=b({},Vo,{key:function(s){if(s.key){var a=Bo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ri(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(s){return s.type==="keypress"?Ri(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ri(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ou=En(Ap),Rp=b({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=En(Rp),ys=b({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),Ip=En(ys),Cp=b({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),xp=En(Cp),Pp=b({},Lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lu=En(Pp),Jn=b({},st,{newState:0,oldState:0}),Op=En(Jn),kp=[9,13,27,32],xi=br&&"CompositionEvent"in window,p=null;br&&"documentMode"in document&&(p=document.documentMode);var E=br&&"TextEvent"in window&&!p,S=br&&(!xi||p&&8<p&&11>=p),N=" ",Q=!1;function re(s,a){switch(s){case"keyup":return kp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function dn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Q=!0,N);case"textInput":return s=a.data,s===N&&Q?null:s;default:return null}}function Ye(s,a){if(We)return s==="compositionend"||!xi&&re(s,a)?(s=gh(),gs=ba=Ai=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!bn[s.type]:a==="textarea"}function _s(s,a,u,h){fs?ps?ps.push(h):ps=[h]:fs=h,a=mm(a,"onChange"),0<a.length&&(u=new tu("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var xn=null,Pi=null;function wh(s){iR(s,0)}function Dp(s){var a=ma(s);if(dh(a))return s}function DT(s,a){if(s==="change")return a}var NT=!1;if(br){var x_;if(br){var P_="oninput"in document;if(!P_){var MT=document.createElement("div");MT.setAttribute("oninput","return;"),P_=typeof MT.oninput=="function"}x_=P_}else x_=!1;NT=x_&&(!document.documentMode||9<document.documentMode)}function VT(){xn&&(xn.detachEvent("onpropertychange",LT),Pi=xn=null)}function LT(s){if(s.propertyName==="value"&&Dp(Pi)){var a=[];_s(a,Pi,s,eu(s)),vp(wh,a)}}function iM(s,a,u){s==="focusin"?(VT(),xn=a,Pi=u,xn.attachEvent("onpropertychange",LT)):s==="focusout"&&VT()}function sM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dp(Pi)}function aM(s,a){if(s==="click")return Dp(a)}function oM(s,a){if(s==="input"||s==="change")return Dp(a)}function lM(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var wr=typeof Object.is=="function"?Object.is:lM;function Th(s,a){if(wr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!lr.call(a,m)||!wr(s[m],a[m]))return!1}return!0}function UT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function BT(s,a){var u=UT(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=UT(u)}}function FT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?FT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function jT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Zl(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Zl(s.document)}return a}function O_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function uM(s,a){var u=jT(a);a=s.focusedElem;var h=s.selectionRange;if(u!==a&&a&&a.ownerDocument&&FT(a.ownerDocument.documentElement,a)){if(h!==null&&O_(a)){if(s=h.start,u=h.end,u===void 0&&(u=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(u,a.value.length);else if(u=(s=a.ownerDocument||document)&&s.defaultView||window,u.getSelection){u=u.getSelection();var m=a.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!u.extend&&y>h&&(m=h,h=y,y=m),m=BT(a,y);var A=BT(a,h);m&&A&&(u.rangeCount!==1||u.anchorNode!==m.node||u.anchorOffset!==m.offset||u.focusNode!==A.node||u.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),u.removeAllRanges(),y>h?(u.addRange(s),u.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),u.addRange(s)))}}for(s=[],u=a;u=u.parentNode;)u.nodeType===1&&s.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)u=s[a],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var cM=br&&"documentMode"in document&&11>=document.documentMode,uu=null,k_=null,Sh=null,D_=!1;function zT(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;D_||uu==null||uu!==Zl(h)||(h=uu,"selectionStart"in h&&O_(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sh&&Th(Sh,h)||(Sh=h,h=mm(k_,"onSelect"),0<h.length&&(a=new tu("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=uu)))}function jo(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var cu={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionrun:jo("Transition","TransitionRun"),transitionstart:jo("Transition","TransitionStart"),transitioncancel:jo("Transition","TransitionCancel"),transitionend:jo("Transition","TransitionEnd")},N_={},qT={};br&&(qT=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function zo(s){if(N_[s])return N_[s];if(!cu[s])return s;var a=cu[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in qT)return N_[s]=a[u];return s}var HT=zo("animationend"),$T=zo("animationiteration"),GT=zo("animationstart"),hM=zo("transitionrun"),dM=zo("transitionstart"),fM=zo("transitioncancel"),KT=zo("transitionend"),WT=new Map,YT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function hi(s,a){WT.set(s,a),Er(a,[s])}var $r=[],hu=0,M_=0;function Np(){for(var s=hu,a=M_=hu=0;a<s;){var u=$r[a];$r[a++]=null;var h=$r[a];$r[a++]=null;var m=$r[a];$r[a++]=null;var y=$r[a];if($r[a++]=null,h!==null&&m!==null){var A=h.pending;A===null?m.next=m:(m.next=A.next,A.next=m),h.pending=m}y!==0&&QT(u,m,y)}}function Mp(s,a,u,h){$r[hu++]=s,$r[hu++]=a,$r[hu++]=u,$r[hu++]=h,M_|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function V_(s,a,u,h){return Mp(s,a,u,h),Vp(s)}function wa(s,a){return Mp(s,null,null,a),Vp(s)}function QT(s,a,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var m=!1,y=s.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-Xn(u),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=u|536870912)}function Vp(s){if(50<Yh)throw Yh=0,zv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var du={},XT=new WeakMap;function Gr(s,a){if(typeof s=="object"&&s!==null){var u=XT.get(s);return u!==void 0?u:(a={value:s,source:a,stack:ie(a)},XT.set(s,a),a)}return{value:s,source:a,stack:ie(a)}}var fu=[],pu=0,Lp=null,Up=0,Kr=[],Wr=0,qo=null,vs=1,Es="";function Ho(s,a){fu[pu++]=Up,fu[pu++]=Lp,Lp=s,Up=a}function ZT(s,a,u){Kr[Wr++]=vs,Kr[Wr++]=Es,Kr[Wr++]=qo,qo=s;var h=vs;s=Es;var m=32-Xn(h)-1;h&=~(1<<m),u+=1;var y=32-Xn(a)+m;if(30<y){var A=m-m%5;y=(h&(1<<A)-1).toString(32),h>>=A,m-=A,vs=1<<32-Xn(a)+m|u<<m|h,Es=y+s}else vs=1<<y|u<<m|h,Es=s}function L_(s){s.return!==null&&(Ho(s,1),ZT(s,1,0))}function U_(s){for(;s===Lp;)Lp=fu[--pu],fu[pu]=null,Up=fu[--pu],fu[pu]=null;for(;s===qo;)qo=Kr[--Wr],Kr[Wr]=null,Es=Kr[--Wr],Kr[Wr]=null,vs=Kr[--Wr],Kr[Wr]=null}var er=null,Pn=null,et=!1,di=null,Oi=!1,B_=Error(r(519));function $o(s){var a=Error(r(418,""));throw Ih(Gr(a,s)),B_}function JT(s){var a=s.stateNode,u=s.type,h=s.memoizedProps;switch(a[vn]=s,a[hn]=h,u){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(u=0;u<Xh.length;u++)Ge(Xh[u],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),ko(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Oo(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),Ea(a,h.value,h.defaultValue,h.children),Oo(a)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||lR(a.textContent,u)?(h.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),h.onScroll!=null&&Ge("scroll",a),h.onScrollEnd!=null&&Ge("scrollend",a),h.onClick!=null&&(a.onclick=gm),a=!0):a=!1,a||$o(s)}function eS(s){for(er=s.return;er;)switch(er.tag){case 3:case 27:Oi=!0;return;case 5:case 13:Oi=!1;return;default:er=er.return}}function Ah(s){if(s!==er)return!1;if(!et)return eS(s),et=!0,!1;var a=!1,u;if((u=s.tag!==3&&s.tag!==27)&&((u=s.tag===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||s0(s.type,s.memoizedProps)),u=!u),u&&(a=!0),a&&Pn&&$o(s),eS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){Pn=pi(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}Pn=null}}else Pn=er?pi(s.stateNode.nextSibling):null;return!0}function Rh(){Pn=er=null,et=!1}function Ih(s){di===null?di=[s]:di.push(s)}var Ch=Error(r(460)),tS=Error(r(474)),F_={then:function(){}};function nS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Bp(){}function rS(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(Bp,Bp),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Ch?Error(r(483)):s;default:if(typeof a.status=="string")a.then(Bp,Bp);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Ch?Error(r(483)):s}throw xh=a,Ch}}var xh=null;function iS(){if(xh===null)throw Error(r(459));var s=xh;return xh=null,s}var mu=null,Ph=0;function Fp(s){var a=Ph;return Ph+=1,mu===null&&(mu=[]),rS(mu,s,a)}function Oh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function jp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function sS(s){var a=s._init;return a(s._payload)}function aS(s){function a(Y,G){if(s){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function u(Y,G){if(!s)return null;for(;G!==null;)a(Y,G),G=G.sibling;return null}function h(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function m(Y,G){return Y=Na(Y,G),Y.index=0,Y.sibling=null,Y}function y(Y,G,Z){return Y.index=Z,s?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=33554434,G):Z):(Y.flags|=33554434,G)):(Y.flags|=1048576,G)}function A(Y){return s&&Y.alternate===null&&(Y.flags|=33554434),Y}function D(Y,G,Z,he){return G===null||G.tag!==6?(G=Nv(Z,Y.mode,he),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function z(Y,G,Z,he){var Se=Z.type;return Se===d?ce(Y,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===L&&sS(Se)===G.type)?(G=m(G,Z.props),Oh(G,Z),G.return=Y,G):(G=sm(Z.type,Z.key,Z.props,null,Y.mode,he),Oh(G,Z),G.return=Y,G)}function K(Y,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Mv(Z,Y.mode,he),G.return=Y,G):(G=m(G,Z.children||[]),G.return=Y,G)}function ce(Y,G,Z,he,Se){return G===null||G.tag!==7?(G=tl(Z,Y.mode,he,Se),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function fe(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Nv(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return Z=sm(G.type,G.key,G.props,null,Y.mode,Z),Oh(Z,G),Z.return=Y,Z;case c:return G=Mv(G,Y.mode,Z),G.return=Y,G;case L:var he=G._init;return G=he(G._payload),fe(Y,G,Z)}if(ve(G)||$(G))return G=tl(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return fe(Y,Fp(G),Z);if(G.$$typeof===T)return fe(Y,nm(Y,G),Z);jp(Y,G)}return null}function J(Y,G,Z,he){var Se=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:D(Y,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return Z.key===Se?z(Y,G,Z,he):null;case c:return Z.key===Se?K(Y,G,Z,he):null;case L:return Se=Z._init,Z=Se(Z._payload),J(Y,G,Z,he)}if(ve(Z)||$(Z))return Se!==null?null:ce(Y,G,Z,he,null);if(typeof Z.then=="function")return J(Y,G,Fp(Z),he);if(Z.$$typeof===T)return J(Y,G,nm(Y,Z),he);jp(Y,Z)}return null}function le(Y,G,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Y=Y.get(Z)||null,D(G,Y,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return Y=Y.get(he.key===null?Z:he.key)||null,z(G,Y,he,Se);case c:return Y=Y.get(he.key===null?Z:he.key)||null,K(G,Y,he,Se);case L:var Be=he._init;return he=Be(he._payload),le(Y,G,Z,he,Se)}if(ve(he)||$(he))return Y=Y.get(Z)||null,ce(G,Y,he,Se,null);if(typeof he.then=="function")return le(Y,G,Z,Fp(he),Se);if(he.$$typeof===T)return le(Y,G,Z,nm(G,he),Se);jp(G,he)}return null}function Ie(Y,G,Z,he){for(var Se=null,Be=null,xe=G,Pe=G=0,Sn=null;xe!==null&&Pe<Z.length;Pe++){xe.index>Pe?(Sn=xe,xe=null):Sn=xe.sibling;var tt=J(Y,xe,Z[Pe],he);if(tt===null){xe===null&&(xe=Sn);break}s&&xe&&tt.alternate===null&&a(Y,xe),G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt,xe=Sn}if(Pe===Z.length)return u(Y,xe),et&&Ho(Y,Pe),Se;if(xe===null){for(;Pe<Z.length;Pe++)xe=fe(Y,Z[Pe],he),xe!==null&&(G=y(xe,G,Pe),Be===null?Se=xe:Be.sibling=xe,Be=xe);return et&&Ho(Y,Pe),Se}for(xe=h(xe);Pe<Z.length;Pe++)Sn=le(xe,Y,Pe,Z[Pe],he),Sn!==null&&(s&&Sn.alternate!==null&&xe.delete(Sn.key===null?Pe:Sn.key),G=y(Sn,G,Pe),Be===null?Se=Sn:Be.sibling=Sn,Be=Sn);return s&&xe.forEach(function(ja){return a(Y,ja)}),et&&Ho(Y,Pe),Se}function Ne(Y,G,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,Be=null,xe=G,Pe=G=0,Sn=null,tt=Z.next();xe!==null&&!tt.done;Pe++,tt=Z.next()){xe.index>Pe?(Sn=xe,xe=null):Sn=xe.sibling;var ja=J(Y,xe,tt.value,he);if(ja===null){xe===null&&(xe=Sn);break}s&&xe&&ja.alternate===null&&a(Y,xe),G=y(ja,G,Pe),Be===null?Se=ja:Be.sibling=ja,Be=ja,xe=Sn}if(tt.done)return u(Y,xe),et&&Ho(Y,Pe),Se;if(xe===null){for(;!tt.done;Pe++,tt=Z.next())tt=fe(Y,tt.value,he),tt!==null&&(G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return et&&Ho(Y,Pe),Se}for(xe=h(xe);!tt.done;Pe++,tt=Z.next())tt=le(xe,Y,Pe,tt.value,he),tt!==null&&(s&&tt.alternate!==null&&xe.delete(tt.key===null?Pe:tt.key),G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return s&&xe.forEach(function(IV){return a(Y,IV)}),et&&Ho(Y,Pe),Se}function zt(Y,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===d&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:e:{for(var Se=Z.key;G!==null;){if(G.key===Se){if(Se=Z.type,Se===d){if(G.tag===7){u(Y,G.sibling),he=m(G,Z.props.children),he.return=Y,Y=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===L&&sS(Se)===G.type){u(Y,G.sibling),he=m(G,Z.props),Oh(he,Z),he.return=Y,Y=he;break e}u(Y,G);break}else a(Y,G);G=G.sibling}Z.type===d?(he=tl(Z.props.children,Y.mode,he,Z.key),he.return=Y,Y=he):(he=sm(Z.type,Z.key,Z.props,null,Y.mode,he),Oh(he,Z),he.return=Y,Y=he)}return A(Y);case c:e:{for(Se=Z.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){u(Y,G.sibling),he=m(G,Z.children||[]),he.return=Y,Y=he;break e}else{u(Y,G);break}else a(Y,G);G=G.sibling}he=Mv(Z,Y.mode,he),he.return=Y,Y=he}return A(Y);case L:return Se=Z._init,Z=Se(Z._payload),zt(Y,G,Z,he)}if(ve(Z))return Ie(Y,G,Z,he);if($(Z)){if(Se=$(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Ne(Y,G,Z,he)}if(typeof Z.then=="function")return zt(Y,G,Fp(Z),he);if(Z.$$typeof===T)return zt(Y,G,nm(Y,Z),he);jp(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(u(Y,G.sibling),he=m(G,Z),he.return=Y,Y=he):(u(Y,G),he=Nv(Z,Y.mode,he),he.return=Y,Y=he),A(Y)):u(Y,G)}return function(Y,G,Z,he){try{Ph=0;var Se=zt(Y,G,Z,he);return mu=null,Se}catch(xe){if(xe===Ch)throw xe;var Be=Zr(29,xe,null,Y.mode);return Be.lanes=he,Be.return=Y,Be}finally{}}}var Go=aS(!0),oS=aS(!1),gu=ze(null),zp=ze(0);function lS(s,a){s=Os,$e(zp,s),$e(gu,a),Os=s|a.baseLanes}function j_(){$e(zp,Os),$e(gu,gu.current)}function z_(){Os=zp.current,_t(gu),_t(zp)}var Yr=ze(null),ki=null;function Ta(s){var a=s.alternate;$e(pn,pn.current&1),$e(Yr,s),ki===null&&(a===null||gu.current!==null||a.memoizedState!==null)&&(ki=s)}function uS(s){if(s.tag===22){if($e(pn,pn.current),$e(Yr,s),ki===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ki=s)}}else Sa()}function Sa(){$e(pn,pn.current),$e(Yr,Yr.current)}function bs(s){_t(Yr),ki===s&&(ki=null),_t(pn)}var pn=ze(0);function qp(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pM=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},mM=n.unstable_scheduleCallback,gM=n.unstable_NormalPriority,mn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function q_(){return{controller:new pM,data:new Map,refCount:0}}function kh(s){s.refCount--,s.refCount===0&&mM(gM,function(){s.controller.abort()})}var Dh=null,H_=0,yu=0,_u=null;function yM(s,a){if(Dh===null){var u=Dh=[];H_=0,yu=Qv(),_u={status:"pending",value:void 0,then:function(h){u.push(h)}}}return H_++,a.then(cS,cS),a}function cS(){if(--H_===0&&Dh!==null){_u!==null&&(_u.status="fulfilled");var s=Dh;Dh=null,yu=0,_u=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function _M(s,a){var u=[],h={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),h}var hS=I.S;I.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&yM(s,a),hS!==null&&hS(s,a)};var Ko=ze(null);function $_(){var s=Ko.current;return s!==null?s:mt.pooledCache}function Hp(s,a){a===null?$e(Ko,Ko.current):$e(Ko,a.pool)}function dS(){var s=$_();return s===null?null:{parent:mn._currentValue,pool:s}}var Aa=0,Ue=null,ut=null,tn=null,$p=!1,vu=!1,Wo=!1,Gp=0,Nh=0,Eu=null,vM=0;function Yt(){throw Error(r(321))}function G_(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!wr(s[u],a[u]))return!1;return!0}function K_(s,a,u,h,m,y){return Aa=y,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,I.H=s===null||s.memoizedState===null?Yo:Ra,Wo=!1,y=u(h,m),Wo=!1,vu&&(y=pS(a,u,h,m)),fS(s),y}function fS(s){I.H=Di;var a=ut!==null&&ut.next!==null;if(Aa=0,tn=ut=Ue=null,$p=!1,Nh=0,Eu=null,a)throw Error(r(300));s===null||wn||(s=s.dependencies,s!==null&&tm(s)&&(wn=!0))}function pS(s,a,u,h){Ue=s;var m=0;do{if(vu&&(Eu=null),Nh=0,vu=!1,25<=m)throw Error(r(301));if(m+=1,tn=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=Qo,y=a(u,h)}while(vu);return y}function EM(){var s=I.H,a=s.useState()[0];return a=typeof a.then=="function"?Mh(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ue.flags|=1024),a}function W_(){var s=Gp!==0;return Gp=0,s}function Y_(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function Q_(s){if($p){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}$p=!1}Aa=0,tn=ut=Ue=null,vu=!1,Nh=Gp=0,Eu=null}function hr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ue.memoizedState=tn=s:tn=tn.next=s,tn}function nn(){if(ut===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=tn===null?Ue.memoizedState:tn.next;if(a!==null)tn=a,ut=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},tn===null?Ue.memoizedState=tn=s:tn=tn.next=s}return tn}var Kp;Kp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Mh(s){var a=Nh;return Nh+=1,Eu===null&&(Eu=[]),s=rS(Eu,s,a),a=Ue,(tn===null?a.memoizedState:tn.next)===null&&(a=a.alternate,I.H=a===null||a.memoizedState===null?Yo:Ra),s}function Wp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Mh(s);if(s.$$typeof===T)return Fn(s)}throw Error(r(438,String(s)))}function X_(s){var a=null,u=Ue.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Ue.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Kp(),Ue.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),h=0;h<s;h++)u[h]=H;return a.index++,u}function ws(s,a){return typeof a=="function"?a(s):a}function Yp(s){var a=nn();return Z_(a,ut,s)}function Z_(s,a,u){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var m=s.baseQueue,y=h.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,h.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var D=A=null,z=null,K=a,ce=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Qe&fe)===fe:(Aa&fe)===fe){var J=K.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===yu&&(ce=!0);else if((Aa&J)===J){K=K.next,J===yu&&(ce=!0);continue}else fe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(D=z=fe,A=y):z=z.next=fe,Ue.lanes|=J,Ma|=J;fe=K.action,Wo&&u(y,fe),y=K.hasEagerState?K.eagerState:u(y,fe)}else J={lane:fe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(D=z=J,A=y):z=z.next=J,Ue.lanes|=fe,Ma|=fe;K=K.next}while(K!==null&&K!==a);if(z===null?A=y:z.next=D,!wr(y,s.memoizedState)&&(wn=!0,ce&&(u=_u,u!==null)))throw u;s.memoizedState=y,s.baseState=A,s.baseQueue=z,h.lastRenderedState=y}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function J_(s){var a=nn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,y=a.memoizedState;if(m!==null){u.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);wr(y,a.memoizedState)||(wn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,h]}function mS(s,a,u){var h=Ue,m=nn(),y=et;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=a();var A=!wr((ut||m).memoizedState,u);if(A&&(m.memoizedState=u,wn=!0),m=m.queue,nv(_S.bind(null,h,m,s),[s]),m.getSnapshot!==a||A||tn!==null&&tn.memoizedState.tag&1){if(h.flags|=2048,bu(9,yS.bind(null,h,m,u,a),{destroy:void 0},null),mt===null)throw Error(r(349));y||Aa&60||gS(h,a,u)}return u}function gS(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Ue.updateQueue,a===null?(a=Kp(),Ue.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function yS(s,a,u,h){a.value=u,a.getSnapshot=h,vS(a)&&ES(s)}function _S(s,a,u){return u(function(){vS(a)&&ES(s)})}function vS(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!wr(s,u)}catch{return!0}}function ES(s){var a=wa(s,2);a!==null&&tr(a,s,2)}function ev(s){var a=hr();if(typeof s=="function"){var u=s;if(s=u(),Wo){Ei(!0);try{u()}finally{Ei(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:s},a}function bS(s,a,u,h){return s.baseState=u,Z_(s,ut,typeof h=="function"?h:ws)}function bM(s,a,u,h,m){if(Zp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};I.T!==null?u(!0):y.isTransition=!1,h(y),u=a.pending,u===null?(y.next=a.pending=y,wS(a,y)):(y.next=u.next,a.pending=u.next=y)}}function wS(s,a){var u=a.action,h=a.payload,m=s.state;if(a.isTransition){var y=I.T,A={};I.T=A;try{var D=u(m,h),z=I.S;z!==null&&z(A,D),TS(s,a,D)}catch(K){tv(s,a,K)}finally{I.T=y}}else try{y=u(m,h),TS(s,a,y)}catch(K){tv(s,a,K)}}function TS(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){SS(s,a,h)},function(h){return tv(s,a,h)}):SS(s,a,u)}function SS(s,a,u){a.status="fulfilled",a.value=u,AS(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,wS(s,u)))}function tv(s,a,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,AS(a),a=a.next;while(a!==h)}s.action=null}function AS(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function RS(s,a){return a}function IS(s,a){if(et){var u=mt.formState;if(u!==null){e:{var h=Ue;if(et){if(Pn){t:{for(var m=Pn,y=Oi;m.nodeType!==8;){if(!y){m=null;break t}if(m=pi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Pn=pi(m.nextSibling),h=m.data==="F!";break e}}$o(h)}h=!1}h&&(a=u[0])}}return u=hr(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RS,lastRenderedState:a},u.queue=h,u=$S.bind(null,Ue,h),h.dispatch=u,h=ev(!1),y=ov.bind(null,Ue,!1,h.queue),h=hr(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,u=bM.bind(null,Ue,m,y,u),m.dispatch=u,h.memoizedState=s,[a,u,!1]}function CS(s){var a=nn();return xS(a,ut,s)}function xS(s,a,u){a=Z_(s,a,RS)[0],s=Yp(ws)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Mh(a):a;var h=nn(),m=h.queue,y=m.dispatch;return u!==h.memoizedState&&(Ue.flags|=2048,bu(9,wM.bind(null,m,u),{destroy:void 0},null)),[a,y,s]}function wM(s,a){s.action=a}function PS(s){var a=nn(),u=ut;if(u!==null)return xS(a,u,s);nn(),a=a.memoizedState,u=nn();var h=u.queue.dispatch;return u.memoizedState=s,[a,h,!1]}function bu(s,a,u,h){return s={tag:s,create:a,inst:u,deps:h,next:null},a=Ue.updateQueue,a===null&&(a=Kp(),Ue.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s),s}function OS(){return nn().memoizedState}function Qp(s,a,u,h){var m=hr();Ue.flags|=s,m.memoizedState=bu(1|a,u,{destroy:void 0},h===void 0?null:h)}function Xp(s,a,u,h){var m=nn();h=h===void 0?null:h;var y=m.memoizedState.inst;ut!==null&&h!==null&&G_(h,ut.memoizedState.deps)?m.memoizedState=bu(a,u,y,h):(Ue.flags|=s,m.memoizedState=bu(1|a,u,y,h))}function kS(s,a){Qp(8390656,8,s,a)}function nv(s,a){Xp(2048,8,s,a)}function DS(s,a){return Xp(4,2,s,a)}function NS(s,a){return Xp(4,4,s,a)}function MS(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function VS(s,a,u){u=u!=null?u.concat([s]):null,Xp(4,4,MS.bind(null,a,s),u)}function rv(){}function LS(s,a){var u=nn();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&G_(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function US(s,a){var u=nn();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&G_(a,h[1]))return h[0];if(h=s(),Wo){Ei(!0);try{s()}finally{Ei(!1)}}return u.memoizedState=[h,a],h}function iv(s,a,u){return u===void 0||Aa&1073741824?s.memoizedState=a:(s.memoizedState=u,s=FA(),Ue.lanes|=s,Ma|=s,u)}function BS(s,a,u,h){return wr(u,a)?u:gu.current!==null?(s=iv(s,u,h),wr(s,a)||(wn=!0),s):Aa&42?(s=FA(),Ue.lanes|=s,Ma|=s,a):(wn=!0,s.memoizedState=u)}function FS(s,a,u,h,m){var y=ye.p;ye.p=y!==0&&8>y?y:8;var A=I.T,D={};I.T=D,ov(s,!1,a,u);try{var z=m(),K=I.S;if(K!==null&&K(D,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=_M(z,h);Vh(s,a,ce,Rr(s))}else Vh(s,a,h,Rr(s))}catch(fe){Vh(s,a,{then:function(){},status:"rejected",reason:fe},Rr())}finally{ye.p=y,I.T=A}}function TM(){}function sv(s,a,u,h){if(s.tag!==5)throw Error(r(476));var m=jS(s).queue;FS(s,m,a,Oe,u===null?TM:function(){return zS(s),u(h)})}function jS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:Oe},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function zS(s){var a=jS(s).next.queue;Vh(s,a,{},Rr())}function av(){return Fn(nd)}function qS(){return nn().memoizedState}function HS(){return nn().memoizedState}function SM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Rr();s=xa(u);var h=Pa(a,s,u);h!==null&&(tr(h,a,u),Bh(h,a,u)),a={cache:q_()},s.payload=a;return}a=a.return}}function AM(s,a,u){var h=Rr();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Zp(s)?GS(a,u):(u=V_(s,a,u,h),u!==null&&(tr(u,s,h),KS(u,a,h)))}function $S(s,a,u){var h=Rr();Vh(s,a,u,h)}function Vh(s,a,u,h){var m={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zp(s))GS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,D=y(A,u);if(m.hasEagerState=!0,m.eagerState=D,wr(D,A))return Mp(s,a,m,0),mt===null&&Np(),!1}catch{}finally{}if(u=V_(s,a,m,h),u!==null)return tr(u,s,h),KS(u,a,h),!0}return!1}function ov(s,a,u,h){if(h={lane:2,revertLane:Qv(),action:h,hasEagerState:!1,eagerState:null,next:null},Zp(s)){if(a)throw Error(r(479))}else a=V_(s,u,h,2),a!==null&&tr(a,s,2)}function Zp(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function GS(s,a){vu=$p=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function KS(s,a,u){if(u&4194176){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,da(s,u)}}var Di={readContext:Fn,use:Wp,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};Di.useCacheRefresh=Yt,Di.useMemoCache=Yt,Di.useHostTransitionStatus=Yt,Di.useFormState=Yt,Di.useActionState=Yt,Di.useOptimistic=Yt;var Yo={readContext:Fn,use:Wp,useCallback:function(s,a){return hr().memoizedState=[s,a===void 0?null:a],s},useContext:Fn,useEffect:kS,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Qp(4194308,4,MS.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Qp(4194308,4,s,a)},useInsertionEffect:function(s,a){Qp(4,2,s,a)},useMemo:function(s,a){var u=hr();a=a===void 0?null:a;var h=s();if(Wo){Ei(!0);try{s()}finally{Ei(!1)}}return u.memoizedState=[h,a],h},useReducer:function(s,a,u){var h=hr();if(u!==void 0){var m=u(a);if(Wo){Ei(!0);try{u(a)}finally{Ei(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=AM.bind(null,Ue,s),[h.memoizedState,s]},useRef:function(s){var a=hr();return s={current:s},a.memoizedState=s},useState:function(s){s=ev(s);var a=s.queue,u=$S.bind(null,Ue,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:rv,useDeferredValue:function(s,a){var u=hr();return iv(u,s,a)},useTransition:function(){var s=ev(!1);return s=FS.bind(null,Ue,s.queue,!0,!1),hr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var h=Ue,m=hr();if(et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),mt===null)throw Error(r(349));Qe&60||gS(h,a,u)}m.memoizedState=u;var y={value:u,getSnapshot:a};return m.queue=y,kS(_S.bind(null,h,y,s),[s]),h.flags|=2048,bu(9,yS.bind(null,h,y,u,a),{destroy:void 0},null),u},useId:function(){var s=hr(),a=mt.identifierPrefix;if(et){var u=Es,h=vs;u=(h&~(1<<32-Xn(h)-1)).toString(32)+u,a=":"+a+"R"+u,u=Gp++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=vM++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return hr().memoizedState=SM.bind(null,Ue)}};Yo.useMemoCache=X_,Yo.useHostTransitionStatus=av,Yo.useFormState=IS,Yo.useActionState=IS,Yo.useOptimistic=function(s){var a=hr();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=ov.bind(null,Ue,!0,u),u.dispatch=a,[s,a]};var Ra={readContext:Fn,use:Wp,useCallback:LS,useContext:Fn,useEffect:nv,useImperativeHandle:VS,useInsertionEffect:DS,useLayoutEffect:NS,useMemo:US,useReducer:Yp,useRef:OS,useState:function(){return Yp(ws)},useDebugValue:rv,useDeferredValue:function(s,a){var u=nn();return BS(u,ut.memoizedState,s,a)},useTransition:function(){var s=Yp(ws)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:Mh(s),a]},useSyncExternalStore:mS,useId:qS};Ra.useCacheRefresh=HS,Ra.useMemoCache=X_,Ra.useHostTransitionStatus=av,Ra.useFormState=CS,Ra.useActionState=CS,Ra.useOptimistic=function(s,a){var u=nn();return bS(u,ut,s,a)};var Qo={readContext:Fn,use:Wp,useCallback:LS,useContext:Fn,useEffect:nv,useImperativeHandle:VS,useInsertionEffect:DS,useLayoutEffect:NS,useMemo:US,useReducer:J_,useRef:OS,useState:function(){return J_(ws)},useDebugValue:rv,useDeferredValue:function(s,a){var u=nn();return ut===null?iv(u,s,a):BS(u,ut.memoizedState,s,a)},useTransition:function(){var s=J_(ws)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:Mh(s),a]},useSyncExternalStore:mS,useId:qS};Qo.useCacheRefresh=HS,Qo.useMemoCache=X_,Qo.useHostTransitionStatus=av,Qo.useFormState=PS,Qo.useActionState=PS,Qo.useOptimistic=function(s,a){var u=nn();return ut!==null?bS(u,ut,s,a):(u.baseState=s,[s,u.queue.dispatch])};function lv(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:b({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var uv={isMounted:function(s){return(s=s._reactInternals)?ue(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var h=Rr(),m=xa(h);m.payload=a,u!=null&&(m.callback=u),a=Pa(s,m,h),a!==null&&(tr(a,s,h),Bh(a,s,h))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=Rr(),m=xa(h);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=Pa(s,m,h),a!==null&&(tr(a,s,h),Bh(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Rr(),h=xa(u);h.tag=2,a!=null&&(h.callback=a),a=Pa(s,h,u),a!==null&&(tr(a,s,u),Bh(a,s,u))}};function WS(s,a,u,h,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,A):a.prototype&&a.prototype.isPureReactComponent?!Th(u,h)||!Th(m,y):!0}function YS(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&uv.enqueueReplaceState(a,a.state,null)}function Xo(s,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(s=s.defaultProps){u===a&&(u=b({},u));for(var m in s)u[m]===void 0&&(u[m]=s[m])}return u}var Jp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function QS(s){Jp(s)}function XS(s){console.error(s)}function ZS(s){Jp(s)}function em(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function JS(s,a,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function cv(s,a,u){return u=xa(u),u.tag=3,u.payload={element:null},u.callback=function(){em(s,a)},u}function eA(s){return s=xa(s),s.tag=3,s}function tA(s,a,u,h){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;s.payload=function(){return m(y)},s.callback=function(){JS(a,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){JS(a,u,h),typeof m!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function RM(s,a,u,h,m){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&Uh(a,u,m,!0),u=Yr.current,u!==null){switch(u.tag){case 13:return ki===null?$v():u.alternate===null&&jt===0&&(jt=3),u.flags&=-257,u.flags|=65536,u.lanes=m,h===F_?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),Kv(s,h,m)),!1;case 22:return u.flags|=65536,h===F_?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),Kv(s,h,m)),!1}throw Error(r(435,u.tag))}return Kv(s,h,m),$v(),!1}if(et)return a=Yr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==B_&&(s=Error(r(422),{cause:h}),Ih(Gr(s,u)))):(h!==B_&&(a=Error(r(423),{cause:h}),Ih(Gr(a,u))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=Gr(h,u),m=cv(s.stateNode,h,m),Av(s,m),jt!==4&&(jt=2)),!1;var y=Error(r(520),{cause:h});if(y=Gr(y,u),Kh===null?Kh=[y]:Kh.push(y),jt!==4&&(jt=2),a===null)return!0;h=Gr(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=m&-m,u.lanes|=s,s=cv(u.stateNode,h,s),Av(u,s),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Va===null||!Va.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=eA(m),tA(m,s,u,h),Av(u,m),!1}u=u.return}while(u!==null);return!1}var nA=Error(r(461)),wn=!1;function On(s,a,u,h){a.child=s===null?oS(a,null,u,h):Go(a,s.child,u,h)}function rA(s,a,u,h,m){u=u.render;var y=a.ref;if("ref"in h){var A={};for(var D in h)D!=="ref"&&(A[D]=h[D])}else A=h;return Jo(a),h=K_(s,a,u,A,y,m),D=W_(),s!==null&&!wn?(Y_(s,a,m),Ts(s,a,m)):(et&&D&&L_(a),a.flags|=1,On(s,a,h,m),a.child)}function iA(s,a,u,h,m){if(s===null){var y=u.type;return typeof y=="function"&&!Dv(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,sA(s,a,y,h,m)):(s=sm(u.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!vv(s,m)){var A=y.memoizedProps;if(u=u.compare,u=u!==null?u:Th,u(A,h)&&s.ref===a.ref)return Ts(s,a,m)}return a.flags|=1,s=Na(y,h),s.ref=a.ref,s.return=a,a.child=s}function sA(s,a,u,h,m){if(s!==null){var y=s.memoizedProps;if(Th(y,h)&&s.ref===a.ref)if(wn=!1,a.pendingProps=h=y,vv(s,m))s.flags&131072&&(wn=!0);else return a.lanes=s.lanes,Ts(s,a,m)}return hv(s,a,u,h,m)}function aA(s,a,u){var h=a.pendingProps,m=h.children,y=(a.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(Lh(s,a),h.mode==="hidden"||y){if(a.flags&128){if(h=A!==null?A.baseLanes|u:u,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return oA(s,a,h,u)}if(u&536870912)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Hp(a,A!==null?A.cachePool:null),A!==null?lS(a,A):j_(),uS(a);else return a.lanes=a.childLanes=536870912,oA(s,a,A!==null?A.baseLanes|u:u,u)}else A!==null?(Hp(a,A.cachePool),lS(a,A),Sa(),a.memoizedState=null):(s!==null&&Hp(a,null),j_(),Sa());return On(s,a,m,u),a.child}function oA(s,a,u,h){var m=$_();return m=m===null?null:{parent:mn._currentValue,pool:m},a.memoizedState={baseLanes:u,cachePool:m},s!==null&&Hp(a,null),j_(),uS(a),s!==null&&Uh(s,a,h,!0),null}function Lh(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=2097664)}}function hv(s,a,u,h,m){return Jo(a),u=K_(s,a,u,h,void 0,m),h=W_(),s!==null&&!wn?(Y_(s,a,m),Ts(s,a,m)):(et&&h&&L_(a),a.flags|=1,On(s,a,u,m),a.child)}function lA(s,a,u,h,m,y){return Jo(a),a.updateQueue=null,u=pS(a,h,u,m),fS(s),h=W_(),s!==null&&!wn?(Y_(s,a,y),Ts(s,a,y)):(et&&h&&L_(a),a.flags|=1,On(s,a,u,y),a.child)}function uA(s,a,u,h,m){if(Jo(a),a.stateNode===null){var y=du,A=u.contextType;typeof A=="object"&&A!==null&&(y=Fn(A)),y=new u(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=uv,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Tv(a),A=u.contextType,y.context=typeof A=="object"&&A!==null?Fn(A):du,y.state=a.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(lv(a,u,A,h),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&uv.enqueueReplaceState(y,y.state,null),jh(a,h,y,m),Fh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var D=a.memoizedProps,z=Xo(u,D);y.props=z;var K=y.context,ce=u.contextType;A=du,typeof ce=="object"&&ce!==null&&(A=Fn(ce));var fe=u.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||K!==A)&&YS(a,y,h,A),Ca=!1;var J=a.memoizedState;y.state=J,jh(a,h,y,m),Fh(),K=a.memoizedState,D||J!==K||Ca?(typeof fe=="function"&&(lv(a,u,fe,h),K=a.memoizedState),(z=Ca||WS(a,u,z,h,J,K,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=K),y.props=h,y.state=K,y.context=A,h=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Sv(s,a),A=a.memoizedProps,ce=Xo(u,A),y.props=ce,fe=a.pendingProps,J=y.context,K=u.contextType,z=du,typeof K=="object"&&K!==null&&(z=Fn(K)),D=u.getDerivedStateFromProps,(K=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||J!==z)&&YS(a,y,h,z),Ca=!1,J=a.memoizedState,y.state=J,jh(a,h,y,m),Fh();var le=a.memoizedState;A!==fe||J!==le||Ca||s!==null&&s.dependencies!==null&&tm(s.dependencies)?(typeof D=="function"&&(lv(a,u,D,h),le=a.memoizedState),(ce=Ca||WS(a,u,ce,h,J,le,z)||s!==null&&s.dependencies!==null&&tm(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,le,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,le,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=le),y.props=h,y.state=le,y.context=z,h=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,Lh(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=Go(a,s.child,null,m),a.child=Go(a,null,u,m)):On(s,a,u,m),a.memoizedState=y.state,s=a.child):s=Ts(s,a,m),s}function cA(s,a,u,h){return Rh(),a.flags|=256,On(s,a,u,h),a.child}var dv={dehydrated:null,treeContext:null,retryLane:0};function fv(s){return{baseLanes:s,cachePool:dS()}}function pv(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Jr),s}function hA(s,a,u){var h=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(pn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?Ta(a):Sa(),et){var D=Pn,z;if(z=D){e:{for(z=D,D=Oi;z.nodeType!==8;){if(!D){D=null;break e}if(z=pi(z.nextSibling),z===null){D=null;break e}}D=z}D!==null?(a.memoizedState={dehydrated:D,treeContext:qo!==null?{id:vs,overflow:Es}:null,retryLane:536870912},z=Zr(18,null,null,0),z.stateNode=D,z.return=a,a.child=z,er=a,Pn=null,z=!0):z=!1}z||$o(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?a.lanes=16:a.lanes=536870912,null;bs(a)}return D=h.children,h=h.fallback,m?(Sa(),m=a.mode,D=gv({mode:"hidden",children:D},m),h=tl(h,m,u,null),D.return=a,h.return=a,D.sibling=h,a.child=D,m=a.child,m.memoizedState=fv(u),m.childLanes=pv(s,A,u),a.memoizedState=dv,h):(Ta(a),mv(a,D))}if(z=s.memoizedState,z!==null&&(D=z.dehydrated,D!==null)){if(y)a.flags&256?(Ta(a),a.flags&=-257,a=yv(s,a,u)):a.memoizedState!==null?(Sa(),a.child=s.child,a.flags|=128,a=null):(Sa(),m=h.fallback,D=a.mode,h=gv({mode:"visible",children:h.children},D),m=tl(m,D,u,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,Go(a,s.child,null,u),h=a.child,h.memoizedState=fv(u),h.childLanes=pv(s,A,u),a.memoizedState=dv,a=m);else if(Ta(a),D.data==="$!"){if(A=D.nextSibling&&D.nextSibling.dataset,A)var K=A.dgst;A=K,h=Error(r(419)),h.stack="",h.digest=A,Ih({value:h,source:null,stack:null}),a=yv(s,a,u)}else if(wn||Uh(s,a,u,!1),A=(u&s.childLanes)!==0,wn||A){if(A=mt,A!==null){if(h=u&-u,h&42)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=h&(A.suspendedLanes|u)?0:h,h!==0&&h!==z.retryLane)throw z.retryLane=h,wa(s,h),tr(A,s,h),nA}D.data==="$?"||$v(),a=yv(s,a,u)}else D.data==="$?"?(a.flags|=128,a.child=s.child,a=jM.bind(null,s),D._reactRetry=a,a=null):(s=z.treeContext,Pn=pi(D.nextSibling),er=a,et=!0,di=null,Oi=!1,s!==null&&(Kr[Wr++]=vs,Kr[Wr++]=Es,Kr[Wr++]=qo,vs=s.id,Es=s.overflow,qo=a),a=mv(a,h.children),a.flags|=4096);return a}return m?(Sa(),m=h.fallback,D=a.mode,z=s.child,K=z.sibling,h=Na(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&31457280,K!==null?m=Na(K,m):(m=tl(m,D,u,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,D=s.child.memoizedState,D===null?D=fv(u):(z=D.cachePool,z!==null?(K=mn._currentValue,z=z.parent!==K?{parent:K,pool:K}:z):z=dS(),D={baseLanes:D.baseLanes|u,cachePool:z}),m.memoizedState=D,m.childLanes=pv(s,A,u),a.memoizedState=dv,h):(Ta(a),u=s.child,s=u.sibling,u=Na(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=u,a.memoizedState=null,u)}function mv(s,a){return a=gv({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function gv(s,a){return LA(s,a,0,null)}function yv(s,a,u){return Go(a,s.child,null,u),s=mv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function dA(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),bv(s.return,a,u)}function _v(s,a,u,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=m)}function fA(s,a,u){var h=a.pendingProps,m=h.revealOrder,y=h.tail;if(On(s,a,h.children,u),h=pn.current,h&2)h=h&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dA(s,u,a);else if(s.tag===19)dA(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch($e(pn,h),m){case"forwards":for(u=a.child,m=null;u!==null;)s=u.alternate,s!==null&&qp(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),_v(a,!1,m,u,y);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&qp(s)===null){a.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}_v(a,!0,u,null,y);break;case"together":_v(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ts(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ma|=a.lanes,!(u&a.childLanes))if(s!==null){if(Uh(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Na(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Na(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function vv(s,a){return s.lanes&a?!0:(s=s.dependencies,!!(s!==null&&tm(s)))}function IM(s,a,u){switch(a.tag){case 3:vr(a,a.stateNode.containerInfo),Ia(a,mn,s.memoizedState.cache),Rh();break;case 27:case 5:Ur(a);break;case 4:vr(a,a.stateNode.containerInfo);break;case 10:Ia(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ta(a),a.flags|=128,null):u&a.child.childLanes?hA(s,a,u):(Ta(a),s=Ts(s,a,u),s!==null?s.sibling:null);Ta(a);break;case 19:var m=(s.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(Uh(s,a,u,!1),h=(u&a.childLanes)!==0),m){if(h)return fA(s,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(pn,pn.current),h)break;return null;case 22:case 23:return a.lanes=0,aA(s,a,u);case 24:Ia(a,mn,s.memoizedState.cache)}return Ts(s,a,u)}function pA(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)wn=!0;else{if(!vv(s,u)&&!(a.flags&128))return wn=!1,IM(s,a,u);wn=!!(s.flags&131072)}else wn=!1,et&&a.flags&1048576&&ZT(a,Up,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")Dv(h)?(s=Xo(h,s),a.tag=1,a=uA(null,a,h,s,u)):(a.tag=0,a=hv(null,a,h,s,u));else{if(h!=null){if(m=h.$$typeof,m===w){a.tag=11,a=rA(null,a,h,s,u);break e}else if(m===U){a.tag=14,a=iA(null,a,h,s,u);break e}}throw a=x(h)||h,Error(r(306,a,""))}}return a;case 0:return hv(s,a,a.type,a.pendingProps,u);case 1:return h=a.type,m=Xo(h,a.pendingProps),uA(s,a,h,m,u);case 3:e:{if(vr(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,h=m.element,Sv(s,a),jh(a,y,null,u);var A=a.memoizedState;if(y=A.cache,Ia(a,mn,y),y!==m.cache&&wv(a,[mn],u,!0),Fh(),y=A.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=cA(s,a,y,u);break e}else if(y!==h){h=Gr(Error(r(424)),a),Ih(h),a=cA(s,a,y,u);break e}else for(Pn=pi(a.stateNode.containerInfo.firstChild),er=a,et=!0,di=null,Oi=!0,u=oS(a,null,y,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Rh(),y===h){a=Ts(s,a,u);break e}On(s,a,y,u)}a=a.child}return a;case 26:return Lh(s,a),s===null?(u=yR(a.type,null,a.pendingProps,null))?a.memoizedState=u:et||(u=a.type,s=a.pendingProps,h=ym(at.current).createElement(u),h[vn]=a,h[hn]=s,kn(h,u,s),Pt(h),a.stateNode=h):a.memoizedState=yR(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ur(a),s===null&&et&&(h=a.stateNode=pR(a.type,a.pendingProps,at.current),er=a,Oi=!0,Pn=pi(h.firstChild)),h=a.pendingProps.children,s!==null||et?On(s,a,h,u):a.child=Go(a,null,h,u),Lh(s,a),a.child;case 5:return s===null&&et&&((m=h=Pn)&&(h=rV(h,a.type,a.pendingProps,Oi),h!==null?(a.stateNode=h,er=a,Pn=pi(h.firstChild),Oi=!1,m=!0):m=!1),m||$o(a)),Ur(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,h=y.children,s0(m,y)?h=null:A!==null&&s0(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=K_(s,a,EM,null,null,u),nd._currentValue=m),Lh(s,a),On(s,a,h,u),a.child;case 6:return s===null&&et&&((s=u=Pn)&&(u=iV(u,a.pendingProps,Oi),u!==null?(a.stateNode=u,er=a,Pn=null,s=!0):s=!1),s||$o(a)),null;case 13:return hA(s,a,u);case 4:return vr(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Go(a,null,h,u):On(s,a,h,u),a.child;case 11:return rA(s,a,a.type,a.pendingProps,u);case 7:return On(s,a,a.pendingProps,u),a.child;case 8:return On(s,a,a.pendingProps.children,u),a.child;case 12:return On(s,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,Ia(a,a.type,h.value),On(s,a,h.children,u),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Jo(a),m=Fn(m),h=h(m),a.flags|=1,On(s,a,h,u),a.child;case 14:return iA(s,a,a.type,a.pendingProps,u);case 15:return sA(s,a,a.type,a.pendingProps,u);case 19:return fA(s,a,u);case 22:return aA(s,a,u);case 24:return Jo(a),h=Fn(mn),s===null?(m=$_(),m===null&&(m=mt,y=q_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),a.memoizedState={parent:h,cache:m},Tv(a),Ia(a,mn,m)):(s.lanes&u&&(Sv(s,a),jh(a,null,null,u),Fh()),m=s.memoizedState,y=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ia(a,mn,h)):(h=y.cache,Ia(a,mn,h),h!==m.cache&&wv(a,[mn],u,!0))),On(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var Ev=ze(null),Zo=null,Ss=null;function Ia(s,a,u){$e(Ev,a._currentValue),a._currentValue=u}function As(s){s._currentValue=Ev.current,_t(Ev)}function bv(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function wv(s,a,u,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=m;for(var z=0;z<a.length;z++)if(D.context===a[z]){y.lanes|=u,D=y.alternate,D!==null&&(D.lanes|=u),bv(y.return,u,s),h||(A=null);break e}y=D.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=u,y=A.alternate,y!==null&&(y.lanes|=u),bv(A,u,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Uh(s,a,u,h){s=null;for(var m=a,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var D=m.type;wr(m.pendingProps.value,A.value)||(s!==null?s.push(D):s=[D])}}else if(m===en.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(nd):s=[nd])}m=m.return}s!==null&&wv(a,s,u,h),a.flags|=262144}function tm(s){for(s=s.firstContext;s!==null;){if(!wr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Jo(s){Zo=s,Ss=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Fn(s){return mA(Zo,s)}function nm(s,a){return Zo===null&&Jo(s),mA(s,a)}function mA(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Ss===null){if(s===null)throw Error(r(308));Ss=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Ss=Ss.next=a;return u}var Ca=!1;function Tv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Pa(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,kt&2){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Vp(s),QT(s,null,u),a}return Mp(s,h,a,u),Vp(s)}function Bh(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194176)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,da(s,u)}}function Av(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,u=u.next}while(u!==null);y===null?m=y=a:y=y.next=a}else m=y=a;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var Rv=!1;function Fh(){if(Rv){var s=_u;if(s!==null)throw s}}function jh(s,a,u,h){Rv=!1;var m=s.updateQueue;Ca=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var z=D,K=z.next;z.next=null,A===null?y=K:A.next=K,A=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==A&&(D===null?ce.firstBaseUpdate=K:D.next=K,ce.lastBaseUpdate=z))}if(y!==null){var fe=m.baseState;A=0,ce=K=z=null,D=y;do{var J=D.lane&-536870913,le=J!==D.lane;if(le?(Qe&J)===J:(h&J)===J){J!==0&&J===yu&&(Rv=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ie=s,Ne=D;J=a;var zt=u;switch(Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){fe=Ie.call(zt,fe,J);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,J=typeof Ie=="function"?Ie.call(zt,fe,J):Ie,J==null)break e;fe=b({},fe,J);break e;case 2:Ca=!0}}J=D.callback,J!==null&&(s.flags|=64,le&&(s.flags|=8192),le=m.callbacks,le===null?m.callbacks=[J]:le.push(J))}else le={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(K=ce=le,z=fe):ce=ce.next=le,A|=J;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;le=D,D=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ce===null&&(z=fe),m.baseState=z,m.firstBaseUpdate=K,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),Ma|=A,s.lanes=A,s.memoizedState=fe}}function gA(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function yA(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)gA(u[s],a)}function zh(s,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&s)===s){h=void 0;var y=u.create,A=u.inst;h=y(),A.destroy=h}u=u.next}while(u!==m)}}catch(D){dt(a,a.return,D)}}function Oa(s,a,u){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&s)===s){var A=h.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,m=a;var z=u;try{D()}catch(K){dt(m,z,K)}}}h=h.next}while(h!==y)}}catch(K){dt(a,a.return,K)}}function _A(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{yA(a,u)}catch(h){dt(s,s.return,h)}}}function vA(s,a,u){u.props=Xo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){dt(s,a,h)}}function el(s,a){try{var u=s.ref;if(u!==null){var h=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=h;break;default:m=h}typeof u=="function"?s.refCleanup=u(m):u.current=m}}catch(y){dt(s,a,y)}}function Tr(s,a){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(m){dt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){dt(s,a,m)}else u.current=null}function EA(s){var a=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(m){dt(s,s.return,m)}}function bA(s,a,u){try{var h=s.stateNode;ZM(h,s.type,u,a),h[hn]=a}catch(m){dt(s,s.return,m)}}function wA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Iv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cv(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=gm));else if(h!==4&&h!==27&&(s=s.child,s!==null))for(Cv(s,a,u),s=s.sibling;s!==null;)Cv(s,a,u),s=s.sibling}function rm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&h!==27&&(s=s.child,s!==null))for(rm(s,a,u),s=s.sibling;s!==null;)rm(s,a,u),s=s.sibling}var Rs=!1,Ft=!1,xv=!1,TA=typeof WeakSet=="function"?WeakSet:Set,Tn=null,SA=!1;function CM(s,a){if(s=s.containerInfo,r0=Tm,s=jT(s),O_(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var A=0,D=-1,z=-1,K=0,ce=0,fe=s,J=null;t:for(;;){for(var le;fe!==u||m!==0&&fe.nodeType!==3||(D=A+m),fe!==y||h!==0&&fe.nodeType!==3||(z=A+h),fe.nodeType===3&&(A+=fe.nodeValue.length),(le=fe.firstChild)!==null;)J=fe,fe=le;for(;;){if(fe===s)break t;if(J===u&&++K===m&&(D=A),J===y&&++ce===h&&(z=A),(le=fe.nextSibling)!==null)break;fe=J,J=fe.parentNode}fe=le}u=D===-1||z===-1?null:{start:D,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(i0={focusedElem:s,selectionRange:u},Tm=!1,Tn=a;Tn!==null;)if(a=Tn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Tn=s;else for(;Tn!==null;){switch(a=Tn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,u=a,m=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var Ie=Xo(u.type,m,u.elementType===u.type);s=h.getSnapshotBeforeUpdate(Ie,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){dt(u,u.return,Ne)}}break;case 3:if(s&1024){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)l0(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":l0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Tn=s;break}Tn=a.return}return Ie=SA,SA=!1,Ie}function AA(s,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Cs(s,u),h&4&&zh(5,u);break;case 1:if(Cs(s,u),h&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(D){dt(u,u.return,D)}else{var m=Xo(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(D){dt(u,u.return,D)}}h&64&&_A(u),h&512&&el(u,u.return);break;case 3:if(Cs(s,u),h&64&&(h=u.updateQueue,h!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{yA(h,s)}catch(D){dt(u,u.return,D)}}break;case 26:Cs(s,u),h&512&&el(u,u.return);break;case 27:case 5:Cs(s,u),a===null&&h&4&&EA(u),h&512&&el(u,u.return);break;case 12:Cs(s,u);break;case 13:Cs(s,u),h&4&&CA(s,u);break;case 22:if(m=u.memoizedState!==null||Rs,!m){a=a!==null&&a.memoizedState!==null||Ft;var y=Rs,A=Ft;Rs=m,(Ft=a)&&!A?ka(s,u,(u.subtreeFlags&8772)!==0):Cs(s,u),Rs=y,Ft=A}h&512&&(u.memoizedProps.mode==="manual"?el(u,u.return):Tr(u,u.return));break;default:Cs(s,u)}}function RA(s){var a=s.alternate;a!==null&&(s.alternate=null,RA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Po(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var rn=null,Sr=!1;function Is(s,a,u){for(u=u.child;u!==null;)IA(s,a,u),u=u.sibling}function IA(s,a,u){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(oa,u)}catch{}switch(u.tag){case 26:Ft||Tr(u,a),Is(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ft||Tr(u,a);var h=rn,m=Sr;for(rn=u.stateNode,Is(s,a,u),u=u.stateNode,a=u.attributes;a.length;)u.removeAttributeNode(a[0]);Po(u),rn=h,Sr=m;break;case 5:Ft||Tr(u,a);case 6:m=rn;var y=Sr;if(rn=null,Is(s,a,u),rn=m,Sr=y,rn!==null)if(Sr)try{s=rn,h=u.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)}catch(A){dt(u,a,A)}else try{rn.removeChild(u.stateNode)}catch(A){dt(u,a,A)}break;case 18:rn!==null&&(Sr?(a=rn,u=u.stateNode,a.nodeType===8?o0(a.parentNode,u):a.nodeType===1&&o0(a,u),ad(a)):o0(rn,u.stateNode));break;case 4:h=rn,m=Sr,rn=u.stateNode.containerInfo,Sr=!0,Is(s,a,u),rn=h,Sr=m;break;case 0:case 11:case 14:case 15:Ft||Oa(2,u,a),Ft||Oa(4,u,a),Is(s,a,u);break;case 1:Ft||(Tr(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&vA(u,a,h)),Is(s,a,u);break;case 21:Is(s,a,u);break;case 22:Ft||Tr(u,a),Ft=(h=Ft)||u.memoizedState!==null,Is(s,a,u),Ft=h;break;default:Is(s,a,u)}}function CA(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ad(s)}catch(u){dt(a,a.return,u)}}function xM(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new TA),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new TA),a;default:throw Error(r(435,s.tag))}}function Pv(s,a){var u=xM(s);a.forEach(function(h){var m=zM.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}function Qr(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h],y=s,A=a,D=A;e:for(;D!==null;){switch(D.tag){case 27:case 5:rn=D.stateNode,Sr=!1;break e;case 3:rn=D.stateNode.containerInfo,Sr=!0;break e;case 4:rn=D.stateNode.containerInfo,Sr=!0;break e}D=D.return}if(rn===null)throw Error(r(160));IA(y,A,m),rn=null,Sr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)xA(a,s),a=a.sibling}var fi=null;function xA(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qr(a,s),Xr(s),h&4&&(Oa(3,s,s.return),zh(3,s),Oa(5,s,s.return));break;case 1:Qr(a,s),Xr(s),h&512&&(Ft||u===null||Tr(u,u.return)),h&64&&Rs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var m=fi;if(Qr(a,s),Xr(s),h&512&&(Ft||u===null||Tr(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[pa]||y[vn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),kn(y,h,u),y[vn]=s,Pt(y),h=y;break e;case"link":var A=ER("link","href",m).get(h+(u.href||""));if(A){for(var D=0;D<A.length;D++)if(y=A[D],y.getAttribute("href")===(u.href==null?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(D,1);break t}}y=m.createElement(h),kn(y,h,u),m.head.appendChild(y);break;case"meta":if(A=ER("meta","content",m).get(h+(u.content||""))){for(D=0;D<A.length;D++)if(y=A[D],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(D,1);break t}}y=m.createElement(h),kn(y,h,u),m.head.appendChild(y);break;default:throw Error(r(468,h))}y[vn]=s,Pt(y),h=y}s.stateNode=h}else bR(m,s.type,s.stateNode);else s.stateNode=vR(m,h,s.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?bR(m,s.type,s.stateNode):vR(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&bA(s,s.memoizedProps,u.memoizedProps)}break;case 27:if(h&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var z=m.firstChild;z;){var K=z.nextSibling,ce=z.nodeName;z[pa]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&z.rel.toLowerCase()==="stylesheet"||m.removeChild(z),z=K}for(var fe=s.type,J=m.attributes;J.length;)m.removeAttributeNode(J[0]);kn(m,fe,y),m[vn]=s,m[hn]=y}catch(Ie){dt(s,s.return,Ie)}}case 5:if(Qr(a,s),Xr(s),h&512&&(Ft||u===null||Tr(u,u.return)),s.flags&32){m=s.stateNode;try{jr(m,"")}catch(Ie){dt(s,s.return,Ie)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,bA(s,m,u!==null?u.memoizedProps:m)),h&1024&&(xv=!0);break;case 6:if(Qr(a,s),Xr(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(Ie){dt(s,s.return,Ie)}}break;case 3:if(Em=null,m=fi,fi=_m(a.containerInfo),Qr(a,s),fi=m,Xr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ad(a.containerInfo)}catch(Ie){dt(s,s.return,Ie)}xv&&(xv=!1,PA(s));break;case 4:h=fi,fi=_m(s.stateNode.containerInfo),Qr(a,s),Xr(s),fi=h;break;case 12:Qr(a,s),Xr(s);break;case 13:Qr(a,s),Xr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Bv=ur()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Pv(s,h)));break;case 22:if(h&512&&(Ft||u===null||Tr(u,u.return)),z=s.memoizedState!==null,K=u!==null&&u.memoizedState!==null,ce=Rs,fe=Ft,Rs=ce||z,Ft=fe||K,Qr(a,s),Ft=fe,Rs=ce,Xr(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,h&8192&&(a._visibility=z?a._visibility&-2:a._visibility|1,z&&(a=Rs||Ft,u===null||K||a||wu(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(u=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(u===null){K=u=a;try{if(m=K.stateNode,z)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode,D=K.memoizedProps.style;var le=D!=null&&D.hasOwnProperty("display")?D.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ie){dt(K,K.return,Ie)}}}else if(a.tag===6){if(u===null){K=a;try{K.stateNode.nodeValue=z?"":K.memoizedProps}catch(Ie){dt(K,K.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Pv(s,u))));break;case 19:Qr(a,s),Xr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Pv(s,h)));break;case 21:break;default:Qr(a,s),Xr(s)}}function Xr(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var u=s.return;u!==null;){if(wA(u)){var h=u;break e}u=u.return}throw Error(r(160))}switch(h.tag){case 27:var m=h.stateNode,y=Iv(s);rm(s,y,m);break;case 5:var A=h.stateNode;h.flags&32&&(jr(A,""),h.flags&=-33);var D=Iv(s);rm(s,D,A);break;case 3:case 4:var z=h.stateNode.containerInfo,K=Iv(s);Cv(s,K,z);break;default:throw Error(r(161))}}}catch(ce){dt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function PA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;PA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Cs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)AA(s,a.alternate,a),a=a.sibling}function wu(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Oa(4,a,a.return),wu(a);break;case 1:Tr(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&vA(a,a.return,u),wu(a);break;case 26:case 27:case 5:Tr(a,a.return),wu(a);break;case 22:Tr(a,a.return),a.memoizedState===null&&wu(a);break;default:wu(a)}s=s.sibling}}function ka(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:ka(m,y,u),zh(4,y);break;case 1:if(ka(m,y,u),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){dt(h,h.return,K)}if(h=y,m=h.updateQueue,m!==null){var D=h.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)gA(z[m],D)}catch(K){dt(h,h.return,K)}}u&&A&64&&_A(y),el(y,y.return);break;case 26:case 27:case 5:ka(m,y,u),u&&h===null&&A&4&&EA(y),el(y,y.return);break;case 12:ka(m,y,u);break;case 13:ka(m,y,u),u&&A&4&&CA(m,y);break;case 22:y.memoizedState===null&&ka(m,y,u),el(y,y.return);break;default:ka(m,y,u)}a=a.sibling}}function Ov(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&kh(u))}function kv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&kh(s))}function Da(s,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)OA(s,a,u,h),a=a.sibling}function OA(s,a,u,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Da(s,a,u,h),m&2048&&zh(9,a);break;case 3:Da(s,a,u,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&kh(s)));break;case 12:if(m&2048){Da(s,a,u,h),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,D=y.onPostCommit;typeof D=="function"&&D(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){dt(a,a.return,z)}}else Da(s,a,u,h);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Da(s,a,u,h):qh(s,a):y._visibility&4?Da(s,a,u,h):(y._visibility|=4,Tu(s,a,u,h,(a.subtreeFlags&10256)!==0)),m&2048&&Ov(a.alternate,a);break;case 24:Da(s,a,u,h),m&2048&&kv(a.alternate,a);break;default:Da(s,a,u,h)}}function Tu(s,a,u,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,D=u,z=h,K=A.flags;switch(A.tag){case 0:case 11:case 15:Tu(y,A,D,z,m),zh(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?Tu(y,A,D,z,m):qh(y,A):(ce._visibility|=4,Tu(y,A,D,z,m)),m&&K&2048&&Ov(A.alternate,A);break;case 24:Tu(y,A,D,z,m),m&&K&2048&&kv(A.alternate,A);break;default:Tu(y,A,D,z,m)}a=a.sibling}}function qh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,h=a,m=h.flags;switch(h.tag){case 22:qh(u,h),m&2048&&Ov(h.alternate,h);break;case 24:qh(u,h),m&2048&&kv(h.alternate,h);break;default:qh(u,h)}a=a.sibling}}var Hh=8192;function Su(s){if(s.subtreeFlags&Hh)for(s=s.child;s!==null;)kA(s),s=s.sibling}function kA(s){switch(s.tag){case 26:Su(s),s.flags&Hh&&s.memoizedState!==null&&yV(fi,s.memoizedState,s.memoizedProps);break;case 5:Su(s);break;case 3:case 4:var a=fi;fi=_m(s.stateNode.containerInfo),Su(s),fi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Hh,Hh=16777216,Su(s),Hh=a):Su(s));break;default:Su(s)}}function DA(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function $h(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Tn=h,MA(h,s)}DA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)NA(s),s=s.sibling}function NA(s){switch(s.tag){case 0:case 11:case 15:$h(s),s.flags&2048&&Oa(9,s,s.return);break;case 3:$h(s);break;case 12:$h(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,im(s)):$h(s);break;default:$h(s)}}function im(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Tn=h,MA(h,s)}DA(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Oa(8,a,a.return),im(a);break;case 22:u=a.stateNode,u._visibility&4&&(u._visibility&=-5,im(a));break;default:im(a)}s=s.sibling}}function MA(s,a){for(;Tn!==null;){var u=Tn;switch(u.tag){case 0:case 11:case 15:Oa(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:kh(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Tn=h;else e:for(u=s;Tn!==null;){h=Tn;var m=h.sibling,y=h.return;if(RA(h),h===u){Tn=null;break e}if(m!==null){m.return=y,Tn=m;break e}Tn=y}}}function PM(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(s,a,u,h){return new PM(s,a,u,h)}function Dv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Na(s,a){var u=s.alternate;return u===null?(u=Zr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&31457280,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function VA(s,a){s.flags&=31457282;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function sm(s,a,u,h,m,y){var A=0;if(h=s,typeof s=="function")Dv(s)&&(A=1);else if(typeof s=="string")A=mV(s,u,wt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return tl(u.children,m,y,a);case f:A=8,m|=24;break;case g:return s=Zr(12,u,a,m|2),s.elementType=g,s.lanes=y,s;case R:return s=Zr(13,u,a,m),s.elementType=R,s.lanes=y,s;case C:return s=Zr(19,u,a,m),s.elementType=C,s.lanes=y,s;case B:return LA(u,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case T:A=10;break e;case v:A=9;break e;case w:A=11;break e;case U:A=14;break e;case L:A=16,h=null;break e}A=29,u=Error(r(130,s===null?"null":typeof s,"")),h=null}return a=Zr(A,u,a,m),a.elementType=s,a.type=h,a.lanes=y,a}function tl(s,a,u,h){return s=Zr(7,s,h,a),s.lanes=u,s}function LA(s,a,u,h){s=Zr(22,s,h,a),s.elementType=B,s.lanes=u;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var A=wa(y,2);A!==null&&(m._pendingVisibility|=2,tr(A,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if(m._pendingVisibility&2){var A=wa(y,2);A!==null&&(m._pendingVisibility&=-3,tr(A,y,2))}}};return s.stateNode=m,s}function Nv(s,a,u){return s=Zr(6,s,null,a),s.lanes=u,s}function Mv(s,a,u){return a=Zr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function xs(s){s.flags|=4}function UA(s,a){if(a.type!=="stylesheet"||a.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!wR(a)){if(a=Yr.current,a!==null&&((Qe&4194176)===Qe?ki!==null:(Qe&62914560)!==Qe&&!(Qe&536870912)||a!==ki))throw xh=F_,tS;s.flags|=8192}}function am(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ca():536870912,s.lanes|=a,Ru|=a)}function Gh(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ot(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&31457280,h|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function OM(s,a,u){var h=a.pendingProps;switch(U_(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(a),null;case 1:return Ot(a),null;case 3:return u=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),As(mn),Ln(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Ah(a)?xs(a):s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,di!==null&&(qv(di),di=null))),Ot(a),null;case 26:return u=a.memoizedState,s===null?(xs(a),u!==null?(Ot(a),UA(a,u)):(Ot(a),a.flags&=-16777217)):u?u!==s.memoizedState?(xs(a),Ot(a),UA(a,u)):(Ot(a),a.flags&=-16777217):(s.memoizedProps!==h&&xs(a),Ot(a),a.flags&=-16777217),null;case 27:Un(a),u=at.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&xs(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Ot(a),null}s=wt.current,Ah(a)?JT(a):(s=pR(m,h,u),a.stateNode=s,xs(a))}return Ot(a),null;case 5:if(Un(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&xs(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Ot(a),null}if(s=wt.current,Ah(a))JT(a);else{switch(m=ym(at.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?m.createElement(u,{is:h.is}):m.createElement(u)}}s[vn]=a,s[hn]=h;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(kn(s,u,h),u){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&xs(a)}}return Ot(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&xs(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(s=at.current,Ah(a)){if(s=a.stateNode,u=a.memoizedProps,h=null,m=er,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[vn]=a,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||lR(s.nodeValue,u)),s||$o(a)}else s=ym(s).createTextNode(h),s[vn]=a,a.stateNode=s}return Ot(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Ah(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[vn]=a}else Rh(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Ot(a),m=!1}else di!==null&&(qv(di),di=null),m=!0;if(!m)return a.flags&256?(bs(a),a):(bs(a),null)}if(bs(a),a.flags&128)return a.lanes=u,a;if(u=h!==null,s=s!==null&&s.memoizedState!==null,u){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),am(a,a.updateQueue),Ot(a),null;case 4:return Ln(),s===null&&e0(a.stateNode.containerInfo),Ot(a),null;case 10:return As(a.type),Ot(a),null;case 19:if(_t(pn),m=a.memoizedState,m===null)return Ot(a),null;if(h=(a.flags&128)!==0,y=m.rendering,y===null)if(h)Gh(m,!1);else{if(jt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(y=qp(s),y!==null){for(a.flags|=128,Gh(m,!1),s=y.updateQueue,a.updateQueue=s,am(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)VA(u,s),u=u.sibling;return $e(pn,pn.current&1|2),a.child}s=s.sibling}m.tail!==null&&ur()>om&&(a.flags|=128,h=!0,Gh(m,!1),a.lanes=4194304)}else{if(!h)if(s=qp(y),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,am(a,s),Gh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Ot(a),null}else 2*ur()-m.renderingStartTime>om&&u!==536870912&&(a.flags|=128,h=!0,Gh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ur(),a.sibling=null,s=pn.current,$e(pn,h?s&1|2:s&1),a):(Ot(a),null);case 22:case 23:return bs(a),z_(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?u&536870912&&!(a.flags&128)&&(Ot(a),a.subtreeFlags&6&&(a.flags|=8192)):Ot(a),u=a.updateQueue,u!==null&&am(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),s!==null&&_t(Ko),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),As(mn),Ot(a),null;case 25:return null}throw Error(r(156,a.tag))}function kM(s,a){switch(U_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return As(mn),Ln(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Un(a),null;case 13:if(bs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Rh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(pn),null;case 4:return Ln(),null;case 10:return As(a.type),null;case 22:case 23:return bs(a),z_(),s!==null&&_t(Ko),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return As(mn),null;case 25:return null;default:return null}}function BA(s,a){switch(U_(a),a.tag){case 3:As(mn),Ln();break;case 26:case 27:case 5:Un(a);break;case 4:Ln();break;case 13:bs(a);break;case 19:_t(pn);break;case 10:As(a.type);break;case 22:case 23:bs(a),z_(),s!==null&&_t(Ko);break;case 24:As(mn)}}var DM={getCacheForType:function(s){var a=Fn(mn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},NM=typeof WeakMap=="function"?WeakMap:Map,kt=0,mt=null,Fe=null,Qe=0,gt=0,Ar=null,Ps=!1,Au=!1,Vv=!1,Os=0,jt=0,Ma=0,nl=0,Lv=0,Jr=0,Ru=0,Kh=null,Ni=null,Uv=!1,Bv=0,om=1/0,lm=null,Va=null,um=!1,rl=null,Wh=0,Fv=0,jv=null,Yh=0,zv=null;function Rr(){if(kt&2&&Qe!==0)return Qe&-Qe;if(I.T!==null){var s=yu;return s!==0?s:Qv()}return mp()}function FA(){Jr===0&&(Jr=!(Qe&536870912)||et?oh():536870912);var s=Yr.current;return s!==null&&(s.flags|=32),Jr}function tr(s,a,u){(s===mt&&gt===2||s.cancelPendingCommit!==null)&&(Iu(s,0),ks(s,Qe,Jr,!1)),Wt(s,u),(!(kt&2)||s!==mt)&&(s===mt&&(!(kt&2)&&(nl|=u),jt===4&&ks(s,Qe,Jr,!1)),Mi(s))}function jA(s,a,u){if(kt&6)throw Error(r(327));var h=!u&&(a&60)===0&&(a&s.expiredLanes)===0||ua(s,a),m=h?LM(s,a):Gv(s,a,!0),y=h;do{if(m===0){Au&&!h&&ks(s,a,0,!1);break}else if(m===6)ks(s,a,0,!Ps);else{if(u=s.current.alternate,y&&!MM(u)){m=Gv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var D=s;m=Kh;var z=D.current.memoizedState.isDehydrated;if(z&&(Iu(D,A).flags|=256),A=Gv(D,A,!1),A!==2){if(Vv&&!z){D.errorRecoveryDisabledLanes|=y,nl|=y,m=4;break e}y=Ni,Ni=m,y!==null&&qv(y)}m=A}if(y=!1,m!==2)continue}}if(m===1){Iu(s,0),ks(s,a,0,!0);break}e:{switch(h=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){ks(h,a,Jr,!Ps);break e}break;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=u,h.finishedLanes=a,(a&62914560)===a&&(y=Bv+300-ur(),10<y)){if(ks(h,a,Jr,!Ps),Br(h,0)!==0)break e;h.timeoutHandle=hR(zA.bind(null,h,u,Ni,lm,Uv,a,Jr,nl,Ru,Ps,2,-0,0),y);break e}zA(h,u,Ni,lm,Uv,a,Jr,nl,Ru,Ps,0,-0,0)}}break}while(!0);Mi(s)}function qv(s){Ni===null?Ni=s:Ni.push.apply(Ni,s)}function zA(s,a,u,h,m,y,A,D,z,K,ce,fe,J){var le=a.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(td={stylesheets:null,count:0,unsuspend:gV},kA(a),a=_V(),a!==null)){s.cancelPendingCommit=a(YA.bind(null,s,u,h,m,A,D,z,1,fe,J)),ks(s,y,A,!K);return}YA(s,u,h,m,A,D,z,ce,fe,J)}function MM(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var m=u[h],y=m.getSnapshot;m=m.value;try{if(!wr(y(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ks(s,a,u,h){a&=~Lv,a&=~nl,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var y=31-Xn(m),A=1<<y;h[y]=-1,m&=~A}u!==0&&ha(s,u,a)}function cm(){return kt&6?!0:(Qh(0),!1)}function Hv(){if(Fe!==null){if(gt===0)var s=Fe.return;else s=Fe,Ss=Zo=null,Q_(s),mu=null,Ph=0,s=Fe;for(;s!==null;)BA(s.alternate,s),s=s.return;Fe=null}}function Iu(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,eV(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Hv(),mt=s,Fe=u=Na(s.current,null),Qe=a,gt=0,Ar=null,Ps=!1,Au=ua(s,a),Vv=!1,Ru=Jr=Lv=nl=Ma=jt=0,Ni=Kh=null,Uv=!1,a&8&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-Xn(h),y=1<<m;a|=s[m],h&=~y}return Os=a,Np(),u}function qA(s,a){Ue=null,I.H=Di,a===Ch?(a=iS(),gt=3):a===tS?(a=iS(),gt=4):gt=a===nA?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ar=a,Fe===null&&(jt=1,em(s,Gr(a,s.current)))}function HA(){var s=I.H;return I.H=Di,s===null?Di:s}function $A(){var s=I.A;return I.A=DM,s}function $v(){jt=4,Ps||(Qe&4194176)!==Qe&&Yr.current!==null||(Au=!0),!(Ma&134217727)&&!(nl&134217727)||mt===null||ks(mt,Qe,Jr,!1)}function Gv(s,a,u){var h=kt;kt|=2;var m=HA(),y=$A();(mt!==s||Qe!==a)&&(lm=null,Iu(s,a)),a=!1;var A=jt;e:do try{if(gt!==0&&Fe!==null){var D=Fe,z=Ar;switch(gt){case 8:Hv(),A=6;break e;case 3:case 2:case 6:Yr.current===null&&(a=!0);var K=gt;if(gt=0,Ar=null,Cu(s,D,z,K),u&&Au){A=0;break e}break;default:K=gt,gt=0,Ar=null,Cu(s,D,z,K)}}VM(),A=jt;break}catch(ce){qA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,Ss=Zo=null,kt=h,I.H=m,I.A=y,Fe===null&&(mt=null,Qe=0,Np()),A}function VM(){for(;Fe!==null;)GA(Fe)}function LM(s,a){var u=kt;kt|=2;var h=HA(),m=$A();mt!==s||Qe!==a?(lm=null,om=ur()+500,Iu(s,a)):Au=ua(s,a);e:do try{if(gt!==0&&Fe!==null){a=Fe;var y=Ar;t:switch(gt){case 1:gt=0,Ar=null,Cu(s,a,y,1);break;case 2:if(nS(y)){gt=0,Ar=null,KA(a);break}a=function(){gt===2&&mt===s&&(gt=7),Mi(s)},y.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:nS(y)?(gt=0,Ar=null,KA(a)):(gt=0,Ar=null,Cu(s,a,y,7));break;case 5:var A=null;switch(Fe.tag){case 26:A=Fe.memoizedState;case 5:case 27:var D=Fe;if(!A||wR(A)){gt=0,Ar=null;var z=D.sibling;if(z!==null)Fe=z;else{var K=D.return;K!==null?(Fe=K,hm(K)):Fe=null}break t}}gt=0,Ar=null,Cu(s,a,y,5);break;case 6:gt=0,Ar=null,Cu(s,a,y,6);break;case 8:Hv(),jt=6;break e;default:throw Error(r(462))}}UM();break}catch(ce){qA(s,ce)}while(!0);return Ss=Zo=null,I.H=h,I.A=m,kt=u,Fe!==null?0:(mt=null,Qe=0,Np(),jt)}function UM(){for(;Fe!==null&&!E_();)GA(Fe)}function GA(s){var a=pA(s.alternate,s,Os);s.memoizedProps=s.pendingProps,a===null?hm(s):Fe=a}function KA(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=lA(u,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=lA(u,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:Q_(a);default:BA(u,a),a=Fe=VA(a,Os),a=pA(u,a,Os)}s.memoizedProps=s.pendingProps,a===null?hm(s):Fe=a}function Cu(s,a,u,h){Ss=Zo=null,Q_(a),mu=null,Ph=0;var m=a.return;try{if(RM(s,m,a,u,Qe)){jt=1,em(s,Gr(u,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;jt=1,em(s,Gr(u,s.current)),Fe=null;return}a.flags&32768?(et||h===1?s=!0:Au||Qe&536870912?s=!1:(Ps=s=!0,(h===2||h===3||h===6)&&(h=Yr.current,h!==null&&h.tag===13&&(h.flags|=16384))),WA(a,s)):hm(a)}function hm(s){var a=s;do{if(a.flags&32768){WA(a,Ps);return}s=a.return;var u=OM(a.alternate,a,Os);if(u!==null){Fe=u;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=s}while(a!==null);jt===0&&(jt=5)}function WA(s,a){do{var u=kM(s.alternate,s);if(u!==null){u.flags&=32767,Fe=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=u}while(s!==null);jt=6,Fe=null}function YA(s,a,u,h,m,y,A,D,z,K){var ce=I.T,fe=ye.p;try{ye.p=2,I.T=null,BM(s,a,u,h,fe,m,y,A,D,z,K)}finally{I.T=ce,ye.p=fe}}function BM(s,a,u,h,m,y,A,D){do xu();while(rl!==null);if(kt&6)throw Error(r(327));var z=s.finishedWork;if(h=s.finishedLanes,z===null)return null;if(s.finishedWork=null,s.finishedLanes=0,z===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var K=z.lanes|z.childLanes;if(K|=M_,fp(s,h,K,y,A,D),s===mt&&(Fe=mt=null,Qe=0),!(z.subtreeFlags&10256)&&!(z.flags&10256)||um||(um=!0,Fv=K,jv=u,qM(us,function(){return xu(),null})),u=(z.flags&15990)!==0,z.subtreeFlags&15990||u?(u=I.T,I.T=null,y=ye.p,ye.p=2,A=kt,kt|=4,CM(s,z),xA(z,s),uM(i0,s.containerInfo),Tm=!!r0,i0=r0=null,s.current=z,AA(s,z.alternate,z),rh(),kt=A,ye.p=y,I.T=u):s.current=z,um?(um=!1,rl=s,Wh=h):QA(s,K),K=s.pendingLanes,K===0&&(Va=null),sh(z.stateNode),Mi(s),a!==null)for(m=s.onRecoverableError,z=0;z<a.length;z++)K=a[z],m(K.value,{componentStack:K.stack});return Wh&3&&xu(),K=s.pendingLanes,h&4194218&&K&42?s===zv?Yh++:(Yh=0,zv=s):Yh=0,Qh(0),null}function QA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,kh(a)))}function xu(){if(rl!==null){var s=rl,a=Fv;Fv=0;var u=pp(Wh),h=I.T,m=ye.p;try{if(ye.p=32>u?32:u,I.T=null,rl===null)var y=!1;else{u=jv,jv=null;var A=rl,D=Wh;if(rl=null,Wh=0,kt&6)throw Error(r(331));var z=kt;if(kt|=4,NA(A.current),OA(A,A.current,D,u),kt=z,Qh(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(oa,A)}catch{}y=!0}return y}finally{ye.p=m,I.T=h,QA(s,a)}}return!1}function XA(s,a,u){a=Gr(u,a),a=cv(s.stateNode,a,2),s=Pa(s,a,2),s!==null&&(Wt(s,2),Mi(s))}function dt(s,a,u){if(s.tag===3)XA(s,s,u);else for(;a!==null;){if(a.tag===3){XA(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Va===null||!Va.has(h))){s=Gr(u,s),u=eA(2),h=Pa(a,u,2),h!==null&&(tA(u,h,a,s),Wt(h,2),Mi(h));break}}a=a.return}}function Kv(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new NM;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(u)||(Vv=!0,m.add(u),s=FM.bind(null,s,a,u),a.then(s,s))}function FM(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,mt===s&&(Qe&u)===u&&(jt===4||jt===3&&(Qe&62914560)===Qe&&300>ur()-Bv?!(kt&2)&&Iu(s,0):Lv|=u,Ru===Qe&&(Ru=0)),Mi(s)}function ZA(s,a){a===0&&(a=ca()),s=wa(s,a),s!==null&&(Wt(s,a),Mi(s))}function jM(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),ZA(s,u)}function zM(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),ZA(s,u)}function qM(s,a){return li(s,a)}var dm=null,Pu=null,Wv=!1,fm=!1,Yv=!1,il=0;function Mi(s){s!==Pu&&s.next===null&&(Pu===null?dm=Pu=s:Pu=Pu.next=s),fm=!0,Wv||(Wv=!0,$M(HM))}function Qh(s,a){if(!Yv&&fm){Yv=!0;do for(var u=!1,h=dm;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var A=h.suspendedLanes,D=h.pingedLanes;y=(1<<31-Xn(42|s)+1)-1,y&=m&~(A&~D),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(u=!0,tR(h,y))}else y=Qe,y=Br(h,h===mt?y:0),!(y&3)||ua(h,y)||(u=!0,tR(h,y));h=h.next}while(u);Yv=!1}}function HM(){fm=Wv=!1;var s=0;il!==0&&(JM()&&(s=il),il=0);for(var a=ur(),u=null,h=dm;h!==null;){var m=h.next,y=JA(h,a);y===0?(h.next=null,u===null?dm=m:u.next=m,m===null&&(Pu=u)):(u=h,(s!==0||y&3)&&(fm=!0)),h=m}Qh(s)}function JA(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Xn(y),D=1<<A,z=m[A];z===-1?(!(D&u)||D&h)&&(m[A]=Wl(D,a)):z<=a&&(s.expiredLanes|=D),y&=~D}if(a=mt,u=Qe,u=Br(s,s===a?u:0),h=s.callbackNode,u===0||s===a&&gt===2||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Kl(h),s.callbackNode=null,s.callbackPriority=0;if(!(u&3)||ua(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(h!==null&&Kl(h),pp(u)){case 2:case 8:u=_n;break;case 32:u=us;break;case 268435456:u=ih;break;default:u=us}return h=eR.bind(null,s),u=li(u,h),s.callbackPriority=a,s.callbackNode=u,a}return h!==null&&h!==null&&Kl(h),s.callbackPriority=2,s.callbackNode=null,2}function eR(s,a){var u=s.callbackNode;if(xu()&&s.callbackNode!==u)return null;var h=Qe;return h=Br(s,s===mt?h:0),h===0?null:(jA(s,h,a),JA(s,ur()),s.callbackNode!=null&&s.callbackNode===u?eR.bind(null,s):null)}function tR(s,a){if(xu())return null;jA(s,a,!0)}function $M(s){tV(function(){kt&6?li(cn,s):s()})}function Qv(){return il===0&&(il=oh()),il}function nR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Si(""+s)}function rR(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function GM(s,a,u,h,m){if(a==="submit"&&u&&u.stateNode===m){var y=nR((m[hn]||null).action),A=h.submitter;A&&(a=(a=A[hn]||null)?nR(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var D=new tu("action","action",null,h,m);s.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(il!==0){var z=A?rR(m,A):new FormData(m);sv(u,{pending:!0,data:z,method:m.method,action:y},null,z)}}else typeof y=="function"&&(D.preventDefault(),z=A?rR(m,A):new FormData(m),sv(u,{pending:!0,data:z,method:m.method,action:y},y,z))},currentTarget:m}]})}}for(var Xv=0;Xv<YT.length;Xv++){var Zv=YT[Xv],KM=Zv.toLowerCase(),WM=Zv[0].toUpperCase()+Zv.slice(1);hi(KM,"on"+WM)}hi(HT,"onAnimationEnd"),hi($T,"onAnimationIteration"),hi(GT,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(hM,"onTransitionRun"),hi(dM,"onTransitionStart"),hi(fM,"onTransitionCancel"),hi(KT,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xh));function iR(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var A=h.length-1;0<=A;A--){var D=h[A],z=D.instance,K=D.currentTarget;if(D=D.listener,z!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=K;try{y(m)}catch(ce){Jp(ce)}m.currentTarget=null,y=z}else for(A=0;A<h.length;A++){if(D=h[A],z=D.instance,K=D.currentTarget,D=D.listener,z!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=K;try{y(m)}catch(ce){Jp(ce)}m.currentTarget=null,y=z}}}}function Ge(s,a){var u=a[xo];u===void 0&&(u=a[xo]=new Set);var h=s+"__bubble";u.has(h)||(sR(a,s,2,!1),u.add(h))}function Jv(s,a,u){var h=0;a&&(h|=4),sR(u,s,h,a)}var pm="_reactListening"+Math.random().toString(36).slice(2);function e0(s){if(!s[pm]){s[pm]=!0,uh.forEach(function(u){u!=="selectionchange"&&(YM.has(u)||Jv(u,!1,s),Jv(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[pm]||(a[pm]=!0,Jv("selectionchange",!1,a))}}function sR(s,a,u,h){switch(CR(a)){case 2:var m=bV;break;case 8:m=wV;break;default:m=f0}u=m.bind(null,a,u,s),m=void 0,!qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,u,{capture:!0,passive:m}):s.addEventListener(a,u,!0):m!==void 0?s.addEventListener(a,u,{passive:m}):s.addEventListener(a,u,!1)}function t0(s,a,u,h,m){var y=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var D=h.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(A===4)for(A=h.return;A!==null;){var z=A.tag;if((z===3||z===4)&&(z=A.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;A=A.return}for(;D!==null;){if(A=ci(D),A===null)return;if(z=A.tag,z===5||z===6||z===26||z===27){h=y=A;continue e}D=D.parentNode}}h=h.return}vp(function(){var K=y,ce=eu(u),fe=[];e:{var J=WT.get(s);if(J!==void 0){var le=tu,Ie=s;switch(s){case"keypress":if(Ri(u)===0)break e;case"keydown":case"keyup":le=ou;break;case"focusin":Ie="focus",le=iu;break;case"focusout":Ie="blur",le=iu;break;case"beforeblur":case"afterblur":le=iu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=I_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Ip;break;case HT:case $T:case GT:le=su;break;case KT:le=xp;break;case"scroll":case"scrollend":le=Ep;break;case"wheel":le=lu;break;case"copy":case"cut":case"paste":le=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=bh;break;case"toggle":case"beforetoggle":le=Op}var Ne=(a&4)!==0,zt=!Ne&&(s==="scroll"||s==="scrollend"),Y=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var G=K,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Y===null||(he=No(G,Y),he!=null&&Ne.push(Zh(G,he,Z))),zt)break;G=G.return}0<Ne.length&&(J=new le(J,Ie,null,u,ce),fe.push({event:J,listeners:Ne}))}}if(!(a&7)){e:{if(J=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",J&&u!==zr&&(Ie=u.relatedTarget||u.fromElement)&&(ci(Ie)||Ie[cs]))break e;if((le||J)&&(J=ce.window===ce?ce:(J=ce.ownerDocument)?J.defaultView||J.parentWindow:window,le?(Ie=u.relatedTarget||u.toElement,le=K,Ie=Ie?ci(Ie):null,Ie!==null&&(zt=ue(Ie),Ne=Ie.tag,Ie!==zt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ie=null)):(le=null,Ie=K),le!==Ie)){if(Ne=Hr,he="onMouseLeave",Y="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=bh,he="onPointerLeave",Y="onPointerEnter",G="pointer"),zt=le==null?J:ma(le),Z=Ie==null?J:ma(Ie),J=new Ne(he,G+"leave",le,u,ce),J.target=zt,J.relatedTarget=Z,he=null,ci(ce)===K&&(Ne=new Ne(Y,G+"enter",Ie,u,ce),Ne.target=Z,Ne.relatedTarget=zt,he=Ne),zt=he,le&&Ie)t:{for(Ne=le,Y=Ie,G=0,Z=Ne;Z;Z=Ou(Z))G++;for(Z=0,he=Y;he;he=Ou(he))Z++;for(;0<G-Z;)Ne=Ou(Ne),G--;for(;0<Z-G;)Y=Ou(Y),Z--;for(;G--;){if(Ne===Y||Y!==null&&Ne===Y.alternate)break t;Ne=Ou(Ne),Y=Ou(Y)}Ne=null}else Ne=null;le!==null&&aR(fe,J,le,Ne,!1),Ie!==null&&zt!==null&&aR(fe,zt,Ie,Ne,!0)}}e:{if(J=K?ma(K):window,le=J.nodeName&&J.nodeName.toLowerCase(),le==="select"||le==="input"&&J.type==="file")var Se=DT;else if(fn(J))if(NT)Se=oM;else{Se=sM;var Be=iM}else le=J.nodeName,!le||le.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&ph(K.elementType)&&(Se=DT):Se=aM;if(Se&&(Se=Se(s,K))){_s(fe,Se,u,ce);break e}Be&&Be(s,J,K),s==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&Jl(J,"number",J.value)}switch(Be=K?ma(K):window,s){case"focusin":(fn(Be)||Be.contentEditable==="true")&&(uu=Be,k_=K,Sh=null);break;case"focusout":Sh=k_=uu=null;break;case"mousedown":D_=!0;break;case"contextmenu":case"mouseup":case"dragend":D_=!1,zT(fe,u,ce);break;case"selectionchange":if(cM)break;case"keydown":case"keyup":zT(fe,u,ce)}var xe;if(xi)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else We?re(s,u)&&(Pe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(S&&u.locale!=="ko"&&(We||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&We&&(xe=gh()):(Ai=ce,ba="value"in Ai?Ai.value:Ai.textContent,We=!0)),Be=mm(K,Pe),0<Be.length&&(Pe=new vh(Pe,s,null,u,ce),fe.push({event:Pe,listeners:Be}),xe?Pe.data=xe:(xe=ge(u),xe!==null&&(Pe.data=xe)))),(xe=E?dn(s,u):Ye(s,u))&&(Pe=mm(K,"onBeforeInput"),0<Pe.length&&(Be=new vh("onBeforeInput","beforeinput",null,u,ce),fe.push({event:Be,listeners:Pe}),Be.data=xe)),GM(fe,s,K,u,ce)}iR(fe,a)})}function Zh(s,a,u){return{instance:s,listener:a,currentTarget:u}}function mm(s,a){for(var u=a+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=No(s,u),m!=null&&h.unshift(Zh(s,m,y)),m=No(s,a),m!=null&&h.push(Zh(s,m,y))),s=s.return}return h}function Ou(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aR(s,a,u,h,m){for(var y=a._reactName,A=[];u!==null&&u!==h;){var D=u,z=D.alternate,K=D.stateNode;if(D=D.tag,z!==null&&z===h)break;D!==5&&D!==26&&D!==27||K===null||(z=K,m?(K=No(u,y),K!=null&&A.unshift(Zh(u,K,z))):m||(K=No(u,y),K!=null&&A.push(Zh(u,K,z)))),u=u.return}A.length!==0&&s.push({event:a,listeners:A})}var QM=/\r\n?/g,XM=/\u0000|\uFFFD/g;function oR(s){return(typeof s=="string"?s:""+s).replace(QM,`
`).replace(XM,"")}function lR(s,a){return a=oR(a),oR(s)===a}function gm(){}function ct(s,a,u,h,m,y){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||jr(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&jr(s,""+h);break;case"className":_a(s,"class",h);break;case"tabIndex":_a(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(s,u,h);break;case"style":_p(s,h,y);break;case"data":if(a!=="object"){_a(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Si(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&ct(s,a,"name",m.name,m,null),ct(s,a,"formEncType",m.formEncType,m,null),ct(s,a,"formMethod",m.formMethod,m,null),ct(s,a,"formTarget",m.formTarget,m,null)):(ct(s,a,"encType",m.encType,m,null),ct(s,a,"method",m.method,m,null),ct(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Si(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=gm);break;case"onScroll":h!=null&&Ge("scroll",s);break;case"onScrollEnd":h!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=Si(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),ya(s,"popover",h);break;case"xlinkActuate":Fr(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Fr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Fr(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Fr(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Fr(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Fr(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ya(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=A_.get(u)||u,ya(s,u,h))}}function n0(s,a,u,h,m,y){switch(u){case"style":_p(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof h=="string"?jr(s,h):(typeof h=="number"||typeof h=="bigint")&&jr(s,""+h);break;case"onScroll":h!=null&&Ge("scroll",s);break;case"onScrollEnd":h!=null&&Ge("scrollend",s);break;case"onClick":h!=null&&(s.onclick=gm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),y=s[hn]||null,y=y!=null?y[u]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,h,m);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):ya(s,u,h)}}}function kn(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var h=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var A=u[y];if(A!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,y,A,u,null)}}m&&ct(s,a,"srcSet",u.srcSet,u,null),h&&ct(s,a,"src",u.src,u,null);return;case"input":Ge("invalid",s);var D=y=A=m=null,z=null,K=null;for(h in u)if(u.hasOwnProperty(h)){var ce=u[h];if(ce!=null)switch(h){case"name":m=ce;break;case"type":A=ce;break;case"checked":z=ce;break;case"defaultChecked":K=ce;break;case"value":y=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(s,a,h,ce,u,null)}}ko(s,y,D,z,K,A,m,!1),Oo(s);return;case"select":Ge("invalid",s),h=A=y=null;for(m in u)if(u.hasOwnProperty(m)&&(D=u[m],D!=null))switch(m){case"value":y=D;break;case"defaultValue":A=D;break;case"multiple":h=D;default:ct(s,a,m,D,u,null)}a=y,u=A,s.multiple=!!h,a!=null?Je(s,!!h,a,!1):u!=null&&Je(s,!!h,u,!0);return;case"textarea":Ge("invalid",s),y=m=h=null;for(A in u)if(u.hasOwnProperty(A)&&(D=u[A],D!=null))switch(A){case"value":h=D;break;case"defaultValue":m=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:ct(s,a,A,D,u,null)}Ea(s,h,m,y),Oo(s);return;case"option":for(z in u)if(u.hasOwnProperty(z)&&(h=u[z],h!=null))switch(z){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ct(s,a,z,h,u,null)}return;case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(h=0;h<Xh.length;h++)Ge(Xh[h],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in u)if(u.hasOwnProperty(K)&&(h=u[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,K,h,u,null)}return;default:if(ph(a)){for(ce in u)u.hasOwnProperty(ce)&&(h=u[ce],h!==void 0&&n0(s,a,ce,h,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(h=u[D],h!=null&&ct(s,a,D,h,u,null))}function ZM(s,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,D=null,z=null,K=null,ce=null;for(le in u){var fe=u[le];if(u.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":z=fe;default:h.hasOwnProperty(le)||ct(s,a,le,null,h,fe)}}for(var J in h){var le=h[J];if(fe=u[J],h.hasOwnProperty(J)&&(le!=null||fe!=null))switch(J){case"type":y=le;break;case"name":m=le;break;case"checked":K=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==fe&&ct(s,a,J,le,h,fe)}}va(s,A,D,z,K,ce,y,m);return;case"select":le=A=D=J=null;for(y in u)if(z=u[y],u.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":le=z;default:h.hasOwnProperty(y)||ct(s,a,y,null,h,z)}for(m in h)if(y=h[m],z=u[m],h.hasOwnProperty(m)&&(y!=null||z!=null))switch(m){case"value":J=y;break;case"defaultValue":D=y;break;case"multiple":A=y;default:y!==z&&ct(s,a,m,y,h,z)}a=D,u=A,h=le,J!=null?Je(s,!!u,J,!1):!!h!=!!u&&(a!=null?Je(s,!!u,a,!0):Je(s,!!u,u?[]:"",!1));return;case"textarea":le=J=null;for(D in u)if(m=u[D],u.hasOwnProperty(D)&&m!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ct(s,a,D,null,h,m)}for(A in h)if(m=h[A],y=u[A],h.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":J=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ct(s,a,A,m,h,y)}Do(s,J,le);return;case"option":for(var Ie in u)if(J=u[Ie],u.hasOwnProperty(Ie)&&J!=null&&!h.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:ct(s,a,Ie,null,h,J)}for(z in h)if(J=h[z],le=u[z],h.hasOwnProperty(z)&&J!==le&&(J!=null||le!=null))switch(z){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ct(s,a,z,J,h,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in u)J=u[Ne],u.hasOwnProperty(Ne)&&J!=null&&!h.hasOwnProperty(Ne)&&ct(s,a,Ne,null,h,J);for(K in h)if(J=h[K],le=u[K],h.hasOwnProperty(K)&&J!==le&&(J!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:ct(s,a,K,J,h,le)}return;default:if(ph(a)){for(var zt in u)J=u[zt],u.hasOwnProperty(zt)&&J!==void 0&&!h.hasOwnProperty(zt)&&n0(s,a,zt,void 0,h,J);for(ce in h)J=h[ce],le=u[ce],!h.hasOwnProperty(ce)||J===le||J===void 0&&le===void 0||n0(s,a,ce,J,h,le);return}}for(var Y in u)J=u[Y],u.hasOwnProperty(Y)&&J!=null&&!h.hasOwnProperty(Y)&&ct(s,a,Y,null,h,J);for(fe in h)J=h[fe],le=u[fe],!h.hasOwnProperty(fe)||J===le||J==null&&le==null||ct(s,a,fe,J,h,le)}var r0=null,i0=null;function ym(s){return s.nodeType===9?s:s.ownerDocument}function uR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cR(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function s0(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var a0=null;function JM(){var s=window.event;return s&&s.type==="popstate"?s===a0?!1:(a0=s,!0):(a0=null,!1)}var hR=typeof setTimeout=="function"?setTimeout:void 0,eV=typeof clearTimeout=="function"?clearTimeout:void 0,dR=typeof Promise=="function"?Promise:void 0,tV=typeof queueMicrotask=="function"?queueMicrotask:typeof dR<"u"?function(s){return dR.resolve(null).then(s).catch(nV)}:hR;function nV(s){setTimeout(function(){throw s})}function o0(s,a){var u=a,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),ad(a);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);ad(a)}function l0(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":l0(u),Po(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function rV(s,a,u,h){for(;s.nodeType===1;){var m=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[pa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=pi(s.nextSibling),s===null)break}return null}function iV(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=pi(s.nextSibling),s===null))return null;return s}function pi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function fR(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function pR(s,a,u){switch(a=ym(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var ei=new Map,mR=new Set;function _m(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Ds=ye.d;ye.d={f:sV,r:aV,D:oV,C:lV,L:uV,m:cV,X:dV,S:hV,M:fV};function sV(){var s=Ds.f(),a=cm();return s||a}function aV(s){var a=hs(s);a!==null&&a.tag===5&&a.type==="form"?zS(a):Ds.r(s)}var ku=typeof document>"u"?null:document;function gR(s,a,u){var h=ku;if(h&&typeof a=="string"&&a){var m=Bt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),mR.has(m)||(mR.add(m),s={rel:s,crossOrigin:u,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),kn(a,"link",s),Pt(a),h.head.appendChild(a)))}}function oV(s){Ds.D(s),gR("dns-prefetch",s,null)}function lV(s,a){Ds.C(s,a),gR("preconnect",s,a)}function uV(s,a,u){Ds.L(s,a,u);var h=ku;if(h&&s&&a){var m='link[rel="preload"][as="'+Bt(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Bt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Bt(u.imageSizes)+'"]')):m+='[href="'+Bt(s)+'"]';var y=m;switch(a){case"style":y=Du(s);break;case"script":y=Nu(s)}ei.has(y)||(s=b({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),ei.set(y,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(Jh(y))||a==="script"&&h.querySelector(ed(y))||(a=h.createElement("link"),kn(a,"link",s),Pt(a),h.head.appendChild(a)))}}function cV(s,a){Ds.m(s,a);var u=ku;if(u&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Bt(h)+'"][href="'+Bt(s)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Nu(s)}if(!ei.has(y)&&(s=b({rel:"modulepreload",href:s},a),ei.set(y,s),u.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ed(y)))return}h=u.createElement("link"),kn(h,"link",s),Pt(h),u.head.appendChild(h)}}}function hV(s,a,u){Ds.S(s,a,u);var h=ku;if(h&&s){var m=ga(h).hoistableStyles,y=Du(s);a=a||"default";var A=m.get(y);if(!A){var D={loading:0,preload:null};if(A=h.querySelector(Jh(y)))D.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},u),(u=ei.get(y))&&u0(s,u);var z=A=h.createElement("link");Pt(z),kn(z,"link",s),z._p=new Promise(function(K,ce){z.onload=K,z.onerror=ce}),z.addEventListener("load",function(){D.loading|=1}),z.addEventListener("error",function(){D.loading|=2}),D.loading|=4,vm(A,a,h)}A={type:"stylesheet",instance:A,count:1,state:D},m.set(y,A)}}}function dV(s,a){Ds.X(s,a);var u=ku;if(u&&s){var h=ga(u).hoistableScripts,m=Nu(s),y=h.get(m);y||(y=u.querySelector(ed(m)),y||(s=b({src:s,async:!0},a),(a=ei.get(m))&&c0(s,a),y=u.createElement("script"),Pt(y),kn(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function fV(s,a){Ds.M(s,a);var u=ku;if(u&&s){var h=ga(u).hoistableScripts,m=Nu(s),y=h.get(m);y||(y=u.querySelector(ed(m)),y||(s=b({src:s,async:!0,type:"module"},a),(a=ei.get(m))&&c0(s,a),y=u.createElement("script"),Pt(y),kn(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function yR(s,a,u,h){var m=(m=at.current)?_m(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Du(u.href),u=ga(m).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Du(u.href);var y=ga(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(Jh(s)))&&!y._p&&(A.instance=y,A.state.loading=5),ei.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ei.set(s,u),y||pV(m,s,u,A.state))),a&&h===null)throw Error(r(528,""));return A}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Nu(u),u=ga(m).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Du(s){return'href="'+Bt(s)+'"'}function Jh(s){return'link[rel="stylesheet"]['+s+"]"}function _R(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function pV(s,a,u,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),kn(a,"link",u),Pt(a),s.head.appendChild(a))}function Nu(s){return'[src="'+Bt(s)+'"]'}function ed(s){return"script[async]"+s}function vR(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Bt(u.href)+'"]');if(h)return a.instance=h,Pt(h),h;var m=b({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Pt(h),kn(h,"style",m),vm(h,u.precedence,s),a.instance=h;case"stylesheet":m=Du(u.href);var y=s.querySelector(Jh(m));if(y)return a.state.loading|=4,a.instance=y,Pt(y),y;h=_R(u),(m=ei.get(m))&&u0(h,m),y=(s.ownerDocument||s).createElement("link"),Pt(y);var A=y;return A._p=new Promise(function(D,z){A.onload=D,A.onerror=z}),kn(y,"link",h),a.state.loading|=4,vm(y,u.precedence,s),a.instance=y;case"script":return y=Nu(u.src),(m=s.querySelector(ed(y)))?(a.instance=m,Pt(m),m):(h=u,(m=ei.get(y))&&(h=b({},u),c0(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),Pt(m),kn(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(h=a.instance,a.state.loading|=4,vm(h,u.precedence,s));return a.instance}function vm(s,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,A=0;A<h.length;A++){var D=h[A];if(D.dataset.precedence===a)y=D;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function u0(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function c0(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Em=null;function ER(s,a,u){if(Em===null){var h=new Map,m=Em=new Map;m.set(u,h)}else m=Em,h=m.get(u),h||(h=new Map,m.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),m=0;m<u.length;m++){var y=u[m];if(!(y[pa]||y[vn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var D=h.get(A);D?D.push(y):h.set(A,[y])}}return h}function bR(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function mV(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function wR(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var td=null;function gV(){}function yV(s,a,u){if(td===null)throw Error(r(475));var h=td;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=Du(u.href),y=s.querySelector(Jh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=bm.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=y,Pt(y);return}y=s.ownerDocument||s,u=_R(u),(m=ei.get(m))&&u0(u,m),y=y.createElement("link"),Pt(y);var A=y;A._p=new Promise(function(D,z){A.onload=D,A.onerror=z}),kn(y,"link",u),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&!(a.state.loading&3)&&(h.count++,a=bm.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function _V(){if(td===null)throw Error(r(475));var s=td;return s.stylesheets&&s.count===0&&h0(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&h0(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function bm(){if(this.count--,this.count===0){if(this.stylesheets)h0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var wm=null;function h0(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,wm=new Map,a.forEach(vV,s),wm=null,bm.call(s))}function vV(s,a){if(!(a.state.loading&4)){var u=wm.get(s);if(u)var h=u.get(null);else{u=new Map,wm.set(s,u);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}m=a.instance,A=m.getAttribute("data-precedence"),y=u.get(A)||h,y===h&&u.set(null,m),u.set(A,m),this.count++,h=bm.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var nd={$$typeof:T,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function EV(s,a,u,h,m,y,A,D){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.hiddenUpdates=Yl(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function TR(s,a,u,h,m,y,A,D,z,K,ce,fe){return s=new EV(s,a,u,A,D,z,K,fe),a=1,y===!0&&(a|=24),y=Zr(3,null,null,a),s.current=y,y.stateNode=s,a=q_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:a},Tv(y),s}function SR(s){return s?(s=du,s):du}function AR(s,a,u,h,m,y){m=SR(m),h.context===null?h.context=m:h.pendingContext=m,h=xa(a),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=Pa(s,h,a),u!==null&&(tr(u,s,a),Bh(u,s,a))}function RR(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function d0(s,a){RR(s,a),(s=s.alternate)&&RR(s,a)}function IR(s){if(s.tag===13){var a=wa(s,67108864);a!==null&&tr(a,s,67108864),d0(s,67108864)}}var Tm=!0;function bV(s,a,u,h){var m=I.T;I.T=null;var y=ye.p;try{ye.p=2,f0(s,a,u,h)}finally{ye.p=y,I.T=m}}function wV(s,a,u,h){var m=I.T;I.T=null;var y=ye.p;try{ye.p=8,f0(s,a,u,h)}finally{ye.p=y,I.T=m}}function f0(s,a,u,h){if(Tm){var m=p0(h);if(m===null)t0(s,a,h,Sm,u),xR(s,h);else if(SV(m,s,a,u,h))h.stopPropagation();else if(xR(s,h),a&4&&-1<TV.indexOf(s)){for(;m!==null;){var y=hs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ui(y.pendingLanes);if(A!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var z=1<<31-Xn(A);D.entanglements[1]|=z,A&=~z}Mi(y),!(kt&6)&&(om=ur()+500,Qh(0))}}break;case 13:D=wa(y,2),D!==null&&tr(D,y,2),cm(),d0(y,2)}if(y=p0(h),y===null&&t0(s,a,h,Sm,u),y===m)break;m=y}m!==null&&h.stopPropagation()}else t0(s,a,h,null,u)}}function p0(s){return s=eu(s),m0(s)}var Sm=null;function m0(s){if(Sm=null,s=ci(s),s!==null){var a=ue(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=Te(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Sm=s,null}function CR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(up()){case cn:return 2;case _n:return 8;case us:case cp:return 32;case ih:return 268435456;default:return 32}default:return 32}}var g0=!1,La=null,Ua=null,Ba=null,rd=new Map,id=new Map,Fa=[],TV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xR(s,a){switch(s){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":rd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(a.pointerId)}}function sd(s,a,u,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},a!==null&&(a=hs(a),a!==null&&IR(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function SV(s,a,u,h,m){switch(a){case"focusin":return La=sd(La,s,a,u,h,m),!0;case"dragenter":return Ua=sd(Ua,s,a,u,h,m),!0;case"mouseover":return Ba=sd(Ba,s,a,u,h,m),!0;case"pointerover":var y=m.pointerId;return rd.set(y,sd(rd.get(y)||null,s,a,u,h,m)),!0;case"gotpointercapture":return y=m.pointerId,id.set(y,sd(id.get(y)||null,s,a,u,h,m)),!0}return!1}function PR(s){var a=ci(s.target);if(a!==null){var u=ue(a);if(u!==null){if(a=u.tag,a===13){if(a=Te(u),a!==null){s.blockedOn=a,fa(s.priority,function(){if(u.tag===13){var h=Rr(),m=wa(u,h);m!==null&&tr(m,u,h),d0(u,h)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Am(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=p0(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);zr=h,u.target.dispatchEvent(h),zr=null}else return a=hs(u),a!==null&&IR(a),s.blockedOn=u,!1;a.shift()}return!0}function OR(s,a,u){Am(s)&&u.delete(a)}function AV(){g0=!1,La!==null&&Am(La)&&(La=null),Ua!==null&&Am(Ua)&&(Ua=null),Ba!==null&&Am(Ba)&&(Ba=null),rd.forEach(OR),id.forEach(OR)}function Rm(s,a){s.blockedOn===a&&(s.blockedOn=null,g0||(g0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AV)))}var Im=null;function kR(s){Im!==s&&(Im=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Im===s&&(Im=null);for(var a=0;a<s.length;a+=3){var u=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(m0(h||u)===null)continue;break}var y=hs(u);y!==null&&(s.splice(a,3),a-=3,sv(y,{pending:!0,data:m,method:u.method,action:h},h,m))}}))}function ad(s){function a(z){return Rm(z,s)}La!==null&&Rm(La,s),Ua!==null&&Rm(Ua,s),Ba!==null&&Rm(Ba,s),rd.forEach(a),id.forEach(a);for(var u=0;u<Fa.length;u++){var h=Fa[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Fa.length&&(u=Fa[0],u.blockedOn===null);)PR(u),u.blockedOn===null&&Fa.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var m=u[h],y=u[h+1],A=m[hn]||null;if(typeof y=="function")A||kR(u);else if(A){var D=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[hn]||null)D=A.formAction;else if(m0(m)!==null)continue}else D=A.action;typeof D=="function"?u[h+1]=D:(u.splice(h,3),h-=3),kR(u)}}}function y0(s){this._internalRoot=s}Cm.prototype.render=y0.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Rr();AR(u,h,s,a,null,null)},Cm.prototype.unmount=y0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&xu(),AR(s.current,2,null,s,null,null),cm(),a[cs]=null}};function Cm(s){this._internalRoot=s}Cm.prototype.unstable_scheduleHydration=function(s){if(s){var a=mp();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Fa.length&&a!==0&&a<Fa[u].priority;u++);Fa.splice(u,0,s),u===0&&PR(s)}};var DR=e.version;if(DR!=="19.0.0")throw Error(r(527,DR,"19.0.0"));ye.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ae(a),s=s!==null?be(s):null,s=s===null?null:s.stateNode,s};var RV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:ci,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{oa=xm.inject(RV),Bn=xm}catch{}}return ld.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,h="",m=QS,y=XS,A=ZS,D=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=TR(s,1,!1,null,null,u,h,m,y,A,D,null),s[cs]=a.current,e0(s.nodeType===8?s.parentNode:s),new y0(a)},ld.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var h=!1,m="",y=QS,A=XS,D=ZS,z=null,K=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(z=u.unstable_transitionCallbacks),u.formState!==void 0&&(K=u.formState)),a=TR(s,1,!0,a,u??null,h,m,y,A,D,z,K),a.context=SR(null),u=a.current,h=Rr(),m=xa(h),m.callback=null,Pa(u,m,h),a.current.lanes=h,Wt(a,h),Mi(a),s[cs]=a.current,e0(s),new Cm(a)},ld.version="19.0.0",ld}var qR;function VV(){if(qR)return E0.exports;qR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),E0.exports=MV(),E0.exports}var LV=VV(),ud={},HR;function UV(){if(HR)return ud;HR=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.parse=l,ud.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,T){const w=new o,R=v.length;if(R<2)return w;const C=(T==null?void 0:T.decode)||g;let U=0;do{const L=v.indexOf("=",U);if(L===-1)break;const B=v.indexOf(";",U),H=B===-1?R:B;if(L>H){U=v.lastIndexOf(";",L-1)+1;continue}const j=c(v,U,L),$=d(v,L,j),M=v.slice(j,$);if(w[M]===void 0){let x=c(v,L+1,H),I=d(v,H,x);const b=C(v.slice(x,I));w[M]=b}U=H+1}while(U<R);return w}function c(v,T,w){do{const R=v.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<w);return w}function d(v,T,w){for(;T>w;){const R=v.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return w}function f(v,T,w){const R=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=R(T);if(!e.test(C))throw new TypeError(`argument val is invalid: ${T}`);let U=v+"="+C;if(!w)return U;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);U+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);U+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);U+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);U+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(U+="; HttpOnly"),w.secure&&(U+="; Secure"),w.partitioned&&(U+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return U}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return ud}UV();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $R="popstate";function BV(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return hE("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:sf(i)}return jV(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ns(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FV(){return Math.random().toString(36).substring(2,10)}function GR(n,e){return{usr:n.state,key:n.key,idx:e}}function hE(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Lc(e):e,state:t,key:e&&e.key||r||FV()}}function sf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Lc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function jV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let C=g(),U=C==null?null:C-f;f=C,d&&d({action:c,location:R.location,delta:U})}function v(C,U){c="PUSH";let L=hE(R.location,C,U);f=g()+1;let B=GR(L,f),H=R.createHref(L);try{l.pushState(B,"",H)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(H)}o&&d&&d({action:c,location:R.location,delta:1})}function T(C,U){c="REPLACE";let L=hE(R.location,C,U);f=g();let B=GR(L,f),H=R.createHref(L);l.replaceState(B,"",H),o&&d&&d({action:c,location:R.location,delta:0})}function w(C){let U=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof C=="string"?C:sf(C);return L=L.replace(/ $/,"%20"),Nt(U,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,U)}let R={get action(){return c},get location(){return n(i,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener($R,_),d=C,()=>{i.removeEventListener($R,_),d=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let U=w(C);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:v,replace:T,go(C){return l.go(C)}};return R}function Dx(n,e,t="/"){return zV(n,e,t,!1)}function zV(n,e,t,r){let i=typeof e=="string"?Lc(e):e,o=ro(i.pathname||"/",t);if(o==null)return null;let l=Nx(n);qV(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=eL(o);c=ZV(l[d],f,r)}return c}function Nx(n,e=[],t=[],r=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=zs([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Nx(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:QV(f,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of Mx(o.path))i(o,l,d)}),e}function Mx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Mx(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function qV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var HV=/^:[\w-]+$/,$V=3,GV=2,KV=1,WV=10,YV=-2,KR=n=>n==="*";function QV(n,e){let t=n.split("/"),r=t.length;return t.some(KR)&&(r+=YV),e&&(r+=GV),t.filter(i=>!KR(i)).reduce((i,o)=>i+(HV.test(o)?$V:o===""?KV:WV),r)}function XV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ZV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Eg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=Eg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:zs([o,_.pathname]),pathnameBase:iL(zs([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=zs([o,_.pathnameBase]))}return l}function Eg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=JV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=c[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=c[v];return _&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function JV(n,e=!1,t=!0){ns(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eL(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ns(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ro(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function tL(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Lc(n):n;return{pathname:t?t.startsWith("/")?t:nL(t,e):e,search:sL(r),hash:aL(i)}}function nL(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function S0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vx(n){let e=rL(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Lx(n,e,t,r=!1){let i;typeof n=="string"?i=Lc(n):(i={...n},Nt(!i.pathname||!i.pathname.includes("?"),S0("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),S0("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),S0("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}c=_>=0?e[_]:"/"}let d=tL(i,c),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var zs=n=>n.join("/").replace(/\/\/+/g,"/"),iL=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ux=["POST","PUT","PATCH","DELETE"];new Set(Ux);var lL=["GET",...Ux];new Set(lL);var Uc=W.createContext(null);Uc.displayName="DataRouter";var ay=W.createContext(null);ay.displayName="DataRouterState";var Bx=W.createContext({isTransitioning:!1});Bx.displayName="ViewTransition";var uL=W.createContext(new Map);uL.displayName="Fetchers";var cL=W.createContext(null);cL.displayName="Await";var os=W.createContext(null);os.displayName="Navigation";var Df=W.createContext(null);Df.displayName="Location";var ls=W.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var vb=W.createContext(null);vb.displayName="RouteError";function hL(n,{relative:e}={}){Nt(Nf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(os),{hash:i,pathname:o,search:l}=Mf(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:zs([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Nf(){return W.useContext(Df)!=null}function Eo(){return Nt(Nf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Df).location}var Fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jx(n){W.useContext(os).static||W.useLayoutEffect(n)}function oy(){let{isDataRoute:n}=W.useContext(ls);return n?SL():dL()}function dL(){Nt(Nf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Uc),{basename:e,navigator:t}=W.useContext(os),{matches:r}=W.useContext(ls),{pathname:i}=Eo(),o=JSON.stringify(Vx(r)),l=W.useRef(!1);return jx(()=>{l.current=!0}),W.useCallback((d,f={})=>{if(ns(l.current,Fx),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=Lx(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:zs([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}W.createContext(null);function zx(){let{matches:n}=W.useContext(ls),e=n[n.length-1];return e?e.params:{}}function Mf(n,{relative:e}={}){let{matches:t}=W.useContext(ls),{pathname:r}=Eo(),i=JSON.stringify(Vx(t));return W.useMemo(()=>Lx(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function fL(n,e){return qx(n,e)}function qx(n,e,t,r){var L;Nt(Nf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(os),{matches:l}=W.useContext(ls),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let B=_&&_.path||"";Hx(f,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let v=Eo(),T;if(e){let B=typeof e=="string"?Lc(e):e;Nt(g==="/"||((L=B.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),T=B}else T=v;let w=T.pathname||"/",R=w;if(g!=="/"){let B=g.replace(/^\//,"").split("/");R="/"+w.replace(/^\//,"").split("/").slice(B.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:Dx(n,{pathname:R});ns(_||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ns(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=_L(C&&C.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:zs([g,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:zs([g,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,r);return e&&U?W.createElement(Df.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function pL(){let n=TL(),e=oL(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,l)}var mL=W.createElement(pL,null),gL=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(ls.Provider,{value:this.props.routeContext},W.createElement(vb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yL({routeContext:n,match:e,children:t}){let r=W.useContext(Uc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(ls.Provider,{value:n},t)}function _L(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:_}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let _,v=!1,T=null,w=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||mL,l&&(c<0&&g===0?(Hx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===g&&(v=!0,w=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,g+1)),C=()=>{let U;return _?U=T:v?U=w:f.route.Component?U=W.createElement(f.route.Component,null):f.route.element?U=f.route.element:U=d,W.createElement(yL,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:U})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?W.createElement(gL,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):C()},null)}function Eb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vL(n){let e=W.useContext(Uc);return Nt(e,Eb(n)),e}function EL(n){let e=W.useContext(ay);return Nt(e,Eb(n)),e}function bL(n){let e=W.useContext(ls);return Nt(e,Eb(n)),e}function bb(n){let e=bL(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wL(){return bb("useRouteId")}function TL(){var r;let n=W.useContext(vb),e=EL("useRouteError"),t=bb("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function SL(){let{router:n}=vL("useNavigate"),e=bb("useNavigate"),t=W.useRef(!1);return jx(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{ns(t.current,Fx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var WR={};function Hx(n,e,t){!e&&!WR[n]&&(WR[n]=!0,ns(!1,t))}W.memo(AL);function AL({routes:n,future:e,state:t}){return qx(n,void 0,t,e)}function Vs(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RL({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Nt(!Nf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Lc(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let w=ro(d,l);return w==null?null:{location:{pathname:w,search:f,hash:g,state:_,key:v},navigationType:r}},[l,d,f,g,_,v,r]);return ns(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(os.Provider,{value:c},W.createElement(Df.Provider,{children:e,value:T}))}function IL({children:n,location:e}){return fL(dE(n),e)}function dE(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,dE(r.props.children,o));return}Nt(r.type===Vs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=dE(r.props.children,o)),t.push(l)}),t}var Ym="get",Qm="application/x-www-form-urlencoded";function ly(n){return n!=null&&typeof n.tagName=="string"}function CL(n){return ly(n)&&n.tagName.toLowerCase()==="button"}function xL(n){return ly(n)&&n.tagName.toLowerCase()==="form"}function PL(n){return ly(n)&&n.tagName.toLowerCase()==="input"}function OL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kL(n,e){return n.button===0&&(!e||e==="_self")&&!OL(n)}var Pm=null;function DL(){if(Pm===null)try{new FormData(document.createElement("form"),0),Pm=!1}catch{Pm=!0}return Pm}var NL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function A0(n){return n!=null&&!NL.has(n)?(ns(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qm}"`),null):n}function ML(n,e){let t,r,i,o,l;if(xL(n)){let c=n.getAttribute("action");r=c?ro(c,e):null,t=n.getAttribute("method")||Ym,i=A0(n.getAttribute("enctype"))||Qm,o=new FormData(n)}else if(CL(n)||PL(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?ro(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Ym,i=A0(n.getAttribute("formenctype"))||A0(c.getAttribute("enctype"))||Qm,o=new FormData(c,n),!DL()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(ly(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ym,r=null,i=Qm,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function wb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function VL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function UL(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await VL(o,t);return l.links?l.links():[]}return[]}));return zL(r.flat(1).filter(LL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YR(n,e,t,r,i,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function BL(n,e){return FL(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function FL(n){return[...new Set(n)]}function jL(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function zL(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(jL(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function qL(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function HL(){let n=W.useContext(Uc);return wb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $L(){let n=W.useContext(ay);return wb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Tb=W.createContext(void 0);Tb.displayName="FrameworkContext";function $x(){let n=W.useContext(Tb);return wb(n,"You must render this element inside a <HydratedRouter> element"),n}function GL(n,e){let t=W.useContext(Tb),[r,i]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=U=>{U.forEach(L=>{l(L.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[n]),W.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},w=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:cd(c,T),onBlur:cd(d,w),onMouseEnter:cd(f,T),onMouseLeave:cd(g,w),onTouchStart:cd(_,T)}]:[!1,v,{}]}function cd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KL({page:n,...e}){let{router:t}=HL(),r=W.useMemo(()=>Dx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(YL,{page:n,matches:r,...e}):null}function WL(n){let{manifest:e,routeModules:t}=$x(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return UL(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function YL({page:n,matches:e,...t}){let r=Eo(),{manifest:i,routeModules:o}=$x(),{loaderData:l,matches:c}=$L(),d=W.useMemo(()=>YR(n,e,c,i,r,"data"),[n,e,c,i,r]),f=W.useMemo(()=>YR(n,e,c,i,r,"assets"),[n,e,c,i,r]),g=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(e.forEach(C=>{var L;let U=i.routes[C.route.id];!U||!U.hasLoader||(!d.some(B=>B.route.id===C.route.id)&&C.route.id in l&&((L=o[C.route.id])!=null&&L.shouldRevalidate)||U.hasClientLoader?w=!0:T.add(C.route.id))}),T.size===0)return[];let R=qL(n);return w&&T.size>0&&R.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,o]),_=W.useMemo(()=>BL(f,i),[f,i]),v=WL(f);return W.createElement(W.Fragment,null,g.map(T=>W.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>W.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),v.map(({key:T,link:w})=>W.createElement("link",{key:T,...w})))}function QL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gx&&(window.__reactRouterVersion="7.1.5")}catch{}function XL({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=BV({window:t,v5Compat:!0}));let i=r.current,[o,l]=W.useState({action:i.action,location:i.location}),c=W.useCallback(d=>{W.startTransition(()=>l(d))},[l]);return W.useLayoutEffect(()=>i.listen(c),[i,c]),W.createElement(RL,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=W.useContext(os),R=typeof f=="string"&&Kx.test(f),C,U=!1;if(typeof f=="string"&&R&&(C=f,Gx))try{let I=new URL(window.location.href),b=f.startsWith("//")?new URL(I.protocol+f):new URL(f),P=ro(b.pathname,w);b.origin===I.origin&&P!=null?f=P+b.search+b.hash:U=!0}catch{ns(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=hL(f,{relative:i}),[B,H,j]=GL(r,v),$=tU(f,{replace:l,state:c,target:d,preventScrollReset:g,relative:i,viewTransition:_});function M(I){e&&e(I),I.defaultPrevented||$(I)}let x=W.createElement("a",{...v,...j,href:C||L,onClick:U||o?e:M,ref:QL(T,H),target:d,"data-discover":!R&&t==="render"?"true":void 0});return B&&!R?W.createElement(W.Fragment,null,x,W.createElement(KL,{page:L})):x});yi.displayName="Link";var ZL=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...f},g){let _=Mf(l,{relative:f.relative}),v=Eo(),T=W.useContext(ay),{navigator:w,basename:R}=W.useContext(os),C=T!=null&&aU(_)&&c===!0,U=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,L=v.pathname,B=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),B=B?B.toLowerCase():null,U=U.toLowerCase()),B&&R&&(B=ro(B,R)||B);const H=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let j=L===U||!i&&L.startsWith(U)&&L.charAt(H)==="/",$=B!=null&&(B===U||!i&&B.startsWith(U)&&B.charAt(U.length)==="/"),M={isActive:j,isPending:$,isTransitioning:C},x=j?e:void 0,I;typeof r=="function"?I=r(M):I=[r,j?"active":null,$?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(M):o;return W.createElement(yi,{...f,"aria-current":x,className:I,ref:g,style:b,to:l,viewTransition:c},typeof d=="function"?d(M):d)});ZL.displayName="NavLink";var JL=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Ym,action:c,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=iU(),R=sU(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",U=typeof c=="string"&&Kx.test(c),L=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let H=B.nativeEvent.submitter,j=(H==null?void 0:H.getAttribute("formmethod"))||l;w(H||B.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:C,action:R,onSubmit:r?d:L,...v,"data-discover":!U&&n==="render"?"true":void 0})});JL.displayName="Form";function eU(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wx(n){let e=W.useContext(Uc);return Nt(e,eU(n)),e}function tU(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=oy(),d=Eo(),f=Mf(n,{relative:o});return W.useCallback(g=>{if(kL(g,e)){g.preventDefault();let _=t!==void 0?t:sf(d)===sf(f);c(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,t,r,e,n,i,o,l])}var nU=0,rU=()=>`__${String(++nU)}__`;function iU(){let{router:n}=Wx("useSubmit"),{basename:e}=W.useContext(os),t=wL();return W.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=ML(r,e);if(i.navigate===!1){let g=i.fetcherKey||rU();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function sU(n,{relative:e}={}){let{basename:t}=W.useContext(os),r=W.useContext(ls);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Mf(n||".",{relative:e})},l=Eo();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:zs([t,o.pathname])),sf(o)}function aU(n,e={}){let t=W.useContext(Bx);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Wx("useViewTransitionState"),i=Mf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ro(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ro(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Eg(i.pathname,l)!=null||Eg(i.pathname,o)!=null}new TextEncoder;kx();var R0={},hd={},Om={},km={},I0={exports:{}},C0,QR;function oU(){if(QR)return C0;QR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return C0=n,C0}var x0,XR;function lU(){if(XR)return x0;XR=1;var n=oU();function e(){}function t(){}return t.resetWarningCache=e,x0=function(){function r(l,c,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},x0}var ZR;function Yx(){return ZR||(ZR=1,I0.exports=lU()()),I0.exports}var JR;function uU(){return JR||(JR=1,function(n){(function(e,t){t(n,vo(),Yx())})(km,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var i=l(t),o=l(r);function l(L){return L&&L.__esModule?L:{default:L}}var c=Object.assign||function(L){for(var B=1;B<arguments.length;B++){var H=arguments[B];for(var j in H)Object.prototype.hasOwnProperty.call(H,j)&&(L[j]=H[j])}return L};function d(L,B){var H={};for(var j in L)B.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(L,j)&&(H[j]=L[j]);return H}function f(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}var g=function(){function L(B,H){for(var j=0;j<H.length;j++){var $=H[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(B,$.key,$)}}return function(B,H,j){return H&&L(B.prototype,H),j&&L(B,j),B}}();function _(L,B){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:L}function v(L,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);L.prototype=Object.create(B&&B.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(L,B):L.__proto__=B)}var T=!1;function w(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function C(L){if("touches"in L){var B=L.touches[0],H=B.pageX,j=B.pageY;return{x:H,y:j}}var $=L.screenX,M=L.screenY;return{x:$,y:M}}var U=function(L){v(B,L);function B(){var H;f(this,B);for(var j=arguments.length,$=Array(j),M=0;M<j;M++)$[M]=arguments[M];var x=_(this,(H=B.__proto__||Object.getPrototypeOf(B)).call.apply(H,[this].concat($)));return x._handleSwipeStart=x._handleSwipeStart.bind(x),x._handleSwipeMove=x._handleSwipeMove.bind(x),x._handleSwipeEnd=x._handleSwipeEnd.bind(x),x._onMouseDown=x._onMouseDown.bind(x),x._onMouseMove=x._onMouseMove.bind(x),x._onMouseUp=x._onMouseUp.bind(x),x._setSwiperRef=x._setSwiperRef.bind(x),x}return g(B,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var $=C(j),M=$.x,x=$.y;this.moveStart={x:M,y:x},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var $=C(j),M=$.x,x=$.y,I=M-this.moveStart.x,b=x-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:I,y:b},j);P&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:I,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var $=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-$?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>$&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-$?this.props.onSwipeUp(1,j):this.movePosition.deltaY>$&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var $=j.className,M=j.style,x=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var I=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,c({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:$,style:M},I),x)}}]),B}(t.Component);U.displayName="ReactSwipe",U.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},U.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=U})}(km)),km}var eI;function Qx(){return eI||(eI=1,function(n){(function(e,t){t(n,uU())})(Om,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Om)),Om}var dd={},P0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var tI;function cU(){return tI||(tI=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(P0)),P0.exports}var nI;function Xx(){if(nI)return dd;nI=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.default=void 0;var n=e(cU());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,l){return o in i?Object.defineProperty(i,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[o]=l,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,l){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(o,l){return(0,n.default)({thumbs:!o,slider:o,animated:!l})},ITEM:function(o,l,c){return(0,n.default)({thumb:!o,slide:o,selected:l,previous:c})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return dd.default=r,dd}var fd={},pd={},rI;function hU(){if(rI)return pd;rI=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return pd.outerWidth=n,pd}var md={},iI;function Sb(){if(iI)return md;iI=1,Object.defineProperty(md,"__esModule",{value:!0}),md.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,l=i==="horizontal"?[o,0,0]:[0,o,0],c="translate3d",d="("+l.join(",")+")";return c+d};return md.default=n,md}var gd={},sI;function Zx(){if(sI)return gd;sI=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.default=void 0;var n=function(){return window};return gd.default=n,gd}var aI;function Jx(){if(aI)return fd;aI=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=void 0;var n=d(vo()),e=l(Xx()),t=hU(),r=l(Sb()),i=l(Qx()),o=l(Zx());function l(x){return x&&x.__esModule?x:{default:x}}function c(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return c=function(){return x},x}function d(x){if(x&&x.__esModule)return x;if(x===null||f(x)!=="object"&&typeof x!="function")return{default:x};var I=c();if(I&&I.has(x))return I.get(x);var b={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in x)if(Object.prototype.hasOwnProperty.call(x,O)){var k=P?Object.getOwnPropertyDescriptor(x,O):null;k&&(k.get||k.set)?Object.defineProperty(b,O,k):b[O]=x[O]}return b.default=x,I&&I.set(x,b),b}function f(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(b){return typeof b}:f=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(x)}function g(){return g=Object.assign||function(x){for(var I=1;I<arguments.length;I++){var b=arguments[I];for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(x[P]=b[P])}return x},g.apply(this,arguments)}function _(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function v(x,I){for(var b=0;b<I.length;b++){var P=I[b];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}function T(x,I,b){return I&&v(x.prototype,I),x}function w(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&R(x,I)}function R(x,I){return R=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P},R(x,I)}function C(x){var I=B();return function(){var P=H(x),O;if(I){var k=H(this).constructor;O=Reflect.construct(P,arguments,k)}else O=P.apply(this,arguments);return U(this,O)}}function U(x,I){return I&&(f(I)==="object"||typeof I=="function")?I:L(x)}function L(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(x){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},H(x)}function j(x,I,b){return I in x?Object.defineProperty(x,I,{value:b,enumerable:!0,configurable:!0,writable:!0}):x[I]=b,x}var $=function(I){return I.hasOwnProperty("key")},M=function(x){w(b,x);var I=C(b);function b(P){var O;return _(this,b),O=I.call(this,P),j(L(O),"itemsWrapperRef",void 0),j(L(O),"itemsListRef",void 0),j(L(O),"thumbsRef",void 0),j(L(O),"setItemsWrapperRef",function(k){O.itemsWrapperRef=k}),j(L(O),"setItemsListRef",function(k){O.itemsListRef=k}),j(L(O),"setThumbsRef",function(k,te){O.thumbsRef||(O.thumbsRef=[]),O.thumbsRef[te]=k}),j(L(O),"updateSizes",function(){if(!(!O.props.children||!O.itemsWrapperRef||!O.thumbsRef)){var k=n.Children.count(O.props.children),te=O.itemsWrapperRef.clientWidth,F=O.props.thumbWidth?O.props.thumbWidth:(0,t.outerWidth)(O.thumbsRef[0]),ee=Math.floor(te/F),ie=ee<k,ue=ie?k-ee:0;O.setState(function(Te,q){return{itemSize:F,visibleItems:ee,firstItem:ie?O.getFirstItem(q.selectedItem):0,lastPosition:ue,showArrows:ie}})}}),j(L(O),"handleClickItem",function(k,te,F){if(!$(F)||F.key==="Enter"){var ee=O.props.onSelectItem;typeof ee=="function"&&ee(k,te)}}),j(L(O),"onSwipeStart",function(){O.setState({swiping:!0})}),j(L(O),"onSwipeEnd",function(){O.setState({swiping:!1})}),j(L(O),"onSwipeMove",function(k){var te=k.x;if(!O.state.itemSize||!O.itemsWrapperRef||!O.state.visibleItems)return!1;var F=0,ee=n.Children.count(O.props.children),ie=-(O.state.firstItem*100)/O.state.visibleItems,ue=Math.max(ee-O.state.visibleItems,0),Te=-ue*100/O.state.visibleItems;ie===F&&te>0&&(te=0),ie===Te&&te<0&&(te=0);var q=O.itemsWrapperRef.clientWidth,ae=ie+100/(q/te);return O.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(be){O.itemsListRef.style[be]=(0,r.default)(ae,"%",O.props.axis)}),!0}),j(L(O),"slideRight",function(k){O.moveTo(O.state.firstItem-(typeof k=="number"?k:1))}),j(L(O),"slideLeft",function(k){O.moveTo(O.state.firstItem+(typeof k=="number"?k:1))}),j(L(O),"moveTo",function(k){k=k<0?0:k,k=k>=O.state.lastPosition?O.state.lastPosition:k,O.setState({firstItem:k})}),O.state={selectedItem:P.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},O}return T(b,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(O){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==O.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(O){var k=O;return O>=this.state.lastPosition&&(k=this.state.lastPosition),O<this.state.firstItem+this.state.visibleItems&&(k=this.state.firstItem),O<this.state.firstItem&&(k=O),k}},{key:"renderItems",value:function(){var O=this;return this.props.children.map(function(k,te){var F=e.default.ITEM(!1,te===O.state.selectedItem),ee={key:te,ref:function(ue){return O.setThumbsRef(ue,te)},className:F,onClick:O.handleClickItem.bind(O,te,O.props.children[te]),onKeyDown:O.handleClickItem.bind(O,te,O.props.children[te]),"aria-label":"".concat(O.props.labels.item," ").concat(te+1),style:{width:O.props.thumbWidth}};return n.default.createElement("li",g({},ee,{role:"button",tabIndex:0}),k)})}},{key:"render",value:function(){var O=this;if(!this.props.children)return null;var k=n.Children.count(this.props.children)>1,te=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ee={},ie=-this.state.firstItem*(this.state.itemSize||0),ue=(0,r.default)(ie,"px",this.props.axis),Te=this.props.transitionTime+"ms";return ee={WebkitTransform:ue,MozTransform:ue,MsTransform:ue,OTransform:ue,transform:ue,msTransform:ue,WebkitTransitionDuration:Te,MozTransitionDuration:Te,MsTransitionDuration:Te,OTransitionDuration:Te,transitionDuration:Te,msTransitionDuration:Te},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!te),onClick:function(){return O.slideRight()},"aria-label":this.props.labels.leftArrow}),k?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ee,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ae){return O.setItemsListRef(ae)},style:ee},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return O.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),b}(n.Component);return fd.default=M,j(M,"displayName","Thumbs"),j(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),fd}var yd={},oI;function dU(){if(oI)return yd;oI=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.default=void 0;var n=function(){return document};return yd.default=n,yd}var Ir={},lI;function eP(){if(lI)return Ir;lI=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.setPosition=Ir.getPosition=Ir.isKeyboardEvent=Ir.defaultStatusFormatter=Ir.noop=void 0;var n=vo(),e=t(Sb());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};Ir.noop=r;var i=function(f,g){return"".concat(f," of ").concat(g)};Ir.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};Ir.isKeyboardEvent=o;var l=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,T=_-1;return f&&(f!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===T&&(v+=100-g.centerSlidePercentage),v}return-f*100};Ir.getPosition=l;var c=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return Ir.setPosition=c,Ir}var mi={},uI;function fU(){if(uI)return mi;uI=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.fadeAnimationHandler=mi.slideStopSwipingHandler=mi.slideSwipeAnimationHandler=mi.slideAnimationHandler=void 0;var n=vo(),e=r(Sb()),t=eP();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(R){return Object.getOwnPropertyDescriptor(_,R).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(w){l(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function l(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var c=function(v,T){var w={},R=T.selectedItem,C=R,U=n.Children.count(v.children)-1,L=v.infiniteLoop&&(R<0||R>U);if(L)return C<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(U+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(U+2)*100,v.axis):C>U&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var B=(0,t.getPosition)(R,v),H=(0,e.default)(B,"%",v.axis),j=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),w};mi.slideAnimationHandler=c;var d=function(v,T,w,R){var C={},U=T.axis==="horizontal",L=n.Children.count(T.children),B=0,H=(0,t.getPosition)(w.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),$=U?v.x:v.y,M=$;H===B&&$>0&&(M=0),H===j&&$<0&&(M=0);var x=H+100/(w.itemSize/M),I=Math.abs($)>T.swipeScrollTolerance;return T.infiniteLoop&&I&&(w.selectedItem===0&&x>-100?x-=L*100:w.selectedItem===L-1&&x<-L*100&&(x+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||I||w.swipeMovementStarted)&&(w.swipeMovementStarted||R({swipeMovementStarted:!0}),C.itemListStyle=(0,t.setPosition)(x,T.axis)),I&&!w.cancelClick&&R({cancelClick:!0}),C};mi.slideSwipeAnimationHandler=d;var f=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),R=(0,t.setPosition)(w,v.axis);return{itemListStyle:R}};mi.slideStopSwipingHandler=f;var g=function(v,T){var w=v.transitionTime+"ms",R="ease-in-out",C={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(C=o(o({},C),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:C,selectedStyle:o(o({},C),{},{opacity:1,position:"relative"}),prevStyle:o({},C)}};return mi.fadeAnimationHandler=g,mi}var cI;function pU(){if(cI)return hd;cI=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.default=void 0;var n=g(vo()),e=d(Qx()),t=d(Xx()),r=d(Jx()),i=d(dU()),o=d(Zx()),l=eP(),c=fU();function d(P){return P&&P.__esModule?P:{default:P}}function f(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return f=function(){return P},P}function g(P){if(P&&P.__esModule)return P;if(P===null||_(P)!=="object"&&typeof P!="function")return{default:P};var O=f();if(O&&O.has(P))return O.get(P);var k={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in P)if(Object.prototype.hasOwnProperty.call(P,F)){var ee=te?Object.getOwnPropertyDescriptor(P,F):null;ee&&(ee.get||ee.set)?Object.defineProperty(k,F,ee):k[F]=P[F]}return k.default=P,O&&O.set(P,k),k}function _(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(k){return typeof k}:_=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},_(P)}function v(){return v=Object.assign||function(P){for(var O=1;O<arguments.length;O++){var k=arguments[O];for(var te in k)Object.prototype.hasOwnProperty.call(k,te)&&(P[te]=k[te])}return P},v.apply(this,arguments)}function T(P,O){var k=Object.keys(P);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(P);O&&(te=te.filter(function(F){return Object.getOwnPropertyDescriptor(P,F).enumerable})),k.push.apply(k,te)}return k}function w(P){for(var O=1;O<arguments.length;O++){var k=arguments[O]!=null?arguments[O]:{};O%2?T(Object(k),!0).forEach(function(te){I(P,te,k[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(k)):T(Object(k)).forEach(function(te){Object.defineProperty(P,te,Object.getOwnPropertyDescriptor(k,te))})}return P}function R(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function C(P,O){for(var k=0;k<O.length;k++){var te=O[k];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(P,te.key,te)}}function U(P,O,k){return O&&C(P.prototype,O),P}function L(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),O&&B(P,O)}function B(P,O){return B=Object.setPrototypeOf||function(te,F){return te.__proto__=F,te},B(P,O)}function H(P){var O=M();return function(){var te=x(P),F;if(O){var ee=x(this).constructor;F=Reflect.construct(te,arguments,ee)}else F=te.apply(this,arguments);return j(this,F)}}function j(P,O){return O&&(_(O)==="object"||typeof O=="function")?O:$(P)}function $(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x(P){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},x(P)}function I(P,O,k){return O in P?Object.defineProperty(P,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):P[O]=k,P}var b=function(P){L(k,P);var O=H(k);function k(te){var F;R(this,k),F=O.call(this,te),I($(F),"thumbsRef",void 0),I($(F),"carouselWrapperRef",void 0),I($(F),"listRef",void 0),I($(F),"itemsRef",void 0),I($(F),"timer",void 0),I($(F),"animationHandler",void 0),I($(F),"setThumbsRef",function(ie){F.thumbsRef=ie}),I($(F),"setCarouselWrapperRef",function(ie){F.carouselWrapperRef=ie}),I($(F),"setListRef",function(ie){F.listRef=ie}),I($(F),"setItemsRef",function(ie,ue){F.itemsRef||(F.itemsRef=[]),F.itemsRef[ue]=ie}),I($(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),I($(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),I($(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),I($(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),I($(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),I($(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),I($(F),"navigateWithKeyboard",function(ie){if(F.isFocusWithinTheCarousel()){var ue=F.props.axis,Te=ue==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ae=Te?q.ArrowRight:q.ArrowDown,be=Te?q.ArrowLeft:q.ArrowUp;ae===ie.keyCode?F.increment():be===ie.keyCode&&F.decrement()}}),I($(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var ie=F.props.axis==="horizontal",ue=F.itemsRef[0];if(ue){var Te=ie?ue.clientWidth:ue.clientHeight;F.setState({itemSize:Te}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),I($(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),I($(F),"handleClickItem",function(ie,ue){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(ie,ue),ie!==F.state.selectedItem&&F.setState({selectedItem:ie})}}),I($(F),"handleOnChange",function(ie,ue){n.Children.count(F.props.children)<=1||F.props.onChange(ie,ue)}),I($(F),"handleClickThumb",function(ie,ue){F.props.onClickThumb(ie,ue),F.moveTo(ie)}),I($(F),"onSwipeStart",function(ie){F.setState({swiping:!0}),F.props.onSwipeStart(ie)}),I($(F),"onSwipeEnd",function(ie){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(ie),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),I($(F),"onSwipeMove",function(ie,ue){F.props.onSwipeMove(ue);var Te=F.props.swipeAnimationHandler(ie,F.props,F.state,F.setState.bind($(F)));return F.setState(w({},Te)),!!Object.keys(Te).length}),I($(F),"decrement",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof ie=="number"?ie:1))}),I($(F),"increment",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof ie=="number"?ie:1))}),I($(F),"moveTo",function(ie){if(typeof ie=="number"){var ue=n.Children.count(F.props.children)-1;ie<0&&(ie=F.props.infiniteLoop?ue:0),ie>ue&&(ie=F.props.infiniteLoop?0:ue),F.selectItem({selectedItem:ie}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),I($(F),"onClickNext",function(){F.increment(1)}),I($(F),"onClickPrev",function(){F.decrement(1)}),I($(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),I($(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),I($(F),"changeItem",function(ie){return function(ue){(!(0,l.isKeyboardEvent)(ue)||ue.key==="Enter")&&F.moveTo(ie)}}),I($(F),"selectItem",function(ie){F.setState(w({previousItem:F.state.selectedItem},ie),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(ie.selectedItem,n.Children.toArray(F.props.children)[ie.selectedItem])}),I($(F),"getInitialImage",function(){var ie=F.props.selectedItem,ue=F.itemsRef&&F.itemsRef[ie],Te=ue&&ue.getElementsByTagName("img")||[];return Te[0]}),I($(F),"getVariableItemHeight",function(ie){var ue=F.itemsRef&&F.itemsRef[ie];if(F.state.hasMount&&ue&&ue.children.length){var Te=ue.children[0].getElementsByTagName("img")||[];if(Te.length>0){var q=Te[0];if(!q.complete){var ae=function ye(){F.forceUpdate(),q.removeEventListener("load",ye)};q.addEventListener("load",ae)}}var be=Te[0]||ue.children[0],ve=be.clientHeight;return ve>0?ve:null}return null});var ee={initialized:!1,previousItem:te.selectedItem,selectedItem:te.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:te.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof te.animationHandler=="function"&&te.animationHandler||te.animationHandler==="fade"&&c.fadeAnimationHandler||c.slideAnimationHandler,F.state=w(w({},ee),F.animationHandler(te,ee)),F}return U(k,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,ee){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),ee.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ee=F.getInitialImage();ee&&!ee.complete?ee.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var ee=this;return this.props.children?n.Children.map(this.props.children,function(ie,ue){var Te=ue===ee.state.selectedItem,q=ue===ee.state.previousItem,ae=Te&&ee.state.selectedStyle||q&&ee.state.prevStyle||ee.state.slideStyle||{};ee.props.centerMode&&ee.props.axis==="horizontal"&&(ae=w(w({},ae),{},{minWidth:ee.props.centerSlidePercentage+"%"})),ee.state.swiping&&ee.state.swipeMovementStarted&&(ae=w(w({},ae),{},{pointerEvents:"none"}));var be={ref:function(ye){return ee.setItemsRef(ye,ue)},key:"itemKey"+ue+(F?"clone":""),className:t.default.ITEM(!0,ue===ee.state.selectedItem,ue===ee.state.previousItem),onClick:ee.handleClickItem.bind(ee,ue,ie),style:ae};return n.default.createElement("li",be,ee.props.renderItem(ie,{isSelected:ue===ee.state.selectedItem,isPrevious:ue===ee.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,ee=this.props,ie=ee.showIndicators,ue=ee.labels,Te=ee.renderIndicator,q=ee.children;return ie?n.default.createElement("ul",{className:"control-dots"},n.Children.map(q,function(ae,be){return Te&&Te(F.changeItem(be),be===F.state.selectedItem,be,ue.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var ee=this.props.swipeable&&n.Children.count(this.props.children)>1,ie=this.props.axis==="horizontal",ue=this.props.showArrows&&n.Children.count(this.props.children)>1,Te=ue&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=ue&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ae=this.renderItems(!0),be=ae.shift(),ve=ae.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Oe={};if(ie){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var ke=this.getVariableItemHeight(this.state.selectedItem);Oe.height=ke||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=w(w({},ye.style),{},{height:this.state.itemSize}),Oe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Te,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Oe},ee?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(ze){return F.setListRef(ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),k}(n.default.Component);return hd.default=b,I(b,"displayName","Carousel"),I(b,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(O,k,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_PREV(!k),onClick:O})},renderArrowNext:function(O,k,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_NEXT(!k),onClick:O})},renderIndicator:function(O,k,te,F){return n.default.createElement("li",{className:t.default.DOT(k),onClick:O,onKeyDown:O,value:te,key:te,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(te+1)})},renderItem:function(O){return O},renderThumbs:function(O){var k=n.Children.map(O,function(te){var F=te;if(te.type!=="img"&&(F=n.Children.toArray(te.props.children).find(function(ee){return ee.type==="img"})),!!F)return F});return k.filter(function(te){return te}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):k},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:c.slideSwipeAnimationHandler,stopSwipingHandler:c.slideStopSwipingHandler}),hd}var hI={},dI;function mU(){return dI||(dI=1),hI}var fI;function gU(){return fI||(fI=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(pU()),t=mU(),r=i(Jx());function i(o){return o&&o.__esModule?o:{default:o}}}(R0)),R0}var yU=gU();const _U="/New_Amazon_Clone/assets/001-BPlZE7a_.jpg",vU="/New_Amazon_Clone/assets/002-Fp0oaH3y.jpg",EU="/New_Amazon_Clone/assets/003-CO6XiwvK.jpg",bU="/New_Amazon_Clone/assets/004-BPr44Ttk.jpg",wU="/New_Amazon_Clone/assets/005-bl35EseN.jpg",TU=[_U,vU,EU,bU,wU],SU="_hero_img_1nrmb_1",AU="_carousel_image_1nrmb_9",O0={hero_img:SU,carousel_image:AU};function RU(){return V.jsxs("div",{className:O0.carousel_container,children:[V.jsx(yU.Carousel,{autoPlay:!0,infiniteLoop:!0,showThumbs:!1,showIndicators:!1,showStatus:!1,children:TU.map(n=>V.jsx("img",{src:n,alt:"carousel images",className:O0.carousel_image},n))}),V.jsx("div",{className:`${O0.hero_img} `,children:" "})]})}const IU=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/61IBBVJvSDL._AC_SY879_.jpg",rating:{rate:4.1,count:259}},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://fakestoreapi.com/img/51eg55uWmdL._AC_UX679_.jpg",rating:{rate:3.9,count:120}},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg",rating:{rate:2.1,count:430}},{title:"Jewelery",name:"jewelery",imgLink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg",rating:{rate:4.6,count:400}}],CU="_category_container_1qj2m_3",xU="_category_card_1qj2m_21",PU="_title_1qj2m_51",bg={category_container:CU,category_card:xU,title:PU},OU=({data:n})=>V.jsx("div",{className:`${bg.category_card} `,children:V.jsxs(yi,{to:`/category/${n.name}`,children:[V.jsx("span",{children:V.jsx("h2",{className:`${bg.title}`,children:n.title})}),V.jsx("img",{src:n.imgLink,alt:n.title}),V.jsx("p",{children:"Shop now"})]})}),kU=()=>V.jsx("section",{className:`${bg.category_section}  `,children:V.jsx("div",{className:`${bg.category_container} `,children:IU.map(n=>V.jsx(OU,{data:n},n.name))})});function tP(n,e){return function(){return n.apply(e,arguments)}}const{toString:DU}=Object.prototype,{getPrototypeOf:Ab}=Object,uy=(n=>e=>{const t=DU.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),vi=n=>(n=n.toLowerCase(),e=>uy(e)===n),cy=n=>e=>typeof e===n,{isArray:Bc}=Array,af=cy("undefined");function NU(n){return n!==null&&!af(n)&&n.constructor!==null&&!af(n.constructor)&&Dr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const nP=vi("ArrayBuffer");function MU(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&nP(n.buffer),e}const VU=cy("string"),Dr=cy("function"),rP=cy("number"),hy=n=>n!==null&&typeof n=="object",LU=n=>n===!0||n===!1,Xm=n=>{if(uy(n)!=="object")return!1;const e=Ab(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},UU=vi("Date"),BU=vi("File"),FU=vi("Blob"),jU=vi("FileList"),zU=n=>hy(n)&&Dr(n.pipe),qU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Dr(n.append)&&((e=uy(n))==="formdata"||e==="object"&&Dr(n.toString)&&n.toString()==="[object FormData]"))},HU=vi("URLSearchParams"),[$U,GU,KU,WU]=["ReadableStream","Request","Response","Headers"].map(vi),YU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Bc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let c;for(r=0;r<l;r++)c=o[r],e.call(null,n[c],c,n)}}function iP(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ml=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sP=n=>!af(n)&&n!==ml;function fE(){const{caseless:n}=sP(this)&&this||{},e={},t=(r,i)=>{const o=n&&iP(e,i)||i;Xm(e[o])&&Xm(r)?e[o]=fE(e[o],r):Xm(r)?e[o]=fE({},r):Bc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Vf(arguments[r],t);return e}const QU=(n,e,t,{allOwnKeys:r}={})=>(Vf(e,(i,o)=>{t&&Dr(i)?n[o]=tP(i,t):n[o]=i},{allOwnKeys:r}),n),XU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ZU=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},JU=(n,e,t,r)=>{let i,o,l;const c={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)l=i[o],(!r||r(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=t!==!1&&Ab(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},e4=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},t4=n=>{if(!n)return null;if(Bc(n))return n;let e=n.length;if(!rP(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},n4=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ab(Uint8Array)),r4=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},i4=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},s4=vi("HTMLFormElement"),a4=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),pI=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),o4=vi("RegExp"),aP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Vf(t,(i,o)=>{let l;(l=e(i,o,n))!==!1&&(r[o]=l||i)}),Object.defineProperties(n,r)},l4=n=>{aP(n,(e,t)=>{if(Dr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Dr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},u4=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Bc(n)?r(n):r(String(n).split(e)),t},c4=()=>{},h4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,k0="abcdefghijklmnopqrstuvwxyz",mI="0123456789",oP={DIGIT:mI,ALPHA:k0,ALPHA_DIGIT:k0+k0.toUpperCase()+mI},d4=(n=16,e=oP.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function f4(n){return!!(n&&Dr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const p4=n=>{const e=new Array(10),t=(r,i)=>{if(hy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Bc(r)?[]:{};return Vf(r,(l,c)=>{const d=t(l,i+1);!af(d)&&(o[c]=d)}),e[i]=void 0,o}}return r};return t(n,0)},m4=vi("AsyncFunction"),g4=n=>n&&(hy(n)||Dr(n))&&Dr(n.then)&&Dr(n.catch),lP=((n,e)=>n?setImmediate:e?((t,r)=>(ml.addEventListener("message",({source:i,data:o})=>{i===ml&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ml.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Dr(ml.postMessage)),y4=typeof queueMicrotask<"u"?queueMicrotask.bind(ml):typeof process<"u"&&process.nextTick||lP,se={isArray:Bc,isArrayBuffer:nP,isBuffer:NU,isFormData:qU,isArrayBufferView:MU,isString:VU,isNumber:rP,isBoolean:LU,isObject:hy,isPlainObject:Xm,isReadableStream:$U,isRequest:GU,isResponse:KU,isHeaders:WU,isUndefined:af,isDate:UU,isFile:BU,isBlob:FU,isRegExp:o4,isFunction:Dr,isStream:zU,isURLSearchParams:HU,isTypedArray:n4,isFileList:jU,forEach:Vf,merge:fE,extend:QU,trim:YU,stripBOM:XU,inherits:ZU,toFlatObject:JU,kindOf:uy,kindOfTest:vi,endsWith:e4,toArray:t4,forEachEntry:r4,matchAll:i4,isHTMLForm:s4,hasOwnProperty:pI,hasOwnProp:pI,reduceDescriptors:aP,freezeMethods:l4,toObjectSet:u4,toCamelCase:a4,noop:c4,toFiniteNumber:h4,findKey:iP,global:ml,isContextDefined:sP,ALPHABET:oP,generateString:d4,isSpecCompliantForm:f4,toJSONObject:p4,isAsyncFn:m4,isThenable:g4,setImmediate:lP,asap:y4};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const uP=Me.prototype,cP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{cP[n]={value:n}});Object.defineProperties(Me,cP);Object.defineProperty(uP,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const l=Object.create(uP);return se.toFlatObject(n,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Me.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const _4=null;function pE(n){return se.isPlainObject(n)||se.isArray(n)}function hP(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function gI(n,e,t){return n?n.concat(e).map(function(i,o){return i=hP(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function v4(n){return se.isArray(n)&&!n.some(pE)}const E4=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function dy(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,C){return!se.isUndefined(C[R])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(!d&&se.isBlob(w))throw new Me("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,R,C){let U=w;if(w&&!C&&typeof w=="object"){if(se.endsWith(R,"{}"))R=r?R:R.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&v4(w)||(se.isFileList(w)||se.endsWith(R,"[]"))&&(U=se.toArray(w)))return R=hP(R),U.forEach(function(B,H){!(se.isUndefined(B)||B===null)&&e.append(l===!0?gI([R],H,o):l===null?R:R+"[]",f(B))}),!1}return pE(w)?!0:(e.append(gI(C,R,o),f(w)),!1)}const _=[],v=Object.assign(E4,{defaultVisitor:g,convertValue:f,isVisitable:pE});function T(w,R){if(!se.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+R.join("."));_.push(w),se.forEach(w,function(U,L){(!(se.isUndefined(U)||U===null)&&i.call(e,U,se.isString(L)?L.trim():L,R,v))===!0&&T(U,R?R.concat(L):[L])}),_.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return T(n),e}function yI(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Rb(n,e){this._pairs=[],n&&dy(n,this,e)}const dP=Rb.prototype;dP.append=function(e,t){this._pairs.push([e,t])};dP.toString=function(e){const t=e?function(r){return e.call(this,r,yI)}:yI;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function b4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fP(n,e,t){if(!e)return n;const r=t&&t.encode||b4;se.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=se.isURLSearchParams(e)?e.toString():new Rb(e,t).toString(r),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class _I{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const pP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},w4=typeof URLSearchParams<"u"?URLSearchParams:Rb,T4=typeof FormData<"u"?FormData:null,S4=typeof Blob<"u"?Blob:null,A4={isBrowser:!0,classes:{URLSearchParams:w4,FormData:T4,Blob:S4},protocols:["http","https","file","blob","url","data"]},Ib=typeof window<"u"&&typeof document<"u",mE=typeof navigator=="object"&&navigator||void 0,R4=Ib&&(!mE||["ReactNative","NativeScript","NS"].indexOf(mE.product)<0),I4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",C4=Ib&&window.location.href||"http://localhost",x4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ib,hasStandardBrowserEnv:R4,hasStandardBrowserWebWorkerEnv:I4,navigator:mE,origin:C4},Symbol.toStringTag,{value:"Module"})),Gn={...x4,...A4};function P4(n,e){return dy(n,new Gn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Gn.isNode&&se.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function O4(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function k4(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function mP(n){function e(t,r,i,o){let l=t[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=t.length;return l=!l&&se.isArray(i)?i.length:l,d?(se.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!se.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],o)&&se.isArray(i[l])&&(i[l]=k4(i[l])),!c)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(r,i)=>{e(O4(r),i,t,0)}),t}return null}function D4(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Lf={transitional:pP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(mP(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return P4(e,this.formSerializer).toString();if((c=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return dy(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),D4(e)):e}],transformResponse:[function(e){const t=this.transitional||Lf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Me.from(c,Me.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gn.classes.FormData,Blob:Gn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{Lf.headers[n]={}});const N4=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M4=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&N4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},vI=Symbol("internals");function _d(n){return n&&String(n).trim().toLowerCase()}function Zm(n){return n===!1||n==null?n:se.isArray(n)?n.map(Zm):String(n)}function V4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const L4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function D0(n,e,t,r,i){if(se.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function U4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function B4(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let yr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(c,d,f){const g=_d(d);if(!g)throw new Error("header name must be a non-empty string");const _=se.findKey(i,g);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||d]=Zm(c))}const l=(c,d)=>se.forEach(c,(f,g)=>o(f,g,d));if(se.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(se.isString(e)&&(e=e.trim())&&!L4(e))l(M4(e),t);else if(se.isHeaders(e))for(const[c,d]of e.entries())o(d,c,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=_d(e),e){const r=se.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return V4(i);if(se.isFunction(t))return t.call(this,i,r);if(se.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_d(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||D0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(l){if(l=_d(l),l){const c=se.findKey(r,l);c&&(!t||D0(r,r[c],c,t))&&(delete r[c],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||D0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return se.forEach(this,(i,o)=>{const l=se.findKey(r,o);if(l){t[l]=Zm(i),delete t[o];return}const c=e?U4(o):String(o).trim();c!==o&&delete t[o],t[c]=Zm(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&se.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vI]=this[vI]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=_d(l);r[c]||(B4(i,l),r[c]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(yr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});se.freezeMethods(yr);function N0(n,e){const t=this||Lf,r=e||t,i=yr.from(r.headers);let o=r.data;return se.forEach(n,function(c){o=c.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function gP(n){return!!(n&&n.__CANCEL__)}function Fc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(Fc,Me,{__CANCEL__:!0});function yP(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function F4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function j4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];l||(l=f),t[i]=d,r[i]=f;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-l<e)return;const T=g&&f-g;return T?Math.round(v*1e3/T):void 0}}function z4(n,e){let t=0,r=1e3/e,i,o;const l=(f,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?l(f,g):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},r-_)))},()=>i&&l(i)]}const wg=(n,e,t=3)=>{let r=0;const i=j4(50,250);return z4(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-r,f=i(d),g=l<=c;r=l;const _={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&g?(c-l)/f:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(_)},t)},EI=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},bI=n=>(...e)=>se.asap(()=>n(...e)),q4=Gn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Gn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Gn.origin),Gn.navigator&&/(msie|trident)/i.test(Gn.navigator.userAgent)):()=>!0,H4=Gn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const l=[n+"="+encodeURIComponent(e)];se.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),se.isString(r)&&l.push("path="+r),se.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function G4(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function _P(n,e){return n&&!$4(e)?G4(n,e):e}const wI=n=>n instanceof yr?{...n}:n;function Al(n,e){e=e||{};const t={};function r(f,g,_,v){return se.isPlainObject(f)&&se.isPlainObject(g)?se.merge.call({caseless:v},f,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(f,g,_,v){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!se.isUndefined(g))return r(void 0,g)}function l(f,g){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function c(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,g,_)=>i(wI(f),wI(g),_,!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=d[g]||i,v=_(n[g],e[g],g);se.isUndefined(v)&&_!==c||(t[g]=v)}),t}const vP=n=>{const e=Al({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=yr.from(l),e.url=fP(_P(e.baseURL,e.url),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(se.isFormData(t)){if(Gn.hasStandardBrowserEnv||Gn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...g].join("; "))}}if(Gn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&q4(e.url))){const f=i&&o&&H4.read(o);f&&l.set(i,f)}return e},K4=typeof XMLHttpRequest<"u",W4=K4&&function(n){return new Promise(function(t,r){const i=vP(n);let o=i.data;const l=yr.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=i,g,_,v,T,w;function R(){T&&T(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function U(){if(!C)return;const B=yr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:B,config:n,request:C};yP(function(M){t(M),R()},function(M){r(M),R()},j),C=null}"onloadend"in C?C.onloadend=U:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(U)},C.onabort=function(){C&&(r(new Me("Request aborted",Me.ECONNABORTED,n,C)),C=null)},C.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||pP;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Me(H,j.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,C)),C=null},o===void 0&&l.setContentType(null),"setRequestHeader"in C&&se.forEach(l.toJSON(),function(H,j){C.setRequestHeader(j,H)}),se.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),c&&c!=="json"&&(C.responseType=i.responseType),f&&([v,w]=wg(f,!0),C.addEventListener("progress",v)),d&&C.upload&&([_,T]=wg(d),C.upload.addEventListener("progress",_),C.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=B=>{C&&(r(!B||B.type?new Fc(null,n,C):B),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const L=F4(i.url);if(L&&Gn.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}C.send(o||null)})},Y4=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,c();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Me?g:new Fc(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(c),d}},Q4=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},X4=async function*(n,e){for await(const t of Z4(n))yield*Q4(t,e)},Z4=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},TI=(n,e,t,r)=>{const i=X4(n,e);let o=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){c(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw c(f),f}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},fy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",EP=fy&&typeof ReadableStream=="function",J4=fy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),bP=(n,...e)=>{try{return!!n(...e)}catch{return!1}},e5=EP&&bP(()=>{let n=!1;const e=new Request(Gn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),SI=64*1024,gE=EP&&bP(()=>se.isReadableStream(new Response("").body)),Tg={stream:gE&&(n=>n.body)};fy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Tg[e]&&(Tg[e]=se.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const t5=async n=>{if(n==null)return 0;if(se.isBlob(n))return n.size;if(se.isSpecCompliantForm(n))return(await new Request(Gn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(se.isArrayBufferView(n)||se.isArrayBuffer(n))return n.byteLength;if(se.isURLSearchParams(n)&&(n=n+""),se.isString(n))return(await J4(n)).byteLength},n5=async(n,e)=>{const t=se.toFiniteNumber(n.getContentLength());return t??t5(e)},r5=fy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:g,withCredentials:_="same-origin",fetchOptions:v}=vP(n);f=f?(f+"").toLowerCase():"text";let T=Y4([i,o&&o.toAbortSignal()],l),w;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let C;try{if(d&&e5&&t!=="get"&&t!=="head"&&(C=await n5(g,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(se.isFormData(r)&&($=j.headers.get("content-type"))&&g.setContentType($),j.body){const[M,x]=EI(C,wg(bI(d)));r=TI(j.body,SI,M,x)}}se.isString(_)||(_=_?"include":"omit");const U="credentials"in Request.prototype;w=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?_:void 0});let L=await fetch(w);const B=gE&&(f==="stream"||f==="response");if(gE&&(c||B&&R)){const j={};["status","statusText","headers"].forEach(I=>{j[I]=L[I]});const $=se.toFiniteNumber(L.headers.get("content-length")),[M,x]=c&&EI($,wg(bI(c),!0))||[];L=new Response(TI(L.body,SI,M,()=>{x&&x(),R&&R()}),j)}f=f||"text";let H=await Tg[se.findKey(Tg,f)||"text"](L,n);return!B&&R&&R(),await new Promise((j,$)=>{yP(j,$,{data:H,headers:yr.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:w})})}catch(U){throw R&&R(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,w),{cause:U.cause||U}):Me.from(U,U&&U.code,n,w)}}),yE={http:_4,xhr:W4,fetch:r5};se.forEach(yE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const AI=n=>`- ${n}`,i5=n=>se.isFunction(n)||n===null||n===!1,wP={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let l;if(r=t,!i5(t)&&(r=yE[(l=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(AI).join(`
`):" "+AI(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:yE};function M0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Fc(null,n)}function RI(n){return M0(n),n.headers=yr.from(n.headers),n.data=N0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),wP.getAdapter(n.adapter||Lf.adapter)(n).then(function(r){return M0(n),r.data=N0.call(n,n.transformResponse,r),r.headers=yr.from(r.headers),r},function(r){return gP(r)||(M0(n),r&&r.response&&(r.response.data=N0.call(n,n.transformResponse,r.response),r.response.headers=yr.from(r.response.headers))),Promise.reject(r)})}const TP="1.7.9",py={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{py[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const II={};py.transitional=function(e,t,r){function i(o,l){return"[Axios v"+TP+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(e===!1)throw new Me(i(l," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!II[l]&&(II[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,c):!0}};py.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function s5(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const c=n[o],d=c===void 0||l(c,o,n);if(d!==!0)throw new Me("option "+o+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const Jm={assertOptions:s5,validators:py},Vi=Jm.validators;let El=class{constructor(e){this.defaults=e,this.interceptors={request:new _I,response:new _I}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Al(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Jm.assertOptions(r,{silentJSONParsing:Vi.transitional(Vi.boolean),forcedJSONParsing:Vi.transitional(Vi.boolean),clarifyTimeoutError:Vi.transitional(Vi.boolean)},!1),i!=null&&(se.isFunction(i)?t.paramsSerializer={serialize:i}:Jm.assertOptions(i,{encode:Vi.function,serialize:Vi.function},!0)),Jm.assertOptions(t,{baseUrl:Vi.spelling("baseURL"),withXsrfToken:Vi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=yr.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,c.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let g,_=0,v;if(!d){const w=[RI.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=c.length;let T=t;for(_=0;_<v;){const w=c[_++],R=c[_++];try{T=w(T)}catch(C){R.call(this,C);break}}try{g=RI.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=Al(this.defaults,e);const t=_P(e.baseURL,e.url);return fP(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){El.prototype[e]=function(t,r){return this.request(Al(r||{},{method:e,url:t,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(r){return function(o,l,c){return this.request(Al(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}El.prototype[e]=t(),El.prototype[e+"Form"]=t(!0)});let a5=class SP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,c){r.reason||(r.reason=new Fc(o,l,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new SP(function(i){e=i}),cancel:e}}};function o5(n){return function(t){return n.apply(null,t)}}function l5(n){return se.isObject(n)&&n.isAxiosError===!0}const _E={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_E).forEach(([n,e])=>{_E[e]=n});function AP(n){const e=new El(n),t=tP(El.prototype.request,e);return se.extend(t,El.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return AP(Al(n,i))},t}const Ct=AP(Lf);Ct.Axios=El;Ct.CanceledError=Fc;Ct.CancelToken=a5;Ct.isCancel=gP;Ct.VERSION=TP;Ct.toFormData=dy;Ct.AxiosError=Me;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=o5;Ct.isAxiosError=l5;Ct.mergeConfig=Al;Ct.AxiosHeaders=yr;Ct.formToJSON=n=>mP(se.isHTMLForm(n)?new FormData(n):n);Ct.getAdapter=wP.getAdapter;Ct.HttpStatusCode=_E;Ct.default=Ct;const{Axios:jQ,AxiosError:zQ,CanceledError:qQ,isCancel:HQ,CancelToken:$Q,VERSION:GQ,all:KQ,Cancel:WQ,isAxiosError:YQ,spread:QQ,toFormData:XQ,AxiosHeaders:ZQ,HttpStatusCode:JQ,formToJSON:eX,getAdapter:tX,mergeConfig:nX}=Ct,of={black:"#000",white:"#fff"},Mu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Vu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Lu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Uu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Bu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},vd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},u5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const c5="$$material";function vE(){return vE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vE.apply(null,arguments)}function h5(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function d5(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var f5=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(d5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=h5(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Hn="-ms-",Sg="-moz-",rt="-webkit-",RP="comm",Cb="rule",xb="decl",p5="@import",IP="@keyframes",m5="@layer",g5=Math.abs,my=String.fromCharCode,y5=Object.assign;function _5(n,e){return Nn(n,0)^45?(((e<<2^Nn(n,0))<<2^Nn(n,1))<<2^Nn(n,2))<<2^Nn(n,3):0}function CP(n){return n.trim()}function v5(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function EE(n,e){return n.indexOf(e)}function Nn(n,e){return n.charCodeAt(e)|0}function lf(n,e,t){return n.slice(e,t)}function Fi(n){return n.length}function Pb(n){return n.length}function Dm(n,e){return e.push(n),n}function E5(n,e){return n.map(e).join("")}var gy=1,uc=1,xP=0,_r=0,on=0,jc="";function yy(n,e,t,r,i,o,l){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:gy,column:uc,length:l,return:""}}function Ed(n,e){return y5(yy("",null,null,"",null,null,0),n,{length:-n.length},e)}function b5(){return on}function w5(){return on=_r>0?Nn(jc,--_r):0,uc--,on===10&&(uc=1,gy--),on}function Nr(){return on=_r<xP?Nn(jc,_r++):0,uc++,on===10&&(uc=1,gy++),on}function Zi(){return Nn(jc,_r)}function eg(){return _r}function Uf(n,e){return lf(jc,n,e)}function uf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PP(n){return gy=uc=1,xP=Fi(jc=n),_r=0,[]}function OP(n){return jc="",n}function tg(n){return CP(Uf(_r-1,bE(n===91?n+2:n===40?n+1:n)))}function T5(n){for(;(on=Zi())&&on<33;)Nr();return uf(n)>2||uf(on)>3?"":" "}function S5(n,e){for(;--e&&Nr()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return Uf(n,eg()+(e<6&&Zi()==32&&Nr()==32))}function bE(n){for(;Nr();)switch(on){case n:return _r;case 34:case 39:n!==34&&n!==39&&bE(on);break;case 40:n===41&&bE(n);break;case 92:Nr();break}return _r}function A5(n,e){for(;Nr()&&n+on!==57;)if(n+on===84&&Zi()===47)break;return"/*"+Uf(e,_r-1)+"*"+my(n===47?n:Nr())}function R5(n){for(;!uf(Zi());)Nr();return Uf(n,_r)}function I5(n){return OP(ng("",null,null,null,[""],n=PP(n),0,[0],n))}function ng(n,e,t,r,i,o,l,c,d){for(var f=0,g=0,_=l,v=0,T=0,w=0,R=1,C=1,U=1,L=0,B="",H=i,j=o,$=r,M=B;C;)switch(w=L,L=Nr()){case 40:if(w!=108&&Nn(M,_-1)==58){EE(M+=it(tg(L),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:M+=tg(L);break;case 9:case 10:case 13:case 32:M+=T5(w);break;case 92:M+=S5(eg()-1,7);continue;case 47:switch(Zi()){case 42:case 47:Dm(C5(A5(Nr(),eg()),e,t),d);break;default:M+="/"}break;case 123*R:c[f++]=Fi(M)*U;case 125*R:case 59:case 0:switch(L){case 0:case 125:C=0;case 59+g:U==-1&&(M=it(M,/\f/g,"")),T>0&&Fi(M)-_&&Dm(T>32?xI(M+";",r,t,_-1):xI(it(M," ","")+";",r,t,_-2),d);break;case 59:M+=";";default:if(Dm($=CI(M,e,t,f,g,i,c,B,H=[],j=[],_),o),L===123)if(g===0)ng(M,e,$,$,H,o,_,c,j);else switch(v===99&&Nn(M,3)===110?100:v){case 100:case 108:case 109:case 115:ng(n,$,$,r&&Dm(CI(n,$,$,0,0,i,c,B,i,H=[],_),j),i,j,_,c,r?H:j);break;default:ng(M,$,$,$,[""],j,0,c,j)}}f=g=T=0,R=U=1,B=M="",_=l;break;case 58:_=1+Fi(M),T=w;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&w5()==125)continue}switch(M+=my(L),L*R){case 38:U=g>0?1:(M+="\f",-1);break;case 44:c[f++]=(Fi(M)-1)*U,U=1;break;case 64:Zi()===45&&(M+=tg(Nr())),v=Zi(),g=_=Fi(B=M+=R5(eg())),L++;break;case 45:w===45&&Fi(M)==2&&(R=0)}}return o}function CI(n,e,t,r,i,o,l,c,d,f,g){for(var _=i-1,v=i===0?o:[""],T=Pb(v),w=0,R=0,C=0;w<r;++w)for(var U=0,L=lf(n,_+1,_=g5(R=l[w])),B=n;U<T;++U)(B=CP(R>0?v[U]+" "+L:it(L,/&\f/g,v[U])))&&(d[C++]=B);return yy(n,e,t,i===0?Cb:c,d,f,g)}function C5(n,e,t){return yy(n,e,t,RP,my(b5()),lf(n,2,-2),0)}function xI(n,e,t,r){return yy(n,e,t,xb,lf(n,0,r),lf(n,r+1,-1),r)}function ec(n,e){for(var t="",r=Pb(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function x5(n,e,t,r){switch(n.type){case m5:if(n.children.length)break;case p5:case xb:return n.return=n.return||n.value;case RP:return"";case IP:return n.return=n.value+"{"+ec(n.children,r)+"}";case Cb:n.value=n.props.join(",")}return Fi(t=ec(n.children,r))?n.return=n.value+"{"+t+"}":""}function P5(n){var e=Pb(n);return function(t,r,i,o){for(var l="",c=0;c<e;c++)l+=n[c](t,r,i,o)||"";return l}}function O5(n){return function(e){e.root||(e=e.return)&&n(e)}}function kP(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var k5=function(e,t,r){for(var i=0,o=0;i=o,o=Zi(),i===38&&o===12&&(t[r]=1),!uf(o);)Nr();return Uf(e,_r)},D5=function(e,t){var r=-1,i=44;do switch(uf(i)){case 0:i===38&&Zi()===12&&(t[r]=1),e[r]+=k5(_r-1,t,r);break;case 2:e[r]+=tg(i);break;case 4:if(i===44){e[++r]=Zi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=my(i)}while(i=Nr());return e},N5=function(e,t){return OP(D5(PP(e),t))},PI=new WeakMap,M5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!PI.get(r))&&!i){PI.set(e,!0);for(var o=[],l=N5(t,o),c=r.props,d=0,f=0;d<l.length;d++)for(var g=0;g<c.length;g++,f++)e.props[f]=o[d]?l[d].replace(/&\f/g,c[g]):c[g]+" "+l[d]}}},V5=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function DP(n,e){switch(_5(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+Sg+n+Hn+n+n;case 6828:case 4268:return rt+n+Hn+n+n;case 6165:return rt+n+Hn+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+Hn+"flex-$1$2")+n;case 5443:return rt+n+Hn+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+Hn+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+Hn+it(n,"shrink","negative")+n;case 5292:return rt+n+Hn+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+Hn+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+Hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fi(n)-1-e>6)switch(Nn(n,e+1)){case 109:if(Nn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Sg+(Nn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~EE(n,"stretch")?DP(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Nn(n,e+1)!==115)break;case 6444:switch(Nn(n,Fi(n)-3-(~EE(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(Nn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+Hn+"$2box$3")+n}break;case 5936:switch(Nn(n,e+11)){case 114:return rt+n+Hn+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+Hn+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+Hn+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+Hn+n+n}return n}var L5=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case xb:e.return=DP(e.value,e.length);break;case IP:return ec([Ed(e,{value:it(e.value,"@","@"+rt)})],i);case Cb:if(e.length)return E5(e.props,function(o){switch(v5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ec([Ed(e,{props:[it(o,/:(read-\w+)/,":"+Sg+"$1")]})],i);case"::placeholder":return ec([Ed(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),Ed(e,{props:[it(o,/:(plac\w+)/,":"+Sg+"$1")]}),Ed(e,{props:[it(o,/:(plac\w+)/,Hn+"input-$1")]})],i)}return""})}},U5=[L5],B5=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var C=R.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||U5,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var C=R.getAttribute("data-emotion").split(" "),U=1;U<C.length;U++)o[C[U]]=!0;c.push(R)});var d,f=[M5,V5];{var g,_=[x5,O5(function(R){g.insert(R)})],v=P5(f.concat(i,_)),T=function(C){return ec(I5(C),v)};d=function(C,U,L,B){g=L,T(C?C+"{"+U.styles+"}":U.styles),B&&(w.inserted[U.name]=!0)}}var w={key:t,sheet:new f5({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(c),w},F5=!0;function j5(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var NP=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||F5===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},z5=function(e,t,r){NP(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function q5(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var H5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$5=/[A-Z]|^ms/g,G5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,MP=function(e){return e.charCodeAt(1)===45},OI=function(e){return e!=null&&typeof e!="boolean"},V0=kP(function(n){return MP(n)?n:n.replace($5,"-$&").toLowerCase()}),kI=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(G5,function(r,i,o){return ji={name:i,styles:o,next:ji},i})}return H5[e]!==1&&!MP(e)&&typeof t=="number"&&t!==0?t+"px":t};function cf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return ji={name:i.name,styles:i.styles,next:ji},i.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)ji={name:l.name,styles:l.styles,next:ji},l=l.next;var c=o.styles+";";return c}return K5(n,e,t)}case"function":{if(n!==void 0){var d=ji,f=t(n);return ji=d,cf(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function K5(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=cf(n,e,t[i])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?r+=o+"{"+e[c]+"}":OI(c)&&(r+=V0(o)+":"+kI(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)OI(l[d])&&(r+=V0(o)+":"+kI(o,l[d])+";");else{var f=cf(n,e,l);switch(o){case"animation":case"animationName":{r+=V0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var DI=/label:\s*([^\s;{]+)\s*(;|$)/g,ji;function VP(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";ji=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=cf(t,e,o);else{var l=o;i+=l[0]}for(var c=1;c<n.length;c++)if(i+=cf(t,e,n[c]),r){var d=o;i+=d[c]}DI.lastIndex=0;for(var f="",g;(g=DI.exec(i))!==null;)f+="-"+g[1];var _=q5(i)+f;return{name:_,styles:i,next:ji}}var W5=function(e){return e()},Y5=cE.useInsertionEffect?cE.useInsertionEffect:!1,Q5=Y5||W5,LP=W.createContext(typeof HTMLElement<"u"?B5({key:"css"}):null);LP.Provider;var X5=function(e){return W.forwardRef(function(t,r){var i=W.useContext(LP);return e(t,i,r)})},Z5=W.createContext({}),J5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eB=kP(function(n){return J5.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),tB=eB,nB=function(e){return e!=="theme"},NI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?tB:nB},MI=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},rB=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return NP(t,r,i),Q5(function(){return z5(t,r,i)}),null},iB=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var c=MI(e,t,r),d=c||NI(i),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var R=X5(function(C,U,L){var B=f&&C.as||i,H="",j=[],$=C;if(C.theme==null){$={};for(var M in C)$[M]=C[M];$.theme=W.useContext(Z5)}typeof C.className=="string"?H=j5(U.registered,j,C.className):C.className!=null&&(H=C.className+" ");var x=VP(_.concat(j),U.registered,$);H+=U.key+"-"+x.name,l!==void 0&&(H+=" "+l);var I=f&&c===void 0?NI(B):d,b={};for(var P in C)f&&P==="as"||I(P)&&(b[P]=C[P]);return b.className=H,L&&(b.ref=L),W.createElement(W.Fragment,null,W.createElement(rB,{cache:U,serialized:x,isStringTag:typeof B=="string"}),W.createElement(B,b))});return R.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=_,R.__emotion_forwardProp=c,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(C,U){var L=n(C,vE({},t,U,{shouldForwardProp:MI(R,U,!0)}));return L.apply(void 0,_)},R}},sB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wE=iB.bind(null);sB.forEach(function(n){wE[n]=wE(n)});var aB=Yx();const Dt=_b(aB);/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function oB(n,e){return wE(n,e)}function lB(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const VI=[];function LI(n){return VI[0]=n,VP(VI)}var L0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function uB(){if(UI)return ht;UI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function w(R){if(typeof R=="object"&&R!==null){var C=R.$$typeof;switch(C){case n:switch(R=R.type,R){case t:case i:case r:case d:case f:return R;default:switch(R=R&&R.$$typeof,R){case l:case c:case _:case g:return R;case o:return R;default:return C}}case e:return C}}}return ht.ContextConsumer=o,ht.ContextProvider=l,ht.Element=n,ht.ForwardRef=c,ht.Fragment=t,ht.Lazy=_,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(R){return w(R)===o},ht.isContextProvider=function(R){return w(R)===l},ht.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},ht.isForwardRef=function(R){return w(R)===c},ht.isFragment=function(R){return w(R)===t},ht.isLazy=function(R){return w(R)===_},ht.isMemo=function(R){return w(R)===g},ht.isPortal=function(R){return w(R)===e},ht.isProfiler=function(R){return w(R)===i},ht.isStrictMode=function(R){return w(R)===r},ht.isSuspense=function(R){return w(R)===d},ht.isSuspenseList=function(R){return w(R)===f},ht.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===f||R===v||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===g||R.$$typeof===l||R.$$typeof===o||R.$$typeof===c||R.$$typeof===T||R.getModuleId!==void 0)},ht.typeOf=w,ht}var BI;function cB(){return BI||(BI=1,L0.exports=uB()),L0.exports}var UP=cB();function Ls(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function BP(n){if(W.isValidElement(n)||UP.isValidElementType(n)||!Ls(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=BP(n[t])}),e}function Mr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Ls(n)&&Ls(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||UP.isValidElementType(e[i])?r[i]=e[i]:Ls(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Ls(n[i])?r[i]=Mr(n[i],e[i],t):t.clone?r[i]=Ls(e[i])?BP(e[i]):e[i]:r[i]=e[i]}),r}const hB=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function dB(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=hB(e),l=Object.keys(o);function c(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,T){const w=l.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[l[w]]=="number"?e[l[w]]:T)-r/100}${t})`}function g(v){return l.indexOf(v)+1<l.length?f(v,l[l.indexOf(v)+1]):c(v)}function _(v){const T=l.indexOf(v);return T===0?c(l[1]):T===l.length-1?d(l[T]):f(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:d,between:f,only:g,not:_,unit:t,...i}}function fB(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,c;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((c=i.match(o))==null?void 0:c[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function pB(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function mB(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function gB(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...c)=>e(n.breakpoints.up(...c),l),o.down=(...c)=>e(n.breakpoints.down(...c),l),o.between=(...c)=>e(n.breakpoints.between(...c),l),o.only=(...c)=>e(n.breakpoints.only(...c),l),o.not=(...c)=>{const d=e(n.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const yB={borderRadius:4};function qd(n,e){return e?Mr(n,e,{clone:!1}):n}const _y={xs:0,sm:600,md:900,lg:1200,xl:1536},FI={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${_y[n]}px)`},_B={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:_y[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function $s(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||FI;return e.reduce((l,c,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||FI;return Object.keys(e).reduce((l,c)=>{if(pB(o.keys,c)){const d=mB(r.containerQueries?r:_B,c);d&&(l[d]=t(e[c],c))}else if(Object.keys(o.values||_y).includes(c)){const d=o.up(c);l[d]=t(e[c],c)}else{const d=c;l[d]=e[d]}return l},{})}return t(e)}function vB(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function EB(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function io(n){if(typeof n!="string")throw new Error(Rl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function vy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Ag(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=vy(n,t)||r,e&&(i=e(i,r,n)),i}function Jt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=l=>{if(l[e]==null)return null;const c=l[e],d=l.theme,f=vy(d,r)||{};return $s(l,c,_=>{let v=Ag(f,i,_);return _===v&&typeof _=="string"&&(v=Ag(f,i,`${e}${_==="default"?"":io(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function bB(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const wB={m:"margin",p:"padding"},TB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},jI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},SB=bB(n=>{if(n.length>2)if(jI[n])n=jI[n];else return[n];const[e,t]=n.split(""),r=wB[e],i=TB[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Ob=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],kb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ob,...kb];function Bf(n,e,t,r){const i=vy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=i[l];return o>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function Db(n){return Bf(n,"spacing",8)}function Ff(n,e){return typeof e=="string"||e==null?e:n(e)}function AB(n,e){return t=>n.reduce((r,i)=>(r[i]=Ff(e,t),r),{})}function RB(n,e,t,r){if(!e.includes(t))return null;const i=SB(t),o=AB(i,r),l=n[t];return $s(n,l,o)}function FP(n,e){const t=Db(n.theme);return Object.keys(n).map(r=>RB(n,e,r,t)).reduce(qd,{})}function qt(n){return FP(n,Ob)}qt.propTypes={};qt.filterProps=Ob;function Ht(n){return FP(n,kb)}Ht.propTypes={};Ht.filterProps=kb;function jP(n=8,e=Db({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function Ey(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?qd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function ti(n){return typeof n!="number"?n:`${n}px solid`}function oi(n,e){return Jt({prop:n,themeKey:"borders",transform:e})}const IB=oi("border",ti),CB=oi("borderTop",ti),xB=oi("borderRight",ti),PB=oi("borderBottom",ti),OB=oi("borderLeft",ti),kB=oi("borderColor"),DB=oi("borderTopColor"),NB=oi("borderRightColor"),MB=oi("borderBottomColor"),VB=oi("borderLeftColor"),LB=oi("outline",ti),UB=oi("outlineColor"),by=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Bf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ff(e,r)});return $s(n,n.borderRadius,t)}return null};by.propTypes={};by.filterProps=["borderRadius"];Ey(IB,CB,xB,PB,OB,kB,DB,NB,MB,VB,by,LB,UB);const wy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Bf(n.theme,"spacing",8),t=r=>({gap:Ff(e,r)});return $s(n,n.gap,t)}return null};wy.propTypes={};wy.filterProps=["gap"];const Ty=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Bf(n.theme,"spacing",8),t=r=>({columnGap:Ff(e,r)});return $s(n,n.columnGap,t)}return null};Ty.propTypes={};Ty.filterProps=["columnGap"];const Sy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Bf(n.theme,"spacing",8),t=r=>({rowGap:Ff(e,r)});return $s(n,n.rowGap,t)}return null};Sy.propTypes={};Sy.filterProps=["rowGap"];const BB=Jt({prop:"gridColumn"}),FB=Jt({prop:"gridRow"}),jB=Jt({prop:"gridAutoFlow"}),zB=Jt({prop:"gridAutoColumns"}),qB=Jt({prop:"gridAutoRows"}),HB=Jt({prop:"gridTemplateColumns"}),$B=Jt({prop:"gridTemplateRows"}),GB=Jt({prop:"gridTemplateAreas"}),KB=Jt({prop:"gridArea"});Ey(wy,Ty,Sy,BB,FB,jB,zB,qB,HB,$B,GB,KB);function tc(n,e){return e==="grey"?e:n}const WB=Jt({prop:"color",themeKey:"palette",transform:tc}),YB=Jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tc}),QB=Jt({prop:"backgroundColor",themeKey:"palette",transform:tc});Ey(WB,YB,QB);function Or(n){return n<=1&&n!==0?`${n*100}%`:n}const XB=Jt({prop:"width",transform:Or}),Nb=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,l,c,d;const r=((l=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:l[t])||_y[t];return r?((d=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Or(t)}};return $s(n,n.maxWidth,e)}return null};Nb.filterProps=["maxWidth"];const ZB=Jt({prop:"minWidth",transform:Or}),JB=Jt({prop:"height",transform:Or}),eF=Jt({prop:"maxHeight",transform:Or}),tF=Jt({prop:"minHeight",transform:Or});Jt({prop:"size",cssProperty:"width",transform:Or});Jt({prop:"size",cssProperty:"height",transform:Or});const nF=Jt({prop:"boxSizing"});Ey(XB,Nb,ZB,JB,eF,tF,nF);const Ay={border:{themeKey:"borders",transform:ti},borderTop:{themeKey:"borders",transform:ti},borderRight:{themeKey:"borders",transform:ti},borderBottom:{themeKey:"borders",transform:ti},borderLeft:{themeKey:"borders",transform:ti},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ti},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:by},color:{themeKey:"palette",transform:tc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tc},backgroundColor:{themeKey:"palette",transform:tc},p:{style:Ht},pt:{style:Ht},pr:{style:Ht},pb:{style:Ht},pl:{style:Ht},px:{style:Ht},py:{style:Ht},padding:{style:Ht},paddingTop:{style:Ht},paddingRight:{style:Ht},paddingBottom:{style:Ht},paddingLeft:{style:Ht},paddingX:{style:Ht},paddingY:{style:Ht},paddingInline:{style:Ht},paddingInlineStart:{style:Ht},paddingInlineEnd:{style:Ht},paddingBlock:{style:Ht},paddingBlockStart:{style:Ht},paddingBlockEnd:{style:Ht},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wy},rowGap:{style:Sy},columnGap:{style:Ty},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Or},maxWidth:{style:Nb},minWidth:{transform:Or},height:{transform:Or},maxHeight:{transform:Or},minHeight:{transform:Or},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function rF(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function iF(n,e){return typeof n=="function"?n(e):n}function sF(){function n(t,r,i,o){const l={[t]:r,theme:i},c=o[t];if(!c)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=c;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=vy(i,f)||{};return _?_(l):$s(l,r,w=>{let R=Ag(v,g,w);return w===R&&typeof w=="string"&&(R=Ag(v,g,`${t}${w==="default"?"":io(w)}`,w)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Ay;function l(c){let d=c;if(typeof c=="function")d=c(i);else if(typeof c!="object")return c;if(!d)return null;const f=vB(i.breakpoints),g=Object.keys(f);let _=f;return Object.keys(d).forEach(v=>{const T=iF(d[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=qd(_,n(v,T,i,o));else{const w=$s({theme:i},T,R=>({[v]:R}));rF(w,T)?_[v]=e({sx:T,theme:i}):_=qd(_,w)}else _=qd(_,n(v,T,i,o))}),fB(i,EB(g,_))}return Array.isArray(r)?r.map(l):l(r)}return e}const cc=sF();cc.filterProps=["sx"];function aF(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function zP(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...l}=n,c=dB(t),d=jP(i);let f=Mr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...yB,...o}},l);return f=gB(f),f.applyStyles=aF,f=e.reduce((g,_)=>Mr(g,_),f),f.unstable_sxConfig={...Ay,...l==null?void 0:l.unstable_sxConfig},f.unstable_sx=function(_){return cc({sx:_,theme:this})},f}const zI=n=>n,oF=()=>{let n=zI;return{configure(e){n=e},generate(e){return n(e)},reset(){n=zI}}},lF=oF();function qP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=qP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Hd(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=qP(n))&&(r&&(r+=" "),r+=e);return r}const uF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Mb(n,e,t="Mui"){const r=uF[e];return r?`${t}-${r}`:`${lF.generate(n)}-${e}`}function HP(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Mb(n,i,t)}),r}function $P(n){const{variants:e,...t}=n,r={variants:e,style:LI(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=LI(i.style))}),r}const cF=zP();function U0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function hF(n){return n?(e,t)=>t[n]:null}function dF(n,e,t){n.theme=mF(n.theme)?t:n.theme[e]||n.theme}function rg(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>rg(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return GP(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function GP(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const c in l.props)if(n[c]!==l.props[c]&&((i=n.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function fF(n={}){const{themeId:e,defaultTheme:t=cF,rootShouldForwardProp:r=U0,slotShouldForwardProp:i=U0}=n;function o(c){dF(c,e,t)}return(c,d={})=>{lB(c,j=>j.filter($=>$!==cc));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=hF(yF(g)),...w}=d,R=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,C=v||!1;let U=U0;g==="Root"||g==="root"?U=r:g?U=i:gF(c)&&(U=void 0);const L=oB(c,{shouldForwardProp:U,label:pF(),...w}),B=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(M){return rg(M,j)};if(Ls(j)){const $=$P(j);return $.variants?function(x){return rg(x,$)}:$.style}return j},H=(...j)=>{const $=[],M=j.map(B),x=[];if($.push(o),f&&T&&x.push(function(O){var ee,ie;const te=(ie=(ee=O.theme.components)==null?void 0:ee[f])==null?void 0:ie.styleOverrides;if(!te)return null;const F={};for(const ue in te)F[ue]=rg(O,te[ue]);return T(O,F)}),f&&!R&&x.push(function(O){var F,ee;const k=O.theme,te=(ee=(F=k==null?void 0:k.components)==null?void 0:F[f])==null?void 0:ee.variants;return te?GP(O,te):null}),C||x.push(cc),Array.isArray(M[0])){const P=M.shift(),O=new Array($.length).fill(""),k=new Array(x.length).fill("");let te;te=[...O,...P,...k],te.raw=[...O,...P.raw,...k],$.unshift(te)}const I=[...$,...M,...x],b=L(...I);return c.muiName&&(b.muiName=c.muiName),b};return L.withConfig&&(H.withConfig=L.withConfig),H}}function pF(n,e){return void 0}function mF(n){for(const e in n)return!1;return!0}function gF(n){return typeof n=="string"&&n.charCodeAt(0)>96}function yF(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function TE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],l=e[i];if(!l)t[i]=o||{};else if(!o)t[i]=l;else{t[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const d=c;t[i][d]=TE(o[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function KP(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Vb(n,e=0,t=1){return KP(n,e,t)}function _F(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function so(n){if(n.type)return n;if(n.charAt(0)==="#")return so(_F(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Rl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Rl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const vF=n=>{const e=so(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Nd=(n,e)=>{try{return vF(n)}catch{return n}};function Ry(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function WP(n){n=so(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),l=(f,g=(f+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(c+="a",d.push(e[3])),Ry({type:c,values:d})}function SE(n){n=so(n);let e=n.type==="hsl"||n.type==="hsla"?so(WP(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function EF(n,e){const t=SE(n),r=SE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function bF(n,e){return n=so(n),e=Vb(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Ry(n)}function Nm(n,e,t){try{return bF(n,e)}catch{return n}}function Lb(n,e){if(n=so(n),e=Vb(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Ry(n)}function ft(n,e,t){try{return Lb(n,e)}catch{return n}}function Ub(n,e){if(n=so(n),e=Vb(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Ry(n)}function pt(n,e,t){try{return Ub(n,e)}catch{return n}}function wF(n,e=.15){return SE(n)>.5?Lb(n,e):Ub(n,e)}function Mm(n,e,t){try{return wF(n,e)}catch{return n}}function TF(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let qI=0;function SF(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(qI+=1,t(`mui-${qI}`))},[e]),r}const AF={...cE},HI=AF.useId;function YP(n){if(HI!==void 0){const e=HI();return n??e}return SF(n)}function RF({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=W.useRef(n!==void 0),[o,l]=W.useState(e),c=i?n:o,d=W.useCallback(f=>{i||l(f)},[]);return[c,d]}function IF(...n){return W.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{TF(t,e)})},n)}function $I(n){try{return n.matches(":focus-visible")}catch{}return!1}const CF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function QP(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let l="",c=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(l+=(c===!0?"":" ")+e(f),c=!1,t&&t[f]&&(l+=" "+t[f]))}r[i]=l}return r}const xF=W.createContext(),PF=()=>W.useContext(xF)??!1,OF=W.createContext(void 0);function kF(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?TE(i.defaultProps,r):!i.styleOverrides&&!i.variants?TE(i,r):r}function DF({props:n,name:e}){const t=W.useContext(OF);return kF({props:n,name:e,theme:{components:t}})}const GI={theme:void 0};function NF(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(GI.theme=i.theme,o=$P(n(GI)),e=o,t=i.theme),o}}function MF(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const KI=(n,e,t,r=[])=>{let i=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},VF=(n,e,t)=>{function r(i,o=[],l=[]){Object.entries(i).forEach(([c,d])=>{(!t||t&&!t([...o,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,c],Array.isArray(d)?[...l,c]:l):e([...o,c],d,l))})}r(n)},LF=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function B0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},l={};return VF(n,(c,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const g=`--${t?`${t}-`:""}${c.join("-")}`,_=LF(c,d);Object.assign(i,{[g]:_}),KI(o,c,`var(${g})`,f),KI(l,c,`var(${g}, ${_})`,f)}},c=>c[0]==="vars"),{css:i,vars:o,varsWithDefaults:l}}function UF(n,e={}){const{getSelector:t=C,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...d}=n,{vars:f,css:g,varsWithDefaults:_}=B0(d,e);let v=_;const T={},{[c]:w,...R}=o;if(Object.entries(R||{}).forEach(([B,H])=>{const{vars:j,css:$,varsWithDefaults:M}=B0(H,e);v=Mr(v,M),T[B]={css:$,vars:j}}),w){const{css:B,vars:H,varsWithDefaults:j}=B0(w,e);v=Mr(v,j),T[c]={css:B,vars:H}}function C(B,H){var $,M;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),B){if(j==="media")return n.defaultColorScheme===B?":root":{[`@media (prefers-color-scheme: ${((M=($=o[B])==null?void 0:$.palette)==null?void 0:M.mode)||B})`]:{":root":H}};if(j)return n.defaultColorScheme===B?`:root, ${j.replace("%s",String(B))}`:j.replace("%s",String(B))}return":root"}return{vars:v,generateThemeVars:()=>{let B={...f};return Object.entries(T).forEach(([,{vars:H}])=>{B=Mr(B,H)}),B},generateStyleSheets:()=>{var x,I;const B=[],H=n.defaultColorScheme||"light";function j(b,P){Object.keys(P).length&&B.push(typeof b=="string"?{[b]:{...P}}:b)}j(t(void 0,{...g}),g);const{[H]:$,...M}=T;if($){const{css:b}=$,P=(I=(x=o[H])==null?void 0:x.palette)==null?void 0:I.mode,O=!r&&P?{colorScheme:P,...b}:{...b};j(t(H,{...O}),O)}return Object.entries(M).forEach(([b,{css:P}])=>{var te,F;const O=(F=(te=o[b])==null?void 0:te.palette)==null?void 0:F.mode,k=!r&&O?{colorScheme:O,...P}:{...P};j(t(b,{...k}),k)}),B}}}function BF(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function XP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:of.white,default:of.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const FF=XP();function ZP(){return{text:{primary:of.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:of.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const WI=ZP();function YI(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Ub(n.main,i):e==="dark"&&(n.dark=Lb(n.main,o)))}function jF(n="light"){return n==="dark"?{main:Lu[200],light:Lu[50],dark:Lu[400]}:{main:Lu[700],light:Lu[400],dark:Lu[800]}}function zF(n="light"){return n==="dark"?{main:Vu[200],light:Vu[50],dark:Vu[400]}:{main:Vu[500],light:Vu[300],dark:Vu[700]}}function qF(n="light"){return n==="dark"?{main:Mu[500],light:Mu[300],dark:Mu[700]}:{main:Mu[700],light:Mu[400],dark:Mu[800]}}function HF(n="light"){return n==="dark"?{main:Uu[400],light:Uu[300],dark:Uu[700]}:{main:Uu[700],light:Uu[500],dark:Uu[900]}}function $F(n="light"){return n==="dark"?{main:Bu[400],light:Bu[300],dark:Bu[700]}:{main:Bu[800],light:Bu[500],dark:Bu[900]}}function GF(n="light"){return n==="dark"?{main:vd[400],light:vd[300],dark:vd[700]}:{main:"#ed6c02",light:vd[500],dark:vd[900]}}function Bb(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||jF(e),l=n.secondary||zF(e),c=n.error||qF(e),d=n.info||HF(e),f=n.success||$F(e),g=n.warning||GF(e);function _(R){return EF(R,WI.text.primary)>=t?WI.text.primary:FF.text.primary}const v=({color:R,name:C,mainShade:U=500,lightShade:L=300,darkShade:B=700})=>{if(R={...R},!R.main&&R[U]&&(R.main=R[U]),!R.hasOwnProperty("main"))throw new Error(Rl(11,C?` (${C})`:"",U));if(typeof R.main!="string")throw new Error(Rl(12,C?` (${C})`:"",JSON.stringify(R.main)));return YI(R,"light",L,r),YI(R,"dark",B,r),R.contrastText||(R.contrastText=_(R.main)),R};let T;return e==="light"?T=XP():e==="dark"&&(T=ZP()),Mr({common:{...of},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:u5,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function KF(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function WF(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function YF(n){return Math.round(n*1e5)/1e5}const QI={textTransform:"uppercase"},XI='"Roboto", "Helvetica", "Arial", sans-serif';function QF(n,e){const{fontFamily:t=XI,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(C=>`${C/d*v}rem`),w=(C,U,L,B,H)=>({fontFamily:t,fontWeight:C,fontSize:T(U),lineHeight:L,...t===XI?{letterSpacing:`${YF(B/U)}em`}:{},...H,...f}),R={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(l,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(l,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(l,14,1.75,.4,QI),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,QI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Mr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...R},_,{clone:!1})}const XF=.2,ZF=.14,JF=.12;function Tt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${XF})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${ZF})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${JF})`].join(",")}const ej=["none",Tt(0,2,1,-1,0,1,1,0,0,1,3,0),Tt(0,3,1,-2,0,2,2,0,0,1,5,0),Tt(0,3,3,-2,0,3,4,0,0,1,8,0),Tt(0,2,4,-1,0,4,5,0,0,1,10,0),Tt(0,3,5,-1,0,5,8,0,0,1,14,0),Tt(0,3,5,-1,0,6,10,0,0,1,18,0),Tt(0,4,5,-2,0,7,10,1,0,2,16,1),Tt(0,5,5,-3,0,8,10,1,0,3,14,2),Tt(0,5,6,-3,0,9,12,1,0,3,16,2),Tt(0,6,6,-3,0,10,14,1,0,4,18,3),Tt(0,6,7,-4,0,11,15,1,0,4,20,3),Tt(0,7,8,-4,0,12,17,2,0,5,22,4),Tt(0,7,8,-4,0,13,19,2,0,5,24,4),Tt(0,7,9,-4,0,14,21,2,0,5,26,4),Tt(0,8,9,-5,0,15,22,2,0,6,28,5),Tt(0,8,10,-5,0,16,24,2,0,6,30,5),Tt(0,8,11,-5,0,17,26,2,0,6,32,5),Tt(0,9,11,-5,0,18,28,2,0,7,34,6),Tt(0,9,12,-6,0,19,29,2,0,7,36,6),Tt(0,10,13,-6,0,20,31,3,0,8,38,7),Tt(0,10,13,-6,0,21,33,3,0,8,40,7),Tt(0,10,14,-6,0,22,35,3,0,8,42,7),Tt(0,11,14,-7,0,23,36,3,0,9,44,8),Tt(0,11,15,-7,0,24,38,3,0,9,46,8)],tj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nj={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ZI(n){return`${Math.round(n)}ms`}function rj(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function ij(n){const e={...tj,...n.easing},t={...nj,...n.duration};return{getAutoHeightDuration:rj,create:(i=["all"],o={})=>{const{duration:l=t.standard,easing:c=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof l=="string"?l:ZI(l)} ${c} ${typeof d=="string"?d:ZI(d)}`).join(",")},...n,easing:e,duration:t}}const sj={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function aj(n){return Ls(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function JP(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[l,c]=i[o];!aj(c)||l.startsWith("unstable_")?delete r[l]:Ls(c)&&(r[l]={...c},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function AE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:l={},typography:c={},shape:d,...f}=n;if(n.vars)throw new Error(Rl(20));const g=Bb(o),_=zP(n);let v=Mr(_,{mixins:WF(_.breakpoints,r),palette:g,shadows:ej.slice(),typography:QF(g,c),transitions:ij(l),zIndex:{...sj}});return v=Mr(v,f),v=e.reduce((T,w)=>Mr(T,w),v),v.unstable_sxConfig={...Ay,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(w){return cc({sx:w,theme:this})},v.toRuntimeSource=JP,v}function oj(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const lj=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=oj(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function eO(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function tO(n){return n==="dark"?lj:[]}function uj(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Bb(e);return{palette:o,opacity:{...eO(o.mode),...t},overlays:r||tO(o.mode),...i}}function cj(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const hj=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],dj=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return hj(n.cssVarPrefix).forEach(c=>{l[c]=t[c],delete t[c]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function fj(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function oe(n,e,t){!n[e]&&t&&(n[e]=t)}function Md(n){return typeof n!="string"||!n.startsWith("hsl")?n:WP(n)}function Ns(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Nd(Md(n[e])))}function pj(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Li=n=>{try{return n()}catch{}},mj=(n="mui")=>MF(n);function F0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=uj({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...l}=AE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...eO(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||tO(i)},l}function gj(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=cj,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=mj(o),{[_]:T,light:w,dark:R,...C}=t,U={...C};let L=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(Rl(21,_));const B=F0(U,L,f,_);w&&!U.light&&F0(U,w,void 0,"light"),R&&!U.dark&&F0(U,R,void 0,"dark");let H={defaultColorScheme:_,...B,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:d,getCssVar:v,colorSchemes:U,font:{...KF(B.typography),...B.font},spacing:pj(f.spacing)};Object.keys(H.colorSchemes).forEach(I=>{const b=H.colorSchemes[I].palette,P=O=>{const k=O.split("-"),te=k[1],F=k[2];return v(O,b[te][F])};if(b.mode==="light"&&(oe(b.common,"background","#fff"),oe(b.common,"onBackground","#000")),b.mode==="dark"&&(oe(b.common,"background","#000"),oe(b.common,"onBackground","#fff")),fj(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){oe(b.Alert,"errorColor",ft(b.error.light,.6)),oe(b.Alert,"infoColor",ft(b.info.light,.6)),oe(b.Alert,"successColor",ft(b.success.light,.6)),oe(b.Alert,"warningColor",ft(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",P("palette-error-main")),oe(b.Alert,"infoFilledBg",P("palette-info-main")),oe(b.Alert,"successFilledBg",P("palette-success-main")),oe(b.Alert,"warningFilledBg",P("palette-warning-main")),oe(b.Alert,"errorFilledColor",Li(()=>b.getContrastText(b.error.main))),oe(b.Alert,"infoFilledColor",Li(()=>b.getContrastText(b.info.main))),oe(b.Alert,"successFilledColor",Li(()=>b.getContrastText(b.success.main))),oe(b.Alert,"warningFilledColor",Li(()=>b.getContrastText(b.warning.main))),oe(b.Alert,"errorStandardBg",pt(b.error.light,.9)),oe(b.Alert,"infoStandardBg",pt(b.info.light,.9)),oe(b.Alert,"successStandardBg",pt(b.success.light,.9)),oe(b.Alert,"warningStandardBg",pt(b.warning.light,.9)),oe(b.Alert,"errorIconColor",P("palette-error-main")),oe(b.Alert,"infoIconColor",P("palette-info-main")),oe(b.Alert,"successIconColor",P("palette-success-main")),oe(b.Alert,"warningIconColor",P("palette-warning-main")),oe(b.AppBar,"defaultBg",P("palette-grey-100")),oe(b.Avatar,"defaultBg",P("palette-grey-400")),oe(b.Button,"inheritContainedBg",P("palette-grey-300")),oe(b.Button,"inheritContainedHoverBg",P("palette-grey-A100")),oe(b.Chip,"defaultBorder",P("palette-grey-400")),oe(b.Chip,"defaultAvatarColor",P("palette-grey-700")),oe(b.Chip,"defaultIconColor",P("palette-grey-700")),oe(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(b.LinearProgress,"primaryBg",pt(b.primary.main,.62)),oe(b.LinearProgress,"secondaryBg",pt(b.secondary.main,.62)),oe(b.LinearProgress,"errorBg",pt(b.error.main,.62)),oe(b.LinearProgress,"infoBg",pt(b.info.main,.62)),oe(b.LinearProgress,"successBg",pt(b.success.main,.62)),oe(b.LinearProgress,"warningBg",pt(b.warning.main,.62)),oe(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),oe(b.Slider,"primaryTrack",pt(b.primary.main,.62)),oe(b.Slider,"secondaryTrack",pt(b.secondary.main,.62)),oe(b.Slider,"errorTrack",pt(b.error.main,.62)),oe(b.Slider,"infoTrack",pt(b.info.main,.62)),oe(b.Slider,"successTrack",pt(b.success.main,.62)),oe(b.Slider,"warningTrack",pt(b.warning.main,.62));const O=Mm(b.background.default,.8);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",Li(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Mm(b.background.paper,.15)),oe(b.StepConnector,"border",P("palette-grey-400")),oe(b.StepContent,"border",P("palette-grey-400")),oe(b.Switch,"defaultColor",P("palette-common-white")),oe(b.Switch,"defaultDisabledColor",P("palette-grey-100")),oe(b.Switch,"primaryDisabledColor",pt(b.primary.main,.62)),oe(b.Switch,"secondaryDisabledColor",pt(b.secondary.main,.62)),oe(b.Switch,"errorDisabledColor",pt(b.error.main,.62)),oe(b.Switch,"infoDisabledColor",pt(b.info.main,.62)),oe(b.Switch,"successDisabledColor",pt(b.success.main,.62)),oe(b.Switch,"warningDisabledColor",pt(b.warning.main,.62)),oe(b.TableCell,"border",pt(Nm(b.divider,1),.88)),oe(b.Tooltip,"bg",Nm(b.grey[700],.92))}if(b.mode==="dark"){oe(b.Alert,"errorColor",pt(b.error.light,.6)),oe(b.Alert,"infoColor",pt(b.info.light,.6)),oe(b.Alert,"successColor",pt(b.success.light,.6)),oe(b.Alert,"warningColor",pt(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",P("palette-error-dark")),oe(b.Alert,"infoFilledBg",P("palette-info-dark")),oe(b.Alert,"successFilledBg",P("palette-success-dark")),oe(b.Alert,"warningFilledBg",P("palette-warning-dark")),oe(b.Alert,"errorFilledColor",Li(()=>b.getContrastText(b.error.dark))),oe(b.Alert,"infoFilledColor",Li(()=>b.getContrastText(b.info.dark))),oe(b.Alert,"successFilledColor",Li(()=>b.getContrastText(b.success.dark))),oe(b.Alert,"warningFilledColor",Li(()=>b.getContrastText(b.warning.dark))),oe(b.Alert,"errorStandardBg",ft(b.error.light,.9)),oe(b.Alert,"infoStandardBg",ft(b.info.light,.9)),oe(b.Alert,"successStandardBg",ft(b.success.light,.9)),oe(b.Alert,"warningStandardBg",ft(b.warning.light,.9)),oe(b.Alert,"errorIconColor",P("palette-error-main")),oe(b.Alert,"infoIconColor",P("palette-info-main")),oe(b.Alert,"successIconColor",P("palette-success-main")),oe(b.Alert,"warningIconColor",P("palette-warning-main")),oe(b.AppBar,"defaultBg",P("palette-grey-900")),oe(b.AppBar,"darkBg",P("palette-background-paper")),oe(b.AppBar,"darkColor",P("palette-text-primary")),oe(b.Avatar,"defaultBg",P("palette-grey-600")),oe(b.Button,"inheritContainedBg",P("palette-grey-800")),oe(b.Button,"inheritContainedHoverBg",P("palette-grey-700")),oe(b.Chip,"defaultBorder",P("palette-grey-700")),oe(b.Chip,"defaultAvatarColor",P("palette-grey-300")),oe(b.Chip,"defaultIconColor",P("palette-grey-300")),oe(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(b.LinearProgress,"primaryBg",ft(b.primary.main,.5)),oe(b.LinearProgress,"secondaryBg",ft(b.secondary.main,.5)),oe(b.LinearProgress,"errorBg",ft(b.error.main,.5)),oe(b.LinearProgress,"infoBg",ft(b.info.main,.5)),oe(b.LinearProgress,"successBg",ft(b.success.main,.5)),oe(b.LinearProgress,"warningBg",ft(b.warning.main,.5)),oe(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),oe(b.Slider,"primaryTrack",ft(b.primary.main,.5)),oe(b.Slider,"secondaryTrack",ft(b.secondary.main,.5)),oe(b.Slider,"errorTrack",ft(b.error.main,.5)),oe(b.Slider,"infoTrack",ft(b.info.main,.5)),oe(b.Slider,"successTrack",ft(b.success.main,.5)),oe(b.Slider,"warningTrack",ft(b.warning.main,.5));const O=Mm(b.background.default,.98);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",Li(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Mm(b.background.paper,.15)),oe(b.StepConnector,"border",P("palette-grey-600")),oe(b.StepContent,"border",P("palette-grey-600")),oe(b.Switch,"defaultColor",P("palette-grey-300")),oe(b.Switch,"defaultDisabledColor",P("palette-grey-600")),oe(b.Switch,"primaryDisabledColor",ft(b.primary.main,.55)),oe(b.Switch,"secondaryDisabledColor",ft(b.secondary.main,.55)),oe(b.Switch,"errorDisabledColor",ft(b.error.main,.55)),oe(b.Switch,"infoDisabledColor",ft(b.info.main,.55)),oe(b.Switch,"successDisabledColor",ft(b.success.main,.55)),oe(b.Switch,"warningDisabledColor",ft(b.warning.main,.55)),oe(b.TableCell,"border",ft(Nm(b.divider,1),.68)),oe(b.Tooltip,"bg",Nm(b.grey[700],.92))}Ns(b.background,"default"),Ns(b.background,"paper"),Ns(b.common,"background"),Ns(b.common,"onBackground"),Ns(b,"divider"),Object.keys(b).forEach(O=>{const k=b[O];O!=="tonalOffset"&&k&&typeof k=="object"&&(k.main&&oe(b[O],"mainChannel",Nd(Md(k.main))),k.light&&oe(b[O],"lightChannel",Nd(Md(k.light))),k.dark&&oe(b[O],"darkChannel",Nd(Md(k.dark))),k.contrastText&&oe(b[O],"contrastTextChannel",Nd(Md(k.contrastText))),O==="text"&&(Ns(b[O],"primary"),Ns(b[O],"secondary")),O==="action"&&(k.active&&Ns(b[O],"active"),k.selected&&Ns(b[O],"selected")))})}),H=e.reduce((I,b)=>Mr(I,b),H);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:dj(H)},{vars:$,generateThemeVars:M,generateStyleSheets:x}=UF(H,j);return H.vars=$,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([I,b])=>{H[I]=b}),H.generateThemeVars=M,H.generateStyleSheets=x,H.generateSpacing=function(){return jP(f.spacing,Db(this))},H.getColorSchemeSelector=BF(c),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=l,H.unstable_sxConfig={...Ay,...f==null?void 0:f.unstable_sxConfig},H.unstable_sx=function(b){return cc({sx:b,theme:this})},H.toRuntimeSource=JP,H}function JI(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Bb({...t===!0?{}:t.palette,mode:e})})}function yj(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...l}=n,c=o||"light",d=i==null?void 0:i[c],f={...i,...t?{[c]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return AE(n,...e);let g=t;"palette"in n||f[c]&&(f[c]!==!0?g=f[c].palette:c==="dark"&&(g={mode:"dark"}));const _=AE({...n,palette:g},...e);return _.defaultColorScheme=c,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},JI(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},JI(_,"light",f.light)),_}return!t&&!("light"in f)&&c==="light"&&(f.light=!0),gj({...l,colorSchemes:f,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const _j=yj();function nO(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const vj=n=>nO(n)&&n!=="classes",jf=fF({themeId:c5,defaultTheme:_j,rootShouldForwardProp:vj}),Fb=NF;function rO(n){return DF(n)}function Ej(n){return Mb("MuiSvgIcon",n)}HP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bj=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${io(e)}`,`fontSize${io(t)}`]};return QP(i,Ej,r)},wj=jf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${io(t.color)}`],e[`fontSize${io(t.fontSize)}`]]}})(Fb(({theme:n})=>{var e,t,r,i,o,l,c,d,f,g,_,v,T,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var C,U;return{props:{color:R},style:{color:(U=(C=(n.vars??n).palette)==null?void 0:C[R])==null?void 0:U.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(w=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),RE=W.forwardRef(function(e,t){const r=rO({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=W.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},C={};g||(C.viewBox=v);const U=bj(R);return V.jsxs(wj,{as:c,className:Hd(U.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...C,...T,...w&&i.props,ownerState:R,children:[w?i.props.children:i,_?V.jsx("title",{children:_}):null]})});RE.muiName="SvgIcon";function iO(n,e){function t(r,i){return V.jsx(RE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=RE.muiName,W.memo(W.forwardRef(t))}const Tj=iO(V.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Sj=iO(V.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Aj(n){return Mb("MuiRating",n)}const bd=HP("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function Rj(n){const e=n.toString().split(".")[1];return e?e.length:0}function j0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(Rj(e)))}const Ij=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:l}=n,c={root:["root",`size${io(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return QP(c,Aj,e)},Cj=jf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${bd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${io(t.size)}`],t.readOnly&&e.readOnly]}})(Fb(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${bd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${bd.focusVisible} .${bd.iconActive}`]:{outline:"1px solid #999"},[`& .${bd.visuallyHidden}`]:CF,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),sO=jf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),xj=jf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Fb(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),Pj=jf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>nO(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function Oj(n){const{value:e,...t}=n;return V.jsx("span",{...t})}function e1(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:l,hover:c,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:R,onClick:C,onFocus:U,readOnly:L,ownerState:B,ratingValue:H,ratingValueRounded:j}=n,$=l?_===H:_<=H,M=_<=c,x=_<=i,I=_===j,b=`${T}-${YP()}`,P=V.jsx(xj,{as:f,value:_,className:Hd(e.icon,$?e.iconFilled:e.iconEmpty,M&&e.iconHover,x&&e.iconFocus,g&&e.iconActive),ownerState:{...B,iconEmpty:!$,iconFilled:$,iconHover:M,iconFocus:x,iconActive:g},children:r&&!$?r:d});return L?V.jsx("span",{...v,children:P}):V.jsxs(W.Fragment,{children:[V.jsxs(sO,{ownerState:{...B,emptyValueFocused:void 0},htmlFor:b,...v,children:[P,V.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),V.jsx("input",{className:e.visuallyHidden,onFocus:U,onBlur:w,onChange:R,onClick:C,disabled:t,value:_,id:b,type:"radio",name:T,checked:I})]})}const kj=V.jsx(Tj,{fontSize:"inherit"}),Dj=V.jsx(Sj,{fontSize:"inherit"});function Nj(n){return`${n||"0"} Star${n!==1?"s":""}`}const Mj=W.forwardRef(function(e,t){const r=rO({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:l=null,disabled:c=!1,emptyIcon:d=Dj,emptyLabelText:f="Empty",getLabelText:g=Nj,highlightSelectedOnly:_=!1,icon:v=kj,IconContainerComponent:T=Oj,max:w=5,name:R,onChange:C,onChangeActive:U,onMouseLeave:L,onMouseMove:B,precision:H=1,readOnly:j=!1,size:$="medium",value:M,...x}=r,I=YP(R),[b,P]=RF({controlled:M,default:l,name:"Rating"}),O=j0(b,H),k=PF(),[{hover:te,focus:F},ee]=W.useState({hover:-1,focus:-1});let ie=O;te!==-1&&(ie=te),F!==-1&&(ie=F);const[ue,Te]=W.useState(!1),q=W.useRef(),ae=IF(q,t),be=Ze=>{B&&B(Ze);const at=q.current,{right:en,left:vr,width:Ln}=at.getBoundingClientRect();let Ur;k?Ur=(en-Ze.clientX)/Ln:Ur=(Ze.clientX-vr)/Ln;let Un=j0(w*Ur+H/2,H);Un=KP(Un,H,w),ee(lr=>lr.hover===Un&&lr.focus===Un?lr:{hover:Un,focus:Un}),Te(!1),U&&te!==Un&&U(Ze,Un)},ve=Ze=>{L&&L(Ze);const at=-1;ee({hover:at,focus:at}),U&&te!==at&&U(Ze,at)},ye=Ze=>{let at=Ze.target.value===""?null:parseFloat(Ze.target.value);te!==-1&&(at=te),P(at),C&&C(Ze,at)},Oe=Ze=>{Ze.clientX===0&&Ze.clientY===0||(ee({hover:-1,focus:-1}),P(null),C&&parseFloat(Ze.target.value)===O&&C(Ze,null))},ke=Ze=>{$I(Ze.target)&&Te(!0);const at=parseFloat(Ze.target.value);ee(en=>({hover:en.hover,focus:at}))},xt=Ze=>{if(te!==-1)return;$I(Ze.target)||Te(!1);const at=-1;ee(en=>({hover:en.hover,focus:at}))},[ze,_t]=W.useState(!1),$e={...r,component:i,defaultValue:l,disabled:c,emptyIcon:d,emptyLabelText:f,emptyValueFocused:ze,focusVisible:ue,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:H,readOnly:j,size:$},wt=Ij($e);return V.jsxs(Cj,{as:i,ref:ae,onMouseMove:be,onMouseLeave:ve,className:Hd(wt.root,o,j&&"MuiRating-readOnly"),ownerState:$e,role:j?"img":null,"aria-label":j?g(ie):null,...x,children:[Array.from(new Array(w)).map((Ze,at)=>{const en=at+1,vr={classes:wt,disabled:c,emptyIcon:d,focus:F,getLabelText:g,highlightSelectedOnly:_,hover:te,icon:v,IconContainerComponent:T,name:I,onBlur:xt,onChange:ye,onClick:Oe,onFocus:ke,ratingValue:ie,ratingValueRounded:O,readOnly:j,ownerState:$e},Ln=en===Math.ceil(ie)&&(te!==-1||F!==-1);if(H<1){const Ur=Array.from(new Array(1/H));return V.jsx(Pj,{className:Hd(wt.decimal,Ln&&wt.iconActive),ownerState:$e,iconActive:Ln,children:Ur.map((Un,lr)=>{const li=j0(en-1+(lr+1)*H,H);return V.jsx(e1,{...vr,isActive:!1,itemValue:li,labelProps:{style:Ur.length-1===lr?{}:{width:li===ie?`${(lr+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},li)})},en)}return V.jsx(e1,{...vr,isActive:Ln,itemValue:en},en)}),!j&&!c&&V.jsxs(sO,{className:Hd(wt.label,wt.labelEmptyValue),ownerState:$e,children:[V.jsx("input",{className:wt.visuallyHidden,value:"",id:`${I}-empty`,type:"radio",name:I,checked:O==null,onFocus:()=>_t(!0),onBlur:()=>_t(!1),onChange:ye}),V.jsx("span",{className:wt.visuallyHidden,children:f})]})]})});var ig={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var Vj=ig.exports,t1;function Lj(){return t1||(t1=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(Vj,function(){var e,t,r="2.0.6",i={},o={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,T;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(c.zeroFormat&&f===c.zeroFormat)g=0;else if(c.nullFormat&&f===c.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&f.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,R=0,C="",U=1e12,L=1e9,B=1e6,H=1e3,j="",$=!1,M,x,I,b,P,O,k;if(f=f||0,x=Math.abs(f),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(P=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(C=" "),g=g.replace(new RegExp(C+"a[kmbt]?"),""),x>=U&&!M||M==="t"?(C+=v.abbreviations.trillion,f=f/U):x<U&&x>=L&&!M||M==="b"?(C+=v.abbreviations.billion,f=f/L):x<L&&x>=B&&!M||M==="m"?(C+=v.abbreviations.million,f=f/B):(x<B&&x>=H&&!M||M==="k")&&(C+=v.abbreviations.thousand,f=f/H)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),I=f.toString().split(".")[0],b=g.split(".")[1],O=g.indexOf(","),R=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,b?(e._.includes(b,"[")?(b=b.replace("]",""),b=b.split("["),j=e._.toFixed(f,b[0].length+b[1].length,_,b[1].length)):j=e._.toFixed(f,b.length,_),I=j.split(".")[0],e._.includes(j,".")?j=v.delimiters.decimal+j.split(".")[1]:j="",w&&Number(j.slice(1))===0&&(j="")):I=e._.toFixed(f,0,_),C&&!M&&Number(I)>=1e3&&C!==v.abbreviations.trillion)switch(I=String(Number(I)/1e3),C){case v.abbreviations.thousand:C=v.abbreviations.million;break;case v.abbreviations.million:C=v.abbreviations.billion;break;case v.abbreviations.billion:C=v.abbreviations.trillion;break}if(e._.includes(I,"-")&&(I=I.slice(1),$=!0),I.length<R)for(var te=R-I.length;te>0;te--)I="0"+I;return O>-1&&(I=I.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(I=""),k=I+j+(C||""),T?k=(T&&$?"(":"")+k+(T&&$?")":""):P>=0?k=P===0?($?"-":"+")+k:k+($?"-":"+"):$&&(k="-"+k),k},stringToNumber:function(f){var g=o[c.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},T,w,R;if(c.zeroFormat&&f===c.zeroFormat)w=0;else if(c.nullFormat&&f===c.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(R=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(R)){w*=Math.pow(10,v[T]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var T=f.toString().split("."),w=g-(v||0),R,C,U,L;return T.length===2?R=Math.min(Math.max(T[1].length,w),g):R=w,U=Math.pow(10,R),L=(_(f+"e+"+R)/U).toFixed(R),v>g-R&&(C=new RegExp("\\.?0{1,"+(v-(g-R))+"}$"),L=L.replace(C,"")),L}},e.options=c,e.formats=i,e.locales=o,e.locale=function(f){return f&&(c.currentLocale=f.toLowerCase()),c.currentLocale},e.localeData=function(f){if(!f)return o[c.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in l)c[f]=l[f]},e.zeroFormat=function(f){c.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){c.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){c.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,T,w,R,C,U,L;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{U=e.localeData(g)}catch{U=e.localeData(e.locale())}return T=U.currency.symbol,R=U.abbreviations,_=U.delimiters.decimal,U.delimiters.thousands==="."?v="\\.":v=U.delimiters.thousands,L=f.match(/^[^\d]+/),L!==null&&(f=f.substr(1),L[0]!==T)||(L=f.match(/[^\d]+$/),L!==null&&(f=f.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(C=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(C):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(C)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(C)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||c.defaultFormat,T,w,R;if(g=g||Math.round,_===0&&c.zeroFormat!==null)w=c.zeroFormat;else if(_===null&&c.nullFormat!==null)w=c.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,w=R(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,R){return v+Math.round(g*T)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,R){return v-Math.round(g*T)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,T,w){var R=t.correctionFactor(_,v);return Math.round(_*R)*Math.round(v*R)/Math.round(R*R)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,T,w){var R=t.correctionFactor(_,v);return Math.round(_*R)/Math.round(v*R)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",T;return f=f*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,R){var C,U=e._.includes(w,"ib")?g:f,L=e._.includes(w," b")||e._.includes(w," ib")?" ":"",B,H,j;for(w=w.replace(/\s?i?b/,""),B=0;B<=U.suffixes.length;B++)if(H=Math.pow(U.base,B),j=Math.pow(U.base,B+1),T===null||T===0||T>=H&&T<j){L+=U.suffixes[B],H>0&&(T=T/H);break}return C=e._.numberToFormat(T,w,R),C+L},unformat:function(T){var w=e._.stringToNumber(T),R,C;if(w){for(R=f.suffixes.length-1;R>=0;R--){if(e._.includes(T,f.suffixes[R])){C=Math.pow(f.base,R);break}if(e._.includes(T,g.suffixes[R])){C=Math.pow(g.base,R);break}}w*=C||1}return w}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,R,C;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),C=0;C<T.before.length;C++)switch(R=T.before[C],R){case"$":w=e._.insert(w,v.currency.symbol,C);break;case" ":w=e._.insert(w," ",C+v.currency.symbol.length-1);break}for(C=T.after.length-1;C>=0;C--)switch(R=T.after[C],R){case"$":w=C===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+C)));break;case" ":w=C===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+C)+v.currency.symbol.length-1));break}return w}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function T(w,R,C,U){var L=e._.correctionFactor(w,R),B=w*L*(R*L)/(L*L);return B}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),T=e._.numberToFormat(f,g,_),T+w}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),T=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(ig)),ig.exports}var Uj=Lj();const Bj=_b(Uj),jb=({amount:n})=>{const e=Bj(n).format("$0,0.00");return V.jsx("div",{children:e})},Fj="_card_container_7jfhz_1",jj="_button_7jfhz_19",zj="_rating_7jfhz_87",qj="_product_container_7jfhz_99",Hj="_product_flexed_7jfhz_125",Ka={card_container:Fj,button:jj,rating:zj,product_container:qj,product_flexed:Hj},Wi={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},$j={basket:[],user:null},Gj=(n,e)=>{switch(e.type){case Wi.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Wi.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Wi.EMPTY_BASKET:return{...n,basket:[]};case Wi.SET_USER:return{...n,user:e.user};default:return n}},Zs=W.createContext(),Kj=({children:n,reducer:e,initialState:t})=>V.jsx(Zs.Provider,{value:W.useReducer(e,t),children:n});function zc({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:o,id:l,rating:c,price:d,description:f}=n,[g,_]=W.useContext(Zs);console.log(g);const v=()=>{_({type:Wi.ADD_TO_BASKET,item:{image:i,title:o,id:l,rating:c,price:d,description:f}})};return V.jsxs("div",{className:`${Ka.card_container} ${e?Ka.product_flexed:""}`,children:[V.jsx(yi,{to:`/products/${l}`,className:Ka.image_link,children:V.jsx("img",{src:i,alt:""})}),V.jsxs("div",{className:Ka.description,children:[V.jsxs("h3",{children:[" ",o]}),t&&V.jsxs("div",{style:{maxWidth:"750px"},children:[" ",f]}),V.jsxs("div",{className:`${Ka.rating}  `,children:[V.jsx(Mj,{value:(c==null?void 0:c.rate)||0,precision:.1}),V.jsxs("small",{className:" ",children:[" ",c==null?void 0:c.count," "]})]}),V.jsx("div",{className:" ",children:V.jsx(jb,{amount:d})}),r&&V.jsx("button",{className:`${Ka.button}`,onClick:v,children:" add to cart "})]})]})}var Wj={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function aO(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return Wj[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Rg(n){var e=aO(n);return"".concat(e.value).concat(e.unit)}var zb=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(l,0),r},Ig=function(){return Ig=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ig.apply(this,arguments)},Yj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Qj=zb("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function IE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,c=n.cssOverride,d=c===void 0?{}:c,f=n.size,g=f===void 0?35:f,_=Yj(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Ig({background:"transparent !important",width:Rg(g),height:Rg(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(Qj," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?W.createElement("span",Ig({style:v},_)):null}var Cg=function(){return Cg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Cg.apply(this,arguments)},Xj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Zj=zb("RingLoader","0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)} 100% {transform: rotateX(180deg) rotateY(360deg) rotateZ(360deg)}","right"),Jj=zb("RingLoader","0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)} 100% {transform: rotateX(360deg) rotateY(180deg) rotateZ(360deg)}","left");function e3(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,c=n.cssOverride,d=c===void 0?{}:c,f=n.size,g=f===void 0?60:f,_=Xj(n,["loading","color","speedMultiplier","cssOverride","size"]),v=aO(g),T=v.value,w=v.unit,R=Cg({display:"inherit",width:Rg(g),height:Rg(g),position:"relative"},d),C=function(U){return{position:"absolute",top:"0",left:"0",width:"".concat(T).concat(w),height:"".concat(T).concat(w),border:"".concat(T/10).concat(w," solid ").concat(i),opacity:"0.4",borderRadius:"100%",animationFillMode:"forwards",perspective:"800px",animation:"".concat(U===1?Zj:Jj," ").concat(2/l,"s 0s infinite linear")}};return t?W.createElement("span",Cg({style:R},_),W.createElement("span",{style:C(1)}),W.createElement("span",{style:C(2)})):null}const qb=()=>V.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:V.jsx(e3,{color:"#3498db"})}),t3="https://fakestoreapi.com/products";function n3(){const[n,e]=W.useState([]),[t,r]=W.useState(!1);return W.useEffect(()=>{r(!0),Ct.get(t3).then(i=>{r(!1),e(i.data)}).catch(i=>{console.log(i),r(!1)})},[]),V.jsx("div",{className:Ka.main_container,children:t?V.jsx(qb,{}):V.jsx("section",{className:`${Ka.product_container}`,children:n.map(i=>V.jsx(zc,{product:i,renderAdd:!0},i.id))})})}const r3="_outer_wrapper_17598_1",i3="_header_container_17598_13",s3="_logo_container_17598_39",a3="_delivery_17598_67",o3="_search_17598_89",l3="_order_container_17598_175",u3="_language_17598_211",c3="_cart_17598_243",h3="_lower_header_17598_293",d3="_nav_list_17598_303",Ui={outer_wrapper:r3,header_container:i3,logo_container:s3,delivery:a3,search:o3,order_container:l3,language:u3,cart:c3,lower_header:h3,nav_list:d3};var oO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n1=Ke.createContext&&Ke.createContext(oO),f3=["attr","size","title"];function p3(n,e){if(n==null)return{};var t=m3(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function m3(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function xg(){return xg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xg.apply(this,arguments)}function r1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(t),!0).forEach(function(r){g3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function g3(n,e,t){return e=y3(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y3(n){var e=_3(n,"string");return typeof e=="symbol"?e:e+""}function _3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lO(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,Pg({key:t},e.attr),lO(e.child)))}function Bl(n){return e=>Ke.createElement(v3,xg({attr:Pg({},n.attr)},e),lO(n.child))}function v3(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=p3(n,f3),c=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",xg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Pg(Pg({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return n1!==void 0?Ke.createElement(n1.Consumer,null,t=>e(t)):e(oO)}function E3(n){return Bl({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function b3(n){return Bl({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function w3(n){return Bl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function T3(n){return Bl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}const S3=()=>V.jsx("div",{className:Ui.lower_header,children:V.jsxs("ul",{className:Ui.nav_list,children:[V.jsxs("li",{children:[V.jsx(T3,{}),V.jsx("span",{children:"All"})]}),V.jsx("li",{children:"Today's Deals"}),V.jsx("li",{children:"Customer Service"}),V.jsx("li",{children:"Registry"}),V.jsx("li",{children:"Gift Cards"}),V.jsx("li",{children:"Sell"})]})});var i1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},A3=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},cO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=o>>2,_=(o&3)<<4|c>>4;let v=(c&15)<<2|f>>6,T=f&63;d||(T=64,l||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):A3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||f==null||_==null)throw new R3;const v=o<<2|c>>4;if(r.push(v),f!==64){const T=c<<4&240|f>>2;if(r.push(T),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class R3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I3=function(n){const e=uO(n);return cO.encodeByteArray(e,!0)},Og=function(n){return I3(n).replace(/\./g,"")},Hb=function(n){try{return cO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!C3(t)||(n[t]=kg(n[t],e[t]));return n}function C3(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=()=>hO().__FIREBASE_DEFAULTS__,P3=()=>{if(typeof process>"u"||typeof i1>"u")return;const n=i1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},O3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Hb(n[1]);return e&&JSON.parse(e)},Iy=()=>{try{return x3()||P3()||O3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},k3=n=>{var e,t;return(t=(e=Iy())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},dO=()=>{var n;return(n=Iy())===null||n===void 0?void 0:n.config},fO=n=>{var e;return(e=Iy())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Og(JSON.stringify(t)),Og(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function $b(){var n;const e=(n=Iy())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M3(){return typeof window<"u"||mO()}function mO(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function V3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yO(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _O(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hf(){try{return typeof indexedDB=="object"}catch{return!1}}function L3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="FirebaseError";class Wn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=U3,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?B3(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Wn(i,c,r)}}function B3(n,e){return n.replace(F3,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const F3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function j3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(a1(o)&&a1(l)){if(!hc(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function a1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Vd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vO(n,e){const t=new z3(n,e);return t.subscribe.bind(t)}class z3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");q3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=z0),i.error===void 0&&(i.error=z0),i.complete===void 0&&(i.complete=z0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function z0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n){return n&&n._delegate?n._delegate:n}class si{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new D3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G3(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ol){return this.instances.has(e)}getOptions(e=ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ol){return this.component?this.component.multipleInstances?e:ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $3(n){return n===ol?void 0:n}function G3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const bO={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},K3=je.INFO,W3={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Y3=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=W3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=K3,this._logHandler=Y3,this._userLogHandler=null,Kb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function Q3(n){Kb.forEach(e=>{e.setLogLevel(n)})}function X3(n,e){for(const t of Kb){let r=null;e&&e.level&&(r=bO[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...l)=>{const c=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:je[o].toLowerCase(),message:c,args:l,type:i.name})}}}const Z3=(n,e)=>e.some(t=>n instanceof t);let o1,l1;function J3(){return o1||(o1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e6(){return l1||(l1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wO=new WeakMap,CE=new WeakMap,TO=new WeakMap,q0=new WeakMap,Wb=new WeakMap;function t6(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Za(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&wO.set(t,n)}).catch(()=>{}),Wb.set(e,n),e}function n6(n){if(CE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});CE.set(n,e)}let xE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return CE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||TO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Za(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function r6(n){xE=n(xE)}function i6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(H0(this),e,...t);return TO.set(r,e.sort?e.sort():[e]),Za(r)}:e6().includes(n)?function(...e){return n.apply(H0(this),e),Za(wO.get(this))}:function(...e){return Za(n.apply(H0(this),e))}}function s6(n){return typeof n=="function"?i6(n):(n instanceof IDBTransaction&&n6(n),Z3(n,J3())?new Proxy(n,xE):n)}function Za(n){if(n instanceof IDBRequest)return t6(n);if(q0.has(n))return q0.get(n);const e=s6(n);return e!==n&&(q0.set(n,e),Wb.set(e,n)),e}const H0=n=>Wb.get(n);function a6(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=Za(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Za(l.result),d.oldVersion,d.newVersion,Za(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const o6=["get","getKey","getAll","getAllKeys","count"],l6=["put","add","delete","clear"],$0=new Map;function u1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($0.get(e))return $0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=l6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||o6.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&d.done]))[0]};return $0.set(e,o),o}r6(n=>({...n,get:(e,t,r)=>u1(e,t)||n.get(e,t,r),has:(e,t)=>!!u1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function c6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",PE="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Cy("@firebase/app"),h6="@firebase/app-compat",d6="@firebase/analytics-compat",f6="@firebase/analytics",p6="@firebase/app-check-compat",m6="@firebase/app-check",g6="@firebase/auth",y6="@firebase/auth-compat",_6="@firebase/database",v6="@firebase/data-connect",E6="@firebase/database-compat",b6="@firebase/functions",w6="@firebase/functions-compat",T6="@firebase/installations",S6="@firebase/installations-compat",A6="@firebase/messaging",R6="@firebase/messaging-compat",I6="@firebase/performance",C6="@firebase/performance-compat",x6="@firebase/remote-config",P6="@firebase/remote-config-compat",O6="@firebase/storage",k6="@firebase/storage-compat",D6="@firebase/firestore",N6="@firebase/vertexai",M6="@firebase/firestore-compat",V6="firebase",L6="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]",U6={[Dg]:"fire-core",[h6]:"fire-core-compat",[f6]:"fire-analytics",[d6]:"fire-analytics-compat",[m6]:"fire-app-check",[p6]:"fire-app-check-compat",[g6]:"fire-auth",[y6]:"fire-auth-compat",[_6]:"fire-rtdb",[v6]:"fire-data-connect",[E6]:"fire-rtdb-compat",[b6]:"fire-fn",[w6]:"fire-fn-compat",[T6]:"fire-iid",[S6]:"fire-iid-compat",[A6]:"fire-fcm",[R6]:"fire-fcm-compat",[I6]:"fire-perf",[C6]:"fire-perf-compat",[x6]:"fire-rc",[P6]:"fire-rc-compat",[O6]:"fire-gcs",[k6]:"fire-gcs-compat",[D6]:"fire-fst",[M6]:"fire-fst-compat",[N6]:"fire-vertex","fire-js":"fire-js",[V6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new Map,dc=new Map,fc=new Map;function df(n,e){try{n.container.addComponent(e)}catch(t){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function SO(n,e){n.container.addOrOverwriteComponent(e)}function Ks(n){const e=n.name;if(fc.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;fc.set(e,n);for(const t of oo.values())df(t,n);for(const t of dc.values())df(t,n);return!0}function xy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function B6(n,e,t=ao){xy(n,e).clearInstance(t)}function AO(n){return n.options!==void 0}function Et(n){return n==null?!1:n.settings!==void 0}function F6(){fc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new Fl("app","Firebase",j6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RO=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n,e){const t=Hb(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class z6 extends RO{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,l,i);else{const c=e;super(c.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&c1(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&c1(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Vr(Dg,PE,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Qb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ii.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=L6;function Yb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ao,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(t||(t=dO()),!t)throw ii.create("no-options");const o=oo.get(i);if(o){if(hc(t,o.options)&&hc(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}const l=new EO(i);for(const d of fc.values())l.addComponent(d);const c=new RO(t,r,l);return oo.set(i,c),c}function q6(n,e){if(M3()&&!mO())throw ii.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;AO(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ii.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),l=dc.get(o);if(l)return l.incRefCount(e.releaseOnDeref),l;const c=new EO(o);for(const f of fc.values())c.addComponent(f);const d=new z6(t,e,o,c);return dc.set(o,d),d}function IO(n=ao){const e=oo.get(n);if(!e&&n===ao&&dO())return Yb();if(!e)throw ii.create("no-app",{appName:n});return e}function H6(){return Array.from(oo.values())}async function Qb(n){let e=!1;const t=n.name;oo.has(t)?(e=!0,oo.delete(t)):dc.has(t)&&n.decRefCount()<=0&&(dc.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Vr(n,e,t){var r;let i=(r=U6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(c.join(" "));return}Ks(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function CO(n,e){if(n!==null&&typeof n!="function")throw ii.create("invalid-log-argument");X3(n,e)}function xO(n){Q3(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="firebase-heartbeat-database",G6=1,ff="firebase-heartbeat-store";let G0=null;function PO(){return G0||(G0=a6($6,G6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ff)}catch(t){console.warn(t)}}}}).catch(n=>{throw ii.create("idb-open",{originalErrorMessage:n.message})})),G0}async function K6(n){try{const t=(await PO()).transaction(ff),r=await t.objectStore(ff).get(OO(n));return await t.done,r}catch(e){if(e instanceof Wn)Gs.warn(e.message);else{const t=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gs.warn(t.message)}}}async function h1(n,e){try{const r=(await PO()).transaction(ff,"readwrite");await r.objectStore(ff).put(e,OO(n)),await r.done}catch(t){if(t instanceof Wn)Gs.warn(t.message);else{const r=ii.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gs.warn(r.message)}}}function OO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=1024,Y6=30;class Q6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Z6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=d1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Y6){const l=J6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d1(),{heartbeatsToSend:r,unsentEntries:i}=X6(this._heartbeatsCache.heartbeats),o=Og(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Gs.warn(t),""}}}function d1(){return new Date().toISOString().substring(0,10)}function X6(n,e=W6){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),f1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),f1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Z6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hf()?L3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await K6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return h1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return h1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function f1(n){return Og(JSON.stringify({version:2,heartbeats:n})).length}function J6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(n){Ks(new si("platform-logger",e=>new u6(e),"PRIVATE")),Ks(new si("heartbeat",e=>new Q6(e),"PRIVATE")),Vr(Dg,PE,n),Vr(Dg,PE,"esm2017"),Vr("fire-js","")}ez("");const tz=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Wn,SDK_VERSION:Js,_DEFAULT_ENTRY_NAME:ao,_addComponent:df,_addOrOverwriteComponent:SO,_apps:oo,_clearComponents:F6,_components:fc,_getProvider:xy,_isFirebaseApp:AO,_isFirebaseServerApp:Et,_registerComponent:Ks,_removeServiceInstance:B6,_serverApps:dc,deleteApp:Qb,getApp:IO,getApps:H6,initializeApp:Yb,initializeServerApp:q6,onLog:CO,registerVersion:Vr,setLogLevel:xO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,t){this._delegate=e,this.firebase=t,df(e,new si("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Qb(this._delegate)))}_getService(e,t=ao){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=ao){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){df(this._delegate,e)}_addOrOverwriteComponent(e){SO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},p1=new Fl("app-compat","Firebase",rz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:Vr,setLogLevel:xO,onLog:CO,apps:null,SDK_VERSION:Js,INTERNAL:{registerComponent:c,removeApp:r,useAsService:d,modularAPIs:tz}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||ao,!s1(e,f))throw p1.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,g={}){const _=Yb(f,g);if(s1(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const g=f.name,_=g.replace("-compat","");if(Ks(f)&&f.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw p1.create("invalid-app-argument",{appName:g});return T[_]()};f.serviceProps!==void 0&&kg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(){const n=iz(nz);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:kO,extendNamespace:e,createSubscribe:vO,ErrorFactory:Fl,deepExtend:kg});function e(t){kg(n,t)}return n}const sz=kO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Cy("@firebase/app-compat"),az="@firebase/app-compat",oz="0.2.50";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(n){Vr(az,oz,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=hO();if(n.firebase!==void 0){m1.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&m1.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const jl=sz;lz();var uz="firebase",cz="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jl.registerVersion(uz,cz,"app-compat");function Xb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const wd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Fu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function DO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dz=hz,fz=DO,NO=new Fl("auth","Firebase",DO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Cy("@firebase/auth");function pz(n,...e){Ng.logLevel<=je.WARN&&Ng.warn(`Auth (${Js}): ${n}`,...e)}function sg(n,...e){Ng.logLevel<=je.ERROR&&Ng.error(`Auth (${Js}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n,...e){throw Jb(n,...e)}function gn(n,...e){return Jb(n,...e)}function Zb(n,e,t){const r=Object.assign(Object.assign({},fz()),{[e]:t});return new Fl("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return Zb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(n,"argument-error"),Zb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NO.create(n,...e)}function me(n,e,...t){if(!n)throw Jb(e,...t)}function Yi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sg(e),new Error(e)}function _i(n,e){n||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ew(){return g1()==="http:"||g1()==="https:"}function g1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ew()||gO()||"connection"in navigator)?navigator.onLine:!0}function gz(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){this.shortDelay=e,this.longDelay=t,_i(t>e,"Short delay should be less than long delay!"),this.isMobile=N3()||Gb()}get(){return mz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e){_i(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=new zf(3e4,6e4);function Gt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Kt(n,e,t,r,i={}){return VO(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=qc(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return V3()||(f.referrerPolicy="no-referrer"),MO.fetch()(LO(n,n.config.apiHost,t,c),f)})}async function VO(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},yz),e);try{const i=new Ez(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ld(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ld(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ld(n,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Zb(n,g,f);Cn(n,g)}}catch(i){if(i instanceof Wn)throw i;Cn(n,"network-request-failed",{message:String(i)})}}async function ea(n,e,t,r,i={}){const o=await Kt(n,e,t,r,i);return"mfaPendingCredential"in o&&Cn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function LO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?tw(n.config,i):`${n.config.apiScheme}://${i}`}function vz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ez{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gn(this.auth,"network-request-failed")),_z.get())})}}function Ld(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=gn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n){return n!==void 0&&n.getResponse!==void 0}function _1(n){return n!==void 0&&n.enterprise!==void 0}class UO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(n){return(await Kt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function BO(n,e){return Kt(n,"GET","/v2/recaptchaConfig",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(n,e){return Kt(n,"POST","/v1/accounts:delete",e)}async function Tz(n,e){return Kt(n,"POST","/v1/accounts:update",e)}async function FO(n,e){return Kt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sz(n,e=!1){const t=Re(n),r=await t.getIdToken(e),i=Py(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$d(K0(i.auth_time)),issuedAtTime:$d(K0(i.iat)),expirationTime:$d(K0(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function K0(n){return Number(n)*1e3}function Py(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hb(t);return i?JSON.parse(i):(sg("Failed to decode base64 JWT payload"),null)}catch(i){return sg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function v1(n){const e=Py(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Wn&&Az(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Az({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$d(this.lastLoginAt),this.creationTime=$d(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ws(n,FO(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jO(o.providerUserInfo):[],c=Cz(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new OE(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function Iz(n){const e=Re(n);await mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jO(n){return n.map(e=>{var{providerId:t}=e,r=Xb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(n,e){const t=await VO(n,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=LO(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",MO.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Pz(n,e){return Kt(n,"POST","/v2/accounts:revokeToken",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=v1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await xz(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new nc;return r&&(me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Xb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new OE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ws(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Sz(this,e)}reload(){return Iz(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Et(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Ws(this,wz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,d,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,U=(f=t.createdAt)!==null&&f!==void 0?f:void 0,L=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:H,isAnonymous:j,providerData:$,stsTokenManager:M}=t;me(B&&M,e,"internal-error");const x=nc.fromJSON(this.name,M);me(typeof B=="string",e,"internal-error"),za(_,e.name),za(v,e.name),me(typeof H=="boolean",e,"internal-error"),me(typeof j=="boolean",e,"internal-error"),za(T,e.name),za(w,e.name),za(R,e.name),za(C,e.name),za(U,e.name),za(L,e.name);const I=new Bs({uid:B,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:j,photoURL:w,phoneNumber:T,tenantId:R,stsTokenManager:x,createdAt:U,lastLoginAt:L});return $&&Array.isArray($)&&(I.providerData=$.map(b=>Object.assign({},b))),C&&(I._redirectEventId=C),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new nc;i.updateFromServerResponse(t);const o=new Bs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jO(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new nc;c.updateFromIdToken(r);const d=new Bs({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new OE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;function kr(n){_i(n instanceof Function,"Expected a class definition");let e=E1.get(n);return e?(_i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,E1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zO.type="NONE";const pc=zO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n,e,t){return`firebase:${n}:${e}:${t}`}class rc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=bl(this.userKey,i.apiKey,o),this.fullPersistenceKey=bl("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rc(kr(pc),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||kr(pc);const l=bl(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const g=await f._get(l);if(g){const _=Bs._fromJSON(e,g);f!==o&&(c=_),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new rc(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new rc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KO(e))return"Blackberry";if(WO(e))return"Webos";if(HO(e))return"Safari";if((e.includes("chrome/")||$O(e))&&!e.includes("edge/"))return"Chrome";if(qf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qO(n=Vt()){return/firefox\//i.test(n)}function HO(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $O(n=Vt()){return/crios\//i.test(n)}function GO(n=Vt()){return/iemobile/i.test(n)}function qf(n=Vt()){return/android/i.test(n)}function KO(n=Vt()){return/blackberry/i.test(n)}function WO(n=Vt()){return/webos/i.test(n)}function Hf(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Oz(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function kz(n=Vt()){var e;return Hf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Dz(){return yO()&&document.documentMode===10}function YO(n=Vt()){return Hf(n)||qf(n)||WO(n)||KO(n)||/windows phone/i.test(n)||GO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n,e=[]){let t;switch(n){case"Browser":t=b1(Vt());break;case"Worker":t=`${b1(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(n,e={}){return Kt(n,"GET","/v2/passwordPolicy",Gt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=6;class Lz{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Vz,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w1(this),this.idTokenSubscription=new w1(this),this.beforeStateQueue=new Nz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await FO(this,{idToken:e}),r=await Bs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Et(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Et(this.app))return Promise.reject(In(this));const t=e?Re(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Et(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Et(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mz(this),t=new Lz(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pz(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Lt(n){return Re(n)}class w1{constructor(e){this.auth=e,this.observer=null,this.addObserver=vO(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bz(n){$f=n}function nw(n){return $f.loadJS(n)}function Fz(){return $f.recaptchaV2Script}function jz(){return $f.recaptchaEnterpriseScript}function zz(){return $f.gapiScript}function XO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=500,Hz=6e4,Vm=1e12;class $z{constructor(e){this.auth=e,this.counter=Vm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Wz(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Vm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Vm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Vm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class Gz{constructor(){this.enterprise=new Kz}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Kz{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Wz{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Yz(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Hz)},qz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Yz(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const Qz="recaptcha-enterprise",Gd="NO_RECAPTCHA";class ZO{constructor(e){this.type=Qz,this.auth=Lt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{BO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new UO(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;_1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(Gd)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gz().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&_1(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=jz();d.length!==0&&(d+=c),nw(d).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Td(n,e,t,r=!1,i=!1){const o=new ZO(n);let l;if(i)l=Gd;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ja(n,e,t,r,i){var o,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Td(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Td(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const c=await Td(n,e,t);return r(n,c).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Td(n,e,t,!1,!0);return r(n,g)}return Promise.reject(d)})}else{const c=await Td(n,e,t,!1,!0);return r(n,c)}else return Promise.reject(i+" provider is not supported.")}async function Xz(n){const e=Lt(n),t=await BO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new UO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new ZO(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(n,e){const t=xy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(hc(o,e??{}))return i;Cn(i,"already-initialized")}return t.initialize({options:e})}function Jz(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JO(n,e,t){const r=Lt(n);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=ek(e),{host:l,port:c}=e9(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||t9()}function ek(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function e9(n){const e=ek(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:T1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:T1(l)}}}function T1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function t9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,t){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n,e){return Kt(n,"POST","/v1/accounts:resetPassword",Gt(n,e))}async function n9(n,e){return Kt(n,"POST","/v1/accounts:update",e)}async function r9(n,e){return Kt(n,"POST","/v1/accounts:signUp",e)}async function i9(n,e){return Kt(n,"POST","/v1/accounts:update",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(n,e){return ea(n,"POST","/v1/accounts:signInWithPassword",Gt(n,e))}async function Oy(n,e){return Kt(n,"POST","/v1/accounts:sendOobCode",Gt(n,e))}async function a9(n,e){return Oy(n,e)}async function o9(n,e){return Oy(n,e)}async function l9(n,e){return Oy(n,e)}async function u9(n,e){return Oy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(n,e){return ea(n,"POST","/v1/accounts:signInWithEmailLink",Gt(n,e))}async function h9(n,e){return ea(n,"POST","/v1/accounts:signInWithEmailLink",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends $c{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new gf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new gf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ja(e,t,"signInWithPassword",s9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c9(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ja(e,r,"signUpPassword",r9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return h9(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(n,e){return ea(n,"POST","/v1/accounts:signInWithIdp",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="http://localhost";class rs extends $c{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Xb(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new rs(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return qs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,qs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qs(e,t)}buildRequest(){const e={requestUri:d9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(n,e){return Kt(n,"POST","/v1/accounts:sendVerificationCode",Gt(n,e))}async function f9(n,e){return ea(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,e))}async function p9(n,e){const t=await ea(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,e));if(t.temporaryProof)throw Ld(n,"account-exists-with-different-credential",t);return t}const m9={USER_NOT_FOUND:"user-not-found"};async function g9(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ea(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,t),m9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends $c{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new wl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new wl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return f9(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return p9(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return g9(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new wl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _9(n){const e=Ju(Vd(n)).link,t=e?Ju(Vd(e)).deep_link_id:null,r=Ju(Vd(n)).deep_link_id;return(r?Ju(Vd(r)).link:null)||r||t||e||n}class ky{constructor(e){var t,r,i,o,l,c;const d=Ju(Vd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=y9((i=d.mode)!==null&&i!==void 0?i:null);me(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=_9(e);try{return new ky(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,t){return gf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ky.parseLink(t);return me(r,"argument-error"),gf._fromEmailAndCode(e,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends ta{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ic extends Gc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),rs._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ic.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ic.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:l,providerId:c}=e;if(!r&&!i&&!t&&!o||!c)return null;try{return new ic(c)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Gc{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Hi.credential(t,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Gc{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="http://localhost";class mc extends $c{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return qs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,qs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new mc(r,o)}static _create(e,t){return new mc(e,t)}buildRequest(){return{requestUri:v9,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="saml.";class Mg extends ta{constructor(e){me(e.startsWith(E9),"argument-error"),super(e)}static credentialFromResult(e){return Mg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Mg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mc.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return mc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Gc{constructor(){super("twitter.com")}static credential(e,t){return rs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Gi.credential(t,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n,e){return ea(n,"POST","/v1/accounts:signUp",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Bs._fromIdTokenResponse(e,r,i),l=A1(r);return new ai({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=A1(r);return new ai({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function A1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(n){var e;if(Et(n.app))return Promise.reject(In(n));const t=Lt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ai({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await nk(t,{returnSecureToken:!0}),i=await ai._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Vg(e,t,r,i)}}function rk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(n,e){const t=Re(n);await Dy(!0,t,e);const{providerUserInfo:r}=await Tz(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=ik(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function rw(n,e,t=!1){const r=await Ws(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ai._forOperation(n,"link",r)}async function Dy(n,e,t){await mf(e);const r=ik(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(n,e,t=!1){const{auth:r}=n;if(Et(r.app))return Promise.reject(In(r));const i="reauthenticate";try{const o=await Ws(n,rk(r,i,e,n),t);me(o.idToken,r,"internal-error");const l=Py(o.idToken);me(l,r,"internal-error");const{sub:c}=l;return me(n.uid===c,r,"user-mismatch"),ai._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e,t=!1){if(Et(n.app))return Promise.reject(In(n));const r="signIn",i=await rk(n,r,e),o=await ai._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Ny(n,e){return ak(Lt(n),e)}async function ok(n,e){const t=Re(n);return await Dy(!1,t,e.providerId),rw(t,e)}async function lk(n,e){return sk(Re(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(n,e){return ea(n,"POST","/v1/accounts:signInWithCustomToken",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(n,e){if(Et(n.app))return Promise.reject(In(n));const t=Lt(n),r=await T9(t,{token:e,returnSecureToken:!0}),i=await ai._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?iw._fromServerResponse(e,t):"totpInfo"in t?sw._fromServerResponse(e,t):Cn(e,"internal-error")}}class iw extends Gf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new iw(t)}}class sw extends Gf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new sw(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(n){const e=Lt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A9(n,e,t){const r=Lt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&My(r,i,t),await Ja(r,i,"getOobCode",o9,"EMAIL_PASSWORD_PROVIDER")}async function R9(n,e,t){await tk(Re(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aw(n),r})}async function I9(n,e){await i9(Re(n),{oobCode:e})}async function uk(n,e){const t=Re(n),r=await tk(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Gf._fromServerResponse(Lt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function C9(n,e){const{data:t}=await uk(Re(n),e);return t.email}async function ck(n,e,t){if(Et(n.app))return Promise.reject(In(n));const r=Lt(n),l=await Ja(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nk,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&aw(n),d}),c=await ai._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function hk(n,e,t){return Et(n.app)?Promise.reject(In(n)):Ny(Re(n),bo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(n,e,t){const r=Lt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){me(c.handleCodeInApp,r,"argument-error"),c&&My(r,l,c)}o(i,t),await Ja(r,i,"getOobCode",l9,"EMAIL_PASSWORD_PROVIDER")}function P9(n,e){const t=ky.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function O9(n,e,t){if(Et(n.app))return Promise.reject(In(n));const r=Re(n),i=bo.credentialWithLink(e,t||pf());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ny(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(n,e){return Kt(n,"POST","/v1/accounts:createAuthUri",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(n,e){const t=ew()?pf():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await k9(Re(n),r);return i||[]}async function N9(n,e){const t=Re(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&My(t.auth,i,e);const{email:o}=await a9(t.auth,i);o!==n.email&&await n.reload()}async function M9(n,e,t){const r=Re(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&My(r.auth,o,t);const{email:l}=await u9(r.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(n,e){return Kt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Re(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ws(r,V9(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function U9(n,e){const t=Re(n);return Et(t.auth.app)?Promise.reject(In(t.auth)):dk(t,e,null)}function B9(n,e){return dk(Re(n),null,e)}async function dk(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const l=await Ws(n,n9(r,o));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Py(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new sc(o,c)}}if(!r)return null;switch(r){case"facebook.com":return new j9(o,i);case"github.com":return new z9(o,i);case"google.com":return new q9(o,i);case"twitter.com":return new H9(o,i,n.screenName||null);case"custom":case"anonymous":return new sc(o,null);default:return new sc(o,r,i)}}class sc{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class fk extends sc{constructor(e,t,r,i){super(e,t,r),this.username=i}}class j9 extends sc{constructor(e,t){super(e,"facebook.com",t)}}class z9 extends fk{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class q9 extends sc{constructor(e,t){super(e,"google.com",t)}}class H9 extends fk{constructor(e,t,r){super(e,"twitter.com",t,r)}}function $9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:F9(t)}function G9(n,e,t,r){return Re(n).onIdTokenChanged(e,t,r)}function K9(n,e,t){return Re(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new gl("enroll",e,t)}static _fromMfaPendingCredential(e){return new gl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return gl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return gl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Lt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(c=>Gf._fromServerResponse(r,c));me(i.mfaPendingCredential,r,"internal-error");const l=gl._fromMfaPendingCredential(i.mfaPendingCredential);return new ow(l,o,async c=>{const d=await c._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await ai._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return me(t.user,r,"internal-error"),ai._forOperation(t.user,t.operationType,f);default:Cn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function W9(n,e){var t;const r=Re(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),ow._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:start",Gt(n,e))}function Y9(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(n,e))}function Q9(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(n,e))}class lw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Gf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new lw(e)}async getSession(){return gl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Ws(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ws(this.user,Q9(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const W0=new WeakMap;function X9(n){const e=Re(n);return W0.has(e)||W0.set(e,lw._fromUser(e)),W0.get(e)}const Lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lg,"1"),this.storage.removeItem(Lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=1e3,J9=10;class mk extends pk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);Dz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mk.type="LOCAL";const Vy=mk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends pk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gk.type="SESSION";const lo=gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ly(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,o)),d=await eq(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ly.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=Kf("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function nq(n){an().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function rq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iq(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sq(){return uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firebaseLocalStorageDb",aq=1,Ug="firebaseLocalStorage",_k="fbase_key";class Wf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uy(n,e){return n.transaction([Ug],e?"readwrite":"readonly").objectStore(Ug)}function oq(){const n=indexedDB.deleteDatabase(yk);return new Wf(n).toPromise()}function kE(){const n=indexedDB.open(yk,aq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ug,{keyPath:_k})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ug)?e(r):(r.close(),await oq(),e(await kE()))})})}async function I1(n,e,t){const r=Uy(n,!0).put({[_k]:e,value:t});return new Wf(r).toPromise()}async function lq(n,e){const t=Uy(n,!1).get(e),r=await new Wf(t).toPromise();return r===void 0?null:r.value}function C1(n,e){const t=Uy(n,!0).delete(e);return new Wf(t).toPromise()}const uq=800,cq=3;class vk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ly._getInstance(sq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rq(),!this.activeServiceWorker)return;this.sender=new tq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kE();return await I1(e,Lg,"1"),await C1(e,Lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>I1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lq(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>C1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Uy(i,!1).getAll();return new Wf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vk.type="LOCAL";const gc=vk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:start",Gt(n,e))}function hq(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:finalize",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=XO("rcb"),dq=new zf(3e4,6e4);class fq{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=an().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(pq(t),e,"argument-error"),this.shouldResolveImmediately(t)&&y1(an().grecaptcha)?Promise.resolve(an().grecaptcha):new Promise((r,i)=>{const o=an().setTimeout(()=>{i(gn(e,"network-request-failed"))},dq.get());an()[Y0]=()=>{an().clearTimeout(o),delete an()[Y0];const c=an().grecaptcha;if(!c||!y1(c)){i(gn(e,"internal-error"));return}const d=c.render;c.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(c)};const l=`${Fz()}?${qc({onload:Y0,render:"explicit",hl:t})}`;nw(l).catch(()=>{clearTimeout(o),i(gn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=an().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function pq(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class mq{async load(e){return new $z(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="recaptcha",gq={theme:"light",type:"image"};let yq=class{constructor(e,t,r=Object.assign({},gq)){this.parameters=r,this.type=Kd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mq:new fq,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),i(l))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=an()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(ew()&&!uw(),this.auth,"internal-error"),await _q(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await bz(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function _q(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=wl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function vq(n,e,t){if(Et(n.app))return Promise.reject(In(n));const r=Lt(n),i=await By(r,e,Re(t));return new cw(i,o=>Ny(r,o))}async function Eq(n,e,t){const r=Re(n);await Dy(!1,r,"phone");const i=await By(r.auth,e,Re(t));return new cw(i,o=>ok(r,o))}async function bq(n,e,t){const r=Re(n);if(Et(r.auth.app))return Promise.reject(In(r.auth));const i=await By(r.auth,e,Re(t));return new cw(i,o=>lk(r,o))}async function By(n,e,t){var r;if(!n._getRecaptchaConfig())try{await Xz(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",n,"internal-error");const l={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ja(n,l,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Gd){me((t==null?void 0:t.type)===Kd,g,"argument-error");const v=await Q0(g,_,t);return R1(g,v)}return R1(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(l,n,"missing-multi-factor-info");const c={mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ja(n,c,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Gd){me((t==null?void 0:t.type)===Kd,_,"argument-error");const T=await Q0(_,v,t);return x1(_,T)}return x1(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ja(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===Gd){me((t==null?void 0:t.type)===Kd,f,"argument-error");const _=await Q0(f,g,t);return S1(f,_)}return S1(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function wq(n,e){const t=Re(n);if(Et(t.auth.app))return Promise.reject(In(t.auth));await rw(t,e)}async function Q0(n,e,t){me(t.type===Kd,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:l,clientType:c,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:l,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il=class ag{constructor(e){this.providerId=ag.PROVIDER_ID,this.auth=Lt(e)}verifyPhoneNumber(e,t){return By(this.auth,e,Re(t))}static credential(e,t){return wl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ag.credentialFromTaggedObject(t)}static credentialFromError(e){return ag.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?wl._fromTokenResponse(t,r):null}};Il.PROVIDER_ID="phone";Il.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n,e){return e?kr(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends $c{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tq(n){return ak(n.auth,new hw(n),n.bypassAuthState)}function Sq(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),sk(t,new hw(n),n.bypassAuthState)}async function Aq(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),rw(t,new hw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tq;case"linkViaPopup":case"linkViaRedirect":return Aq;case"reauthViaPopup":case"reauthViaRedirect":return Sq;default:Cn(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=new zf(2e3,1e4);async function Iq(n,e,t){if(Et(n.app))return Promise.reject(gn(n,"operation-not-supported-in-this-environment"));const r=Lt(n);Hc(n,e,ta);const i=zl(r,t);return new Fs(r,"signInViaPopup",e,i).executeNotNull()}async function Cq(n,e,t){const r=Re(n);if(Et(r.auth.app))return Promise.reject(gn(r.auth,"operation-not-supported-in-this-environment"));Hc(r.auth,e,ta);const i=zl(r.auth,t);return new Fs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function xq(n,e,t){const r=Re(n);Hc(r.auth,e,ta);const i=zl(r.auth,t);return new Fs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Fs extends Ek{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=Kf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rq.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq="pendingRedirect",Wd=new Map;class Oq extends Ek{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const r=await kq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kq(n,e){const t=wk(e),r=bk(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function dw(n,e){return bk(n)._set(wk(e),"true")}function Dq(){Wd.clear()}function fw(n,e){Wd.set(n._key(),e)}function bk(n){return kr(n._redirectPersistence)}function wk(n){return bl(Pq,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(n,e,t){return Mq(n,e,t)}async function Mq(n,e,t){if(Et(n.app))return Promise.reject(In(n));const r=Lt(n);Hc(n,e,ta),await r._initializationPromise;const i=zl(r,t);return await dw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Vq(n,e,t){return Lq(n,e,t)}async function Lq(n,e,t){const r=Re(n);if(Hc(r.auth,e,ta),Et(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const i=zl(r.auth,t);await dw(i,r.auth);const o=await Tk(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Uq(n,e,t){return Bq(n,e,t)}async function Bq(n,e,t){const r=Re(n);Hc(r.auth,e,ta),await r.auth._initializationPromise;const i=zl(r.auth,t);await Dy(!1,r,e.providerId),await dw(i,r.auth);const o=await Tk(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function Fq(n,e){return await Lt(n)._initializationPromise,Fy(n,e,!1)}async function Fy(n,e,t=!1){if(Et(n.app))return Promise.reject(In(n));const r=Lt(n),i=zl(r,e),l=await new Oq(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function Tk(n){const e=Kf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=10*60*1e3;class Sk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ak(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(gn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jq&&this.cachedEventUids.clear(),this.cachedEventUids.has(P1(e))}saveEventToCache(e){this.cachedEventUids.add(P1(e)),this.lastProcessedEventTime=Date.now()}}function P1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ak({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ak(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(n,e={}){return Kt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hq=/^https?/;async function $q(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Rk(n);for(const t of e)try{if(Gq(t))return}catch{}Cn(n,"unauthorized-domain")}function Gq(n){const e=pf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!Hq.test(t))return!1;if(qq.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new zf(3e4,6e4);function O1(){const n=an().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Wq(n){return new Promise((e,t)=>{var r,i,o;function l(){O1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O1(),t(gn(n,"network-request-failed"))},timeout:Kq.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=an().gapi)===null||o===void 0)&&o.load)l();else{const c=XO("iframefcb");return an()[c]=()=>{gapi.load?l():t(gn(n,"network-request-failed"))},nw(`${zz()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw og=null,e})}let og=null;function Yq(n){return og=og||Wq(n),og}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=new zf(5e3,15e3),Xq="__/auth/iframe",Zq="emulator/auth/iframe",Jq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tH(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tw(e,Zq):`https://${n.config.authDomain}/${Xq}`,r={apiKey:e.apiKey,appName:n.name,v:Js},i=eH.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${qc(r).slice(1)}`}async function nH(n){const e=await Yq(n),t=an().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:tH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jq,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=gn(n,"network-request-failed"),c=an().setTimeout(()=>{o(l)},Qq.get());function d(){an().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iH=500,sH=600,aH="_blank",oH="http://localhost";class k1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lH(n,e,t,r=iH,i=sH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},rH),{width:r.toString(),height:i.toString(),top:o,left:l}),f=Vt().toLowerCase();t&&(c=$O(f)?aH:t),qO(f)&&(e=e||oH,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(kz(f)&&c!=="_self")return uH(e||"",c),new k1(null);const _=window.open(e||"",c,g);me(_,n,"popup-blocked");try{_.focus()}catch{}return new k1(_)}function uH(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="__/auth/handler",hH="emulator/auth/handler",dH=encodeURIComponent("fac");async function DE(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Js,eventId:i};if(e instanceof ta){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",j3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))l[g]=_}if(e instanceof Gc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await n._getAppCheckToken(),f=d?`#${dH}=${encodeURIComponent(d)}`:"";return`${fH(n)}?${qc(c).slice(1)}${f}`}function fH({config:n}){return n.emulator?tw(n,hH):`https://${n.authDomain}/${cH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="webStorageSupport";class pH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lo,this._completeRedirectFn=Fy,this._overrideRedirectResult=fw}async _openPopup(e,t,r,i){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await DE(e,t,r,pf(),i);return lH(e,l,Kf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await DE(e,t,r,pf(),i);return nq(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await nH(e),r=new Sk(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(X0,{type:X0},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[X0];l!==void 0&&t(!!l),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$q(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YO()||HO()||Hf()}}const Ik=pH;class mH{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yi("unexpected MultiFactorSessionType")}}}class pw extends mH{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new pw(e)}_finalizeEnroll(e,t,r){return Y9(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return hq(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ck{constructor(){}static assertion(e){return pw._fromCredential(e)}}Ck.FACTOR_ID="phone";var D1="@firebase/auth",N1="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _H(n){Ks(new si("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QO(n)},f=new Uz(r,i,o,d);return Jz(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ks(new si("auth-internal",e=>{const t=Lt(e.getProvider("auth").getImmediate());return(r=>new gH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(D1,N1,yH(n)),Vr(D1,N1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=5*60,EH=fO("authIdTokenMaxAge")||vH;let M1=null;const bH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>EH)return;const i=t==null?void 0:t.token;M1!==i&&(M1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wH(n=IO()){const e=xy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Zz(n,{popupRedirectResolver:Ik,persistence:[gc,Vy,lo]}),r=fO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=bH(o.toString());K9(t,l,()=>l(t.currentUser)),G9(t,c=>l(c))}}const i=k3("auth");return i&&JO(t,`http://${i}`),t}function TH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Bz({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=gn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",TH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_H("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=2e3;async function AH(n,e,t){var r;const{BuildInfo:i}=Cl();_i(e.sessionId,"AuthEvent did not contain a session ID");const o=await PH(e.sessionId),l={};return Hf()?l.ibi=i.packageName:qf()?l.apn=i.packageName:Cn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=o,DE(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function RH(n){const{BuildInfo:e}=Cl(),t={};Hf()?t.iosBundleId=e.packageName:qf()?t.androidPackageName=e.packageName:Cn(n,"operation-not-supported-in-this-environment"),await Rk(n,t)}function IH(n){const{cordova:e}=Cl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,Oz()?"_blank":"_system","location=yes"),t(i)})})}async function CH(n,e,t){const{cordova:r}=Cl();let i=()=>{};try{await new Promise((o,l)=>{let c=null;function d(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){c||(c=window.setTimeout(()=>{l(gn(n,"redirect-cancelled-by-user"))},SH))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),qf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),c&&window.clearTimeout(c)}})}finally{i()}}function xH(n){var e,t,r,i,o,l,c,d,f,g;const _=Cl();me(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((d=(c=(l=_==null?void 0:_.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function PH(n){const e=OH(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function OH(n){if(_i(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=20;class DH extends Sk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function NH(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:LH(),postBody:null,tenantId:n.tenantId,error:gn(n,"no-auth-event")}}function MH(n,e){return NE()._set(ME(n),e)}async function V1(n){const e=await NE()._get(ME(n));return e&&await NE()._remove(ME(n)),e}function VH(n,e){var t,r;const i=BH(e);if(i.includes("/__/auth/callback")){const o=lg(i),l=o.firebaseError?UH(decodeURIComponent(o.firebaseError)):null,c=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=c?gn(c):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function LH(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<kH;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function NE(){return kr(Vy)}function ME(n){return bl("authEvent",n.config.apiKey,n.name)}function UH(n){try{return JSON.parse(n)}catch{return null}}function BH(n){const e=lg(n),t=e.link?decodeURIComponent(e.link):void 0,r=lg(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return lg(i).link||i||r||t||n}function lg(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Ju(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=500;class jH{constructor(){this._redirectPersistence=lo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fy,this._overrideRedirectResult=fw}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new DH(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Cn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){xH(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),Dq(),await this._originValidation(e);const l=NH(e,r,i);await MH(e,l);const c=await AH(e,l,t),d=await IH(c);return CH(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RH(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Cl(),l=setTimeout(async()=>{await V1(e),t.onEvent(L1())},FH),c=async g=>{clearTimeout(l);const _=await V1(e);let v=null;_&&(g!=null&&g.url)&&(v=VH(_,g.url)),t.onEvent(v||L1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const d=i,f=`${o.packageName.toLowerCase()}://`;Cl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&c({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const zH=jH;function L1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:gn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(n,e){Lt(n)._logFramework(e)}var HH="@firebase/auth-compat",$H="0.5.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=1e3;function Yd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function KH(){return Yd()==="http:"||Yd()==="https:"}function xk(n=Vt()){return!!((Yd()==="file:"||Yd()==="ionic:"||Yd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function WH(){return Gb()||$b()}function YH(){return yO()&&(document==null?void 0:document.documentMode)===11}function QH(n=Vt()){return/Edge\/\d+/.test(n)}function XH(n=Vt()){return YH()||QH(n)}function Pk(){try{const n=self.localStorage,e=Kf();if(n)return n.setItem(e,"1"),n.removeItem(e),XH()?hf():!0}catch{return mw()&&hf()}return!1}function mw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Z0(){return(KH()||gO()||xk())&&!WH()&&Pk()&&!mw()}function Ok(){return xk()&&typeof document<"u"}async function ZH(){return Ok()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},GH);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function JH(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},Sd=me,kk="persistence";function e8(n,e){if(Sd(Object.values(Pr).includes(e),n,"invalid-persistence-type"),Gb()){Sd(e!==Pr.SESSION,n,"unsupported-persistence-type");return}if($b()){Sd(e===Pr.NONE,n,"unsupported-persistence-type");return}if(mw()){Sd(e===Pr.NONE||e===Pr.LOCAL&&hf(),n,"unsupported-persistence-type");return}Sd(e===Pr.NONE||Pk(),n,"unsupported-persistence-type")}async function VE(n){await n._initializationPromise;const e=Dk(),t=bl(kk,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function t8(n,e){const t=Dk();if(!t)return[];const r=bl(kk,n,e);switch(t.getItem(r)){case Pr.NONE:return[pc];case Pr.LOCAL:return[gc,lo];case Pr.SESSION:return[lo];default:return[]}}function Dk(){var n;try{return((n=JH())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=me;class Ya{constructor(){this.browserResolver=kr(Ik),this.cordovaResolver=kr(zH),this.underlyingResolver=null,this._redirectPersistence=lo,this._completeRedirectFn=Fy,this._overrideRedirectResult=fw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ok()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return n8(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await ZH();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){return n.unwrap()}function r8(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n){return Mk(n)}function s8(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new a8(n,W9(n,e))}else if(r){const i=Mk(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function Mk(n){const{_tokenResponse:e}=n instanceof Wn?n.customData:n;if(!e)return null;if(!(n instanceof Wn)&&"temporaryProof"in e&&"phoneNumber"in e)return Il.credentialFromResult(n);const t=e.providerId;if(!t||t===wd.PASSWORD)return null;let r;switch(t){case wd.GOOGLE:r=Hi;break;case wd.FACEBOOK:r=qi;break;case wd.GITHUB:r=$i;break;case wd.TWITTER:r=Gi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:d}=e;return!o&&!l&&!i&&!c?null:c?t.startsWith("saml.")?mc._create(t,c):rs._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:i,accessToken:o}):new ic(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof Wn?r.credentialFromError(n):r.credentialFromResult(n)}function fr(n,e){return e.catch(t=>{throw t instanceof Wn&&s8(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:i8(t),additionalUserInfo:$9(t),user:jy.getOrCreate(i)}})}async function LE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>fr(n,t.confirm(r))}}class a8{constructor(e,t){this.resolver=t,this.auth=r8(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return fr(Nk(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy=class Ud{constructor(e){this._delegate=e,this.multiFactor=X9(e)}static getOrCreate(e){return Ud.USER_MAP.has(e)||Ud.USER_MAP.set(e,new Ud(e)),Ud.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return fr(this.auth,ok(this._delegate,e))}async linkWithPhoneNumber(e,t){return LE(this.auth,Eq(this._delegate,e,t))}async linkWithPopup(e){return fr(this.auth,xq(this._delegate,e,Ya))}async linkWithRedirect(e){return await VE(Lt(this.auth)),Uq(this._delegate,e,Ya)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return fr(this.auth,lk(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return LE(this.auth,bq(this._delegate,e,t))}reauthenticateWithPopup(e){return fr(this.auth,Cq(this._delegate,e,Ya))}async reauthenticateWithRedirect(e){return await VE(Lt(this.auth)),Vq(this._delegate,e,Ya)}sendEmailVerification(e){return N9(this._delegate,e)}async unlink(e){return await w9(this._delegate,e),this}updateEmail(e){return U9(this._delegate,e)}updatePassword(e){return B9(this._delegate,e)}updatePhoneNumber(e){return wq(this._delegate,e)}updateProfile(e){return L9(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return M9(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};jy.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=me;let UE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ad(r,"invalid-api-key",{appName:e.name}),Ad(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ya:void 0;this._delegate=t.initialize({options:{persistence:o8(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(dz),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jy.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){JO(this._delegate,e,t)}applyActionCode(e){return I9(this._delegate,e)}checkActionCode(e){return uk(this._delegate,e)}confirmPasswordReset(e,t){return R9(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return fr(this._delegate,ck(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return D9(this._delegate,e)}isSignInWithEmailLink(e){return P9(this._delegate,e)}async getRedirectResult(){Ad(Z0(),this._delegate,"operation-not-supported-in-this-environment");const e=await Fq(this._delegate,Ya);return e?fr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){qH(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:l}=U1(e,t,r);return this._delegate.onAuthStateChanged(i,o,l)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:l}=U1(e,t,r);return this._delegate.onIdTokenChanged(i,o,l)}sendSignInLinkToEmail(e,t){return x9(this._delegate,e,t)}sendPasswordResetEmail(e,t){return A9(this._delegate,e,t||void 0)}async setPersistence(e){e8(this._delegate,e);let t;switch(e){case Pr.SESSION:t=lo;break;case Pr.LOCAL:t=await kr(gc)._isAvailable()?gc:Vy;break;case Pr.NONE:t=pc;break;default:return Cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return fr(this._delegate,b9(this._delegate))}signInWithCredential(e){return fr(this._delegate,Ny(this._delegate,e))}signInWithCustomToken(e){return fr(this._delegate,S9(this._delegate,e))}signInWithEmailAndPassword(e,t){return fr(this._delegate,hk(this._delegate,e,t))}signInWithEmailLink(e,t){return fr(this._delegate,O9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return LE(this._delegate,vq(this._delegate,e,t))}async signInWithPopup(e){return Ad(Z0(),this._delegate,"operation-not-supported-in-this-environment"),fr(this._delegate,Iq(this._delegate,e,Ya))}async signInWithRedirect(e){return Ad(Z0(),this._delegate,"operation-not-supported-in-this-environment"),await VE(this._delegate),Nq(this._delegate,e,Ya)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return C9(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};UE.Persistence=Pr;function U1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&jy.getOrCreate(l)),error:e,complete:t}}function o8(n,e){const t=t8(n,e);if(typeof self<"u"&&!t.includes(gc)&&t.push(gc),typeof window<"u")for(const r of[Vy,lo])t.includes(r)||t.push(r);return t.includes(pc)||t.push(pc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{static credential(e,t){return Il.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Il(Nk(jl.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}gw.PHONE_SIGN_IN_METHOD=Il.PHONE_SIGN_IN_METHOD;gw.PROVIDER_ID=Il.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=me;class u8{constructor(e,t,r=jl.app()){var i;l8((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new yq(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="auth-compat";function h8(n){n.INTERNAL.registerComponent(new si(c8,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new UE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fu.EMAIL_SIGNIN,PASSWORD_RESET:Fu.PASSWORD_RESET,RECOVER_EMAIL:Fu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Fu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Fu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Fu.VERIFY_EMAIL}},EmailAuthProvider:bo,FacebookAuthProvider:qi,GithubAuthProvider:$i,GoogleAuthProvider:Hi,OAuthProvider:ic,SAMLAuthProvider:Mg,PhoneAuthProvider:gw,PhoneMultiFactorGenerator:Ck,RecaptchaVerifier:u8,TwitterAuthProvider:Gi,Auth:UE,AuthCredential:$c,Error:Wn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(HH,$H)}h8(jl);var B1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,Vk;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function I(){}I.prototype=x.prototype,M.D=x.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(b,P,O){for(var k=Array(arguments.length-2),te=2;te<arguments.length;te++)k[te-2]=arguments[te];return x.prototype[P].apply(b,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,x,I){I||(I=0);var b=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)b[P]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(P=0;16>P;++P)b[P]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=M.g[0],I=M.g[1],P=M.g[2];var O=M.g[3],k=x+(O^I&(P^O))+b[0]+3614090360&4294967295;x=I+(k<<7&4294967295|k>>>25),k=O+(P^x&(I^P))+b[1]+3905402710&4294967295,O=x+(k<<12&4294967295|k>>>20),k=P+(I^O&(x^I))+b[2]+606105819&4294967295,P=O+(k<<17&4294967295|k>>>15),k=I+(x^P&(O^x))+b[3]+3250441966&4294967295,I=P+(k<<22&4294967295|k>>>10),k=x+(O^I&(P^O))+b[4]+4118548399&4294967295,x=I+(k<<7&4294967295|k>>>25),k=O+(P^x&(I^P))+b[5]+1200080426&4294967295,O=x+(k<<12&4294967295|k>>>20),k=P+(I^O&(x^I))+b[6]+2821735955&4294967295,P=O+(k<<17&4294967295|k>>>15),k=I+(x^P&(O^x))+b[7]+4249261313&4294967295,I=P+(k<<22&4294967295|k>>>10),k=x+(O^I&(P^O))+b[8]+1770035416&4294967295,x=I+(k<<7&4294967295|k>>>25),k=O+(P^x&(I^P))+b[9]+2336552879&4294967295,O=x+(k<<12&4294967295|k>>>20),k=P+(I^O&(x^I))+b[10]+4294925233&4294967295,P=O+(k<<17&4294967295|k>>>15),k=I+(x^P&(O^x))+b[11]+2304563134&4294967295,I=P+(k<<22&4294967295|k>>>10),k=x+(O^I&(P^O))+b[12]+1804603682&4294967295,x=I+(k<<7&4294967295|k>>>25),k=O+(P^x&(I^P))+b[13]+4254626195&4294967295,O=x+(k<<12&4294967295|k>>>20),k=P+(I^O&(x^I))+b[14]+2792965006&4294967295,P=O+(k<<17&4294967295|k>>>15),k=I+(x^P&(O^x))+b[15]+1236535329&4294967295,I=P+(k<<22&4294967295|k>>>10),k=x+(P^O&(I^P))+b[1]+4129170786&4294967295,x=I+(k<<5&4294967295|k>>>27),k=O+(I^P&(x^I))+b[6]+3225465664&4294967295,O=x+(k<<9&4294967295|k>>>23),k=P+(x^I&(O^x))+b[11]+643717713&4294967295,P=O+(k<<14&4294967295|k>>>18),k=I+(O^x&(P^O))+b[0]+3921069994&4294967295,I=P+(k<<20&4294967295|k>>>12),k=x+(P^O&(I^P))+b[5]+3593408605&4294967295,x=I+(k<<5&4294967295|k>>>27),k=O+(I^P&(x^I))+b[10]+38016083&4294967295,O=x+(k<<9&4294967295|k>>>23),k=P+(x^I&(O^x))+b[15]+3634488961&4294967295,P=O+(k<<14&4294967295|k>>>18),k=I+(O^x&(P^O))+b[4]+3889429448&4294967295,I=P+(k<<20&4294967295|k>>>12),k=x+(P^O&(I^P))+b[9]+568446438&4294967295,x=I+(k<<5&4294967295|k>>>27),k=O+(I^P&(x^I))+b[14]+3275163606&4294967295,O=x+(k<<9&4294967295|k>>>23),k=P+(x^I&(O^x))+b[3]+4107603335&4294967295,P=O+(k<<14&4294967295|k>>>18),k=I+(O^x&(P^O))+b[8]+1163531501&4294967295,I=P+(k<<20&4294967295|k>>>12),k=x+(P^O&(I^P))+b[13]+2850285829&4294967295,x=I+(k<<5&4294967295|k>>>27),k=O+(I^P&(x^I))+b[2]+4243563512&4294967295,O=x+(k<<9&4294967295|k>>>23),k=P+(x^I&(O^x))+b[7]+1735328473&4294967295,P=O+(k<<14&4294967295|k>>>18),k=I+(O^x&(P^O))+b[12]+2368359562&4294967295,I=P+(k<<20&4294967295|k>>>12),k=x+(I^P^O)+b[5]+4294588738&4294967295,x=I+(k<<4&4294967295|k>>>28),k=O+(x^I^P)+b[8]+2272392833&4294967295,O=x+(k<<11&4294967295|k>>>21),k=P+(O^x^I)+b[11]+1839030562&4294967295,P=O+(k<<16&4294967295|k>>>16),k=I+(P^O^x)+b[14]+4259657740&4294967295,I=P+(k<<23&4294967295|k>>>9),k=x+(I^P^O)+b[1]+2763975236&4294967295,x=I+(k<<4&4294967295|k>>>28),k=O+(x^I^P)+b[4]+1272893353&4294967295,O=x+(k<<11&4294967295|k>>>21),k=P+(O^x^I)+b[7]+4139469664&4294967295,P=O+(k<<16&4294967295|k>>>16),k=I+(P^O^x)+b[10]+3200236656&4294967295,I=P+(k<<23&4294967295|k>>>9),k=x+(I^P^O)+b[13]+681279174&4294967295,x=I+(k<<4&4294967295|k>>>28),k=O+(x^I^P)+b[0]+3936430074&4294967295,O=x+(k<<11&4294967295|k>>>21),k=P+(O^x^I)+b[3]+3572445317&4294967295,P=O+(k<<16&4294967295|k>>>16),k=I+(P^O^x)+b[6]+76029189&4294967295,I=P+(k<<23&4294967295|k>>>9),k=x+(I^P^O)+b[9]+3654602809&4294967295,x=I+(k<<4&4294967295|k>>>28),k=O+(x^I^P)+b[12]+3873151461&4294967295,O=x+(k<<11&4294967295|k>>>21),k=P+(O^x^I)+b[15]+530742520&4294967295,P=O+(k<<16&4294967295|k>>>16),k=I+(P^O^x)+b[2]+3299628645&4294967295,I=P+(k<<23&4294967295|k>>>9),k=x+(P^(I|~O))+b[0]+4096336452&4294967295,x=I+(k<<6&4294967295|k>>>26),k=O+(I^(x|~P))+b[7]+1126891415&4294967295,O=x+(k<<10&4294967295|k>>>22),k=P+(x^(O|~I))+b[14]+2878612391&4294967295,P=O+(k<<15&4294967295|k>>>17),k=I+(O^(P|~x))+b[5]+4237533241&4294967295,I=P+(k<<21&4294967295|k>>>11),k=x+(P^(I|~O))+b[12]+1700485571&4294967295,x=I+(k<<6&4294967295|k>>>26),k=O+(I^(x|~P))+b[3]+2399980690&4294967295,O=x+(k<<10&4294967295|k>>>22),k=P+(x^(O|~I))+b[10]+4293915773&4294967295,P=O+(k<<15&4294967295|k>>>17),k=I+(O^(P|~x))+b[1]+2240044497&4294967295,I=P+(k<<21&4294967295|k>>>11),k=x+(P^(I|~O))+b[8]+1873313359&4294967295,x=I+(k<<6&4294967295|k>>>26),k=O+(I^(x|~P))+b[15]+4264355552&4294967295,O=x+(k<<10&4294967295|k>>>22),k=P+(x^(O|~I))+b[6]+2734768916&4294967295,P=O+(k<<15&4294967295|k>>>17),k=I+(O^(P|~x))+b[13]+1309151649&4294967295,I=P+(k<<21&4294967295|k>>>11),k=x+(P^(I|~O))+b[4]+4149444226&4294967295,x=I+(k<<6&4294967295|k>>>26),k=O+(I^(x|~P))+b[11]+3174756917&4294967295,O=x+(k<<10&4294967295|k>>>22),k=P+(x^(O|~I))+b[2]+718787259&4294967295,P=O+(k<<15&4294967295|k>>>17),k=I+(O^(P|~x))+b[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+O&4294967295}r.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var I=x-this.blockSize,b=this.B,P=this.h,O=0;O<x;){if(P==0)for(;O<=I;)i(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<x;)if(b[P++]=M.charCodeAt(O++),P==this.blockSize){i(this,b),P=0;break}}else for(;O<x;)if(b[P++]=M[O++],P==this.blockSize){i(this,b),P=0;break}}this.h=P,this.o+=x},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var I=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=I&255,I/=256;for(this.u(M),M=Array(16),x=I=0;4>x;++x)for(var b=0;32>b;b+=8)M[I++]=this.g[x]>>>b&255;return M};function o(M,x){var I=c;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=x(M)}function l(M,x){this.h=x;for(var I=[],b=!0,P=M.length-1;0<=P;P--){var O=M[P]|0;b&&O==x||(I[P]=O,b=!1)}this.g=I}var c={};function d(M){return-128<=M&&128>M?o(M,function(x){return new l([x|0],0>x?-1:0)}):new l([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return C(f(-M));for(var x=[],I=1,b=0;M>=I;b++)x[b]=M/I|0,I*=4294967296;return new l(x,0)}function g(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return C(g(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(x,8)),b=_,P=0;P<M.length;P+=8){var O=Math.min(8,M.length-P),k=parseInt(M.substring(P,P+O),x);8>O?(O=f(Math.pow(x,O)),b=b.j(O).add(f(k))):(b=b.j(I),b=b.add(f(k)))}return b}var _=d(0),v=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-C(this).m();for(var M=0,x=1,I=0;I<this.g.length;I++){var b=this.i(I);M+=(0<=b?b:4294967296+b)*x,x*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(R(this))return"-"+C(this).toString(M);for(var x=f(Math.pow(M,6)),I=this,b="";;){var P=H(I,x).g;I=U(I,P.j(x));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=P,w(I))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function R(M){return M.h==-1}n.l=function(M){return M=U(this,M),R(M)?-1:w(M)?0:1};function C(M){for(var x=M.g.length,I=[],b=0;b<x;b++)I[b]=~M.g[b];return new l(I,~M.h).add(v)}n.abs=function(){return R(this)?C(this):this},n.add=function(M){for(var x=Math.max(this.g.length,M.g.length),I=[],b=0,P=0;P<=x;P++){var O=b+(this.i(P)&65535)+(M.i(P)&65535),k=(O>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);b=k>>>16,O&=65535,k&=65535,I[P]=k<<16|O}return new l(I,I[I.length-1]&-2147483648?-1:0)};function U(M,x){return M.add(C(x))}n.j=function(M){if(w(this)||w(M))return _;if(R(this))return R(M)?C(this).j(C(M)):C(C(this).j(M));if(R(M))return C(this.j(C(M)));if(0>this.l(T)&&0>M.l(T))return f(this.m()*M.m());for(var x=this.g.length+M.g.length,I=[],b=0;b<2*x;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var P=0;P<M.g.length;P++){var O=this.i(b)>>>16,k=this.i(b)&65535,te=M.i(P)>>>16,F=M.i(P)&65535;I[2*b+2*P]+=k*F,L(I,2*b+2*P),I[2*b+2*P+1]+=O*F,L(I,2*b+2*P+1),I[2*b+2*P+1]+=k*te,L(I,2*b+2*P+1),I[2*b+2*P+2]+=O*te,L(I,2*b+2*P+2)}for(b=0;b<x;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=x;b<2*x;b++)I[b]=0;return new l(I,0)};function L(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function B(M,x){this.g=M,this.h=x}function H(M,x){if(w(x))throw Error("division by zero");if(w(M))return new B(_,_);if(R(M))return x=H(C(M),x),new B(C(x.g),C(x.h));if(R(x))return x=H(M,C(x)),new B(C(x.g),x.h);if(30<M.g.length){if(R(M)||R(x))throw Error("slowDivide_ only works with positive integers.");for(var I=v,b=x;0>=b.l(M);)I=j(I),b=j(b);var P=$(I,1),O=$(b,1);for(b=$(b,2),I=$(I,2);!w(b);){var k=O.add(b);0>=k.l(M)&&(P=P.add(I),O=k),b=$(b,1),I=$(I,1)}return x=U(M,P.j(x)),new B(P,x)}for(P=_;0<=M.l(x);){for(I=Math.max(1,Math.floor(M.m()/x.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=f(I),k=O.j(x);R(k)||0<k.l(M);)I-=b,O=f(I),k=O.j(x);w(O)&&(O=v),P=P.add(O),M=U(M,k)}return new B(P,M)}n.A=function(M){return H(this,M).h},n.and=function(M){for(var x=Math.max(this.g.length,M.g.length),I=[],b=0;b<x;b++)I[b]=this.i(b)&M.i(b);return new l(I,this.h&M.h)},n.or=function(M){for(var x=Math.max(this.g.length,M.g.length),I=[],b=0;b<x;b++)I[b]=this.i(b)|M.i(b);return new l(I,this.h|M.h)},n.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),I=[],b=0;b<x;b++)I[b]=this.i(b)^M.i(b);return new l(I,this.h^M.h)};function j(M){for(var x=M.g.length+1,I=[],b=0;b<x;b++)I[b]=M.i(b)<<1|M.i(b-1)>>>31;return new l(I,M.h)}function $(M,x){var I=x>>5;x%=32;for(var b=M.g.length-I,P=[],O=0;O<b;O++)P[O]=0<x?M.i(O+I)>>>x|M.i(O+I+1)<<32-x:M.i(O+I);return new l(P,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,eo=l}).apply(typeof B1<"u"?B1:typeof self<"u"?self:typeof window<"u"?window:{});var Lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lk,Bd,Uk,ug,BE,Bk,Fk,jk;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lm=="object"&&Lm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var N=0;N<p.length-1;N++){var Q=p[N];if(!(Q in S))break e;S=S[Q]}p=p[p.length-1],N=S[p],E=E(N),E!=N&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,N=!1,Q={next:function(){if(!N&&S<p.length){var re=S++;return{value:E(re,p[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),p.apply(E,Q)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function w(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(N,Q,re){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return E.prototype[Q].apply(N,ge)}}function R(p){const E=p.length;if(0<E){const S=Array(E);for(let N=0;N<E;N++)S[N]=p[N];return S}return[]}function C(p,E){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Q=p.length||0,re=N.length||0;p.length=Q+re;for(let ge=0;ge<re;ge++)p[Q+ge]=N[ge]}else p.push(N)}}class U{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function L(p){return/^[\s\xa0]*$/.test(p)}function B(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var j=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function $(p,E,S){for(const N in p)E.call(S,p[N],N,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function x(p){const E={};for(const S in p)E[S]=p[S];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let S,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(S in N)p[S]=N[S];for(let re=0;re<I.length;re++)S=I[re],Object.prototype.hasOwnProperty.call(N,S)&&(p[S]=N[S])}}function P(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function O(p){c.setTimeout(()=>{throw p},0)}function k(){var p=Te;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,S){const N=F.get();N.set(E,S),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new U(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,Te=new te,q=()=>{const p=c.Promise.resolve(void 0);ie=()=>{p.then(ae)}};var ae=()=>{for(var p;p=k();){try{p.h.call(p.g)}catch(S){O(S)}var E=F;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ue=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};c.addEventListener("test",S,E),c.removeEventListener("test",S,E)}catch{}return p}();function Oe(p,E){if(ve.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(j){e:{try{H(E.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ke[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,ve);var ke={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function _t(p,E,S,N,Q){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!N,this.ha=Q,this.key=++ze,this.da=this.fa=!1}function $e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function wt(p){this.src=p,this.g={},this.h=0}wt.prototype.add=function(p,E,S,N,Q){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ge=at(p,E,N,Q);return-1<ge?(E=p[ge],S||(E.fa=!1)):(E=new _t(E,this.src,re,!!N,Q),E.fa=S,p.push(E)),E};function Ze(p,E){var S=E.type;if(S in p.g){var N=p.g[S],Q=Array.prototype.indexOf.call(N,E,void 0),re;(re=0<=Q)&&Array.prototype.splice.call(N,Q,1),re&&($e(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function at(p,E,S,N){for(var Q=0;Q<p.length;++Q){var re=p[Q];if(!re.da&&re.listener==E&&re.capture==!!S&&re.ha==N)return Q}return-1}var en="closure_lm_"+(1e6*Math.random()|0),vr={};function Ln(p,E,S,N,Q){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Ln(p,E[re],S,N,Q);return null}return S=up(S),p&&p[xt]?p.K(E,S,f(N)?!!N.capture:!1,Q):Ur(p,E,S,!1,N,Q)}function Ur(p,E,S,N,Q,re){if(!E)throw Error("Invalid event type");var ge=f(Q)?!!Q.capture:!!Q,We=rh(p);if(We||(p[en]=We=new wt(p)),S=We.add(E,S,N,ge,re),S.proxy)return S;if(N=Un(),S.proxy=N,N.src=p,N.listener=S,p.addEventListener)ye||(Q=ge),Q===void 0&&(Q=!1),p.addEventListener(E.toString(),N,Q);else if(p.attachEvent)p.attachEvent(Kl(E.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Un(){function p(S){return E.call(p.src,p.listener,S)}const E=E_;return p}function lr(p,E,S,N,Q){if(Array.isArray(E))for(var re=0;re<E.length;re++)lr(p,E[re],S,N,Q);else N=f(N)?!!N.capture:!!N,S=up(S),p&&p[xt]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],S=at(re,S,N,Q),-1<S&&($e(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=rh(p))&&(E=p.g[E.toString()],p=-1,E&&(p=at(E,S,N,Q)),(S=-1<p?E[p]:null)&&li(S))}function li(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[xt])Ze(E.i,p);else{var S=p.type,N=p.proxy;E.removeEventListener?E.removeEventListener(S,N,p.capture):E.detachEvent?E.detachEvent(Kl(S),N):E.addListener&&E.removeListener&&E.removeListener(N),(S=rh(E))?(Ze(S,p),S.h==0&&(S.src=null,E[en]=null)):$e(p)}}}function Kl(p){return p in vr?vr[p]:vr[p]="on"+p}function E_(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var S=p.listener,N=p.ha||p.src;p.fa&&li(p),p=S.call(N,E)}return p}function rh(p){return p=p[en],p instanceof wt?p:null}var ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function up(p){return typeof p=="function"?p:(p[ur]||(p[ur]=function(E){return p.handleEvent(E)}),p[ur])}function cn(){be.call(this),this.i=new wt(this),this.M=this,this.F=null}w(cn,be),cn.prototype[xt]=!0,cn.prototype.removeEventListener=function(p,E,S,N){lr(this,p,E,S,N)};function _n(p,E){var S,N=p.F;if(N)for(S=[];N;N=N.F)S.push(N);if(p=p.M,N=E.type||E,typeof E=="string")E=new ve(E,p);else if(E instanceof ve)E.target=E.target||p;else{var Q=E;E=new ve(N,p),b(E,Q)}if(Q=!0,S)for(var re=S.length-1;0<=re;re--){var ge=E.g=S[re];Q=us(ge,N,!0,E)&&Q}if(ge=E.g=p,Q=us(ge,N,!0,E)&&Q,Q=us(ge,N,!1,E)&&Q,S)for(re=0;re<S.length;re++)ge=E.g=S[re],Q=us(ge,N,!1,E)&&Q}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],N=0;N<S.length;N++)$e(S[N]);delete p.g[E],p.h--}}this.F=null},cn.prototype.K=function(p,E,S,N){return this.i.add(String(p),E,!1,S,N)},cn.prototype.L=function(p,E,S,N){return this.i.add(String(p),E,!0,S,N)};function us(p,E,S,N){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,re=0;re<E.length;++re){var ge=E[re];if(ge&&!ge.da&&ge.capture==S){var We=ge.listener,dn=ge.ha||ge.src;ge.fa&&Ze(p.i,ge),Q=We.call(dn,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function cp(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(p,E||0)}function ih(p){p.g=cp(()=>{p.g=null,p.i&&(p.i=!1,ih(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class b_ extends be{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ih(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Co(p){be.call(this),this.h=p,this.g={}}w(Co,be);var oa=[];function Bn(p){$(p.g,function(E,S){this.g.hasOwnProperty(S)&&li(E)},p),p.g={}}Co.prototype.N=function(){Co.aa.N.call(this),Bn(this)},Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sh=c.JSON.stringify,Ei=c.JSON.parse,Xn=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function ah(){}ah.prototype.h=null;function hp(p){return p.h||(p.h=p.i())}function dp(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function la(){ve.call(this,"d")}w(la,ve);function ui(){ve.call(this,"c")}w(ui,ve);var Br={},ua=null;function Wl(){return ua=ua||new cn}Br.La="serverreachability";function oh(p){ve.call(this,Br.La,p)}w(oh,ve);function ca(p){const E=Wl();_n(E,new oh(E))}Br.STAT_EVENT="statevent";function Yl(p,E){ve.call(this,Br.STAT_EVENT,p),this.stat=E}w(Yl,ve);function Wt(p){const E=Wl();_n(E,new Yl(E,p))}Br.Ma="timingevent";function fp(p,E){ve.call(this,Br.Ma,p),this.size=E}w(fp,ve);function ha(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function pp(p,E,S,N,Q,re){p.info(function(){if(p.g)if(re)for(var ge="",We=re.split("&"),dn=0;dn<We.length;dn++){var Ye=We[dn].split("=");if(1<Ye.length){var bn=Ye[0];Ye=Ye[1];var fn=bn.split("_");ge=2<=fn.length&&fn[1]=="type"?ge+(bn+"="+Ye+"&"):ge+(bn+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+E+`
`+S+`
`+ge})}function mp(p,E,S,N,Q,re,ge){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+E+`
`+S+`
`+re+" "+ge})}function fa(p,E,S,N){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+vn(p,S)+(N?" "+N:"")})}function wi(p,E){p.info(function(){return"TIMEOUT: "+E})}da.prototype.info=function(){};function vn(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var N=S[p];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return sh(S)}catch{return E}}var hn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xo;function Ql(){}w(Ql,ah),Ql.prototype.g=function(){return new XMLHttpRequest},Ql.prototype.i=function(){return{}},xo=new Ql;function Ti(p,E,S,N){this.j=p,this.i=E,this.l=S,this.R=N||1,this.U=new Co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lh}function lh(){this.i=null,this.g="",this.h=!1}var pa={},Po={};function ci(p,E,S){p.L=1,p.v=Do(Bt(E)),p.m=S,p.P=!0,hs(p,null)}function hs(p,E){p.F=Date.now(),Pt(p),p.A=Bt(p.v);var S=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),ps(S.i,"t",N),p.C=0,S=p.j.J,p.h=new lh,p.g=xp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new b_(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,N=p.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(oa[0]=Q.toString()),Q=oa);for(var re=0;re<Q.length;re++){var ge=Ln(S,Q[re],N||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=p.H?x(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),ca(),pp(p.i,p.u,p.A,p.l,p.R,p.m)}Ti.prototype.ca=function(p){p=p.target;const E=this.M;E&&Hr(p)==3?E.j():this.Y(p)},Ti.prototype.Y=function(p){try{if(p==this.g)e:{const fn=Hr(this.g);var E=this.g.Ba();const _s=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||bp(this.g)))){this.J||fn!=4||E==7||(E==8||0>=_s?ca(3):ca(2)),Xl(this);var S=this.g.Z();this.X=S;t:if(ma(this)){var N=bp(this.g);p="";var Q=N.length,re=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),Er(this);var ge="";break t}this.h.i=new c.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,p+=this.h.i.decode(N[E],{stream:!(re&&E==Q-1)});N.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,mp(this.i,this.u,this.A,this.l,this.R,fn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,dn=this.g;if((We=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(We)){var Ye=We;break t}}Ye=null}if(S=Ye)fa(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,S);else{this.o=!1,this.s=3,Wt(12),cr(this),Er(this);break e}}if(this.P){S=!0;let xn;for(;!this.J&&this.C<ge.length;)if(xn=ga(this,ge),xn==Po){fn==4&&(this.s=4,Wt(14),S=!1),fa(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==pa){this.s=4,Wt(15),fa(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else fa(this.i,this.l,xn,null),br(this,xn);if(ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||ge.length!=0||this.h.h||(this.s=1,Wt(16),S=!1),this.o=this.o&&S,!S)fa(this.i,this.l,ge,"[Invalid Chunked Response]"),cr(this),Er(this);else if(0<ge.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Fo(bn),bn.M=!0,Wt(11))}}else fa(this.i,this.l,ge,null),br(this,ge);fn==4&&cr(this),this.o&&!this.J&&(fn==4?Rp(this.j,this):(this.o=!1,Pt(this)))}else I_(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),cr(this),Er(this)}}}catch{}finally{}};function ma(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ga(p,E){var S=p.C,N=E.indexOf(`
`,S);return N==-1?Po:(S=Number(E.substring(S,N)),isNaN(S)?pa:(N+=1,N+S>E.length?Po:(E=E.slice(N,N+S),p.C=N+S,E)))}Ti.prototype.cancel=function(){this.J=!0,cr(this)};function Pt(p){p.S=Date.now()+p.I,uh(p,p.I)}function uh(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=ha(v(p.ba,p),E)}function Xl(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Ti.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(wi(this.i,this.A),this.L!=2&&(ca(),Wt(17)),cr(this),this.s=2,Er(this)):uh(this,this.S-p)};function Er(p){p.j.G==0||p.J||Rp(p.j,p)}function cr(p){Xl(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Bn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function br(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||ya(S.h,p))){if(!p.K&&ya(S.h,p)&&S.G==3){try{var N=S.Da.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)ou(S),su(S);else break e;Eh(S),Wt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=ha(v(S.Za,S),6e3));if(1>=gp(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ys(S,11)}else if((p.K||S.g==p)&&ou(S),!L(E))for(Q=S.Da.g.parse(E),E=0;E<Q.length;E++){let Ye=Q[E];if(S.T=Ye[0],Ye=Ye[1],S.G==2)if(Ye[0]=="c"){S.K=Ye[1],S.ia=Ye[2];const bn=Ye[3];bn!=null&&(S.la=bn,S.j.info("VER="+S.la));const fn=Ye[4];fn!=null&&(S.Aa=fn,S.j.info("SVER="+S.Aa));const _s=Ye[5];_s!=null&&typeof _s=="number"&&0<_s&&(N=1.5*_s,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const xn=p.g;if(xn){const Pi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pi){var re=N.h;re.g||Pi.indexOf("spdy")==-1&&Pi.indexOf("quic")==-1&&Pi.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(_a(re,re.h),re.h=null))}if(N.D){const wh=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;wh&&(N.ya=wh,Je(N.I,N.D,wh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ge=p;if(N.qa=Cp(N,N.J?N.ia:null,N.W),ge.K){Fr(N.h,ge);var We=ge,dn=N.L;dn&&(We.I=dn),We.B&&(Xl(We),Pt(We)),N.g=ge}else Sp(N);0<S.i.length&&au(S)}else Ye[0]!="stop"&&Ye[0]!="close"||ys(S,7);else S.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ys(S,7):_h(S):Ye[0]!="noop"&&S.l&&S.l.ta(Ye),S.v=0)}}ca(4)}catch{}}var w_=class{constructor(p,E){this.g=p,this.map=E}};function ch(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hh(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function gp(p){return p.h?1:p.g?p.g.size:0}function ya(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function _a(p,E){p.g?p.g.add(E):p.h=E}function Fr(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}ch.prototype.cancel=function(){if(this.i=Zn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Zn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return R(p.i)}function yp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var E=[],S=p.length,N=0;N<S;N++)E.push(p[N]);return E}E=[],S=0;for(N in p)E[S++]=p[N];return E}function T_(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const N in p)E[S++]=N;return E}}}function Oo(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=T_(p),N=yp(p),Q=N.length,re=0;re<Q;re++)E.call(void 0,N[re],S&&S[re],p)}var dh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zl(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var N=p[S].indexOf("="),Q=null;if(0<=N){var re=p[S].substring(0,N);Q=p[S].substring(N+1)}else re=p[S];E(re,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ds(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ds){this.h=p.h,va(this,p.j),this.o=p.o,this.g=p.g,ko(this,p.s),this.l=p.l;var E=p.i,S=new Si;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Jl(this,S),this.m=p.m}else p&&(E=String(p).match(dh))?(this.h=!1,va(this,E[1]||"",!0),this.o=Ea(E[2]||""),this.g=Ea(E[3]||"",!0),ko(this,E[4]),this.l=Ea(E[5]||"",!0),Jl(this,E[6]||"",!0),this.m=Ea(E[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}ds.prototype.toString=function(){var p=[],E=this.j;E&&p.push(jr(E,fh,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(jr(E,fh,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(jr(S,S.charAt(0)=="/"?ph:_p,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",jr(S,R_)),p.join("")};function Bt(p){return new ds(p)}function va(p,E,S){p.j=S?Ea(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ko(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Jl(p,E,S){E instanceof Si?(p.i=E,mh(p.i,p.h)):(S||(E=jr(E,A_)),p.i=new Si(E,p.h))}function Je(p,E,S){p.i.set(E,S)}function Do(p){return Je(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ea(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function jr(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,S_),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function S_(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var fh=/[#\/\?@]/g,_p=/[#\?:]/g,ph=/[#\?]/g,A_=/[#\?@]/g,R_=/#/g;function Si(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function zr(p){p.g||(p.g=new Map,p.h=0,p.i&&Zl(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=Si.prototype,n.add=function(p,E){zr(this),this.i=null,p=ms(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function eu(p,E){zr(p),E=ms(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function fs(p,E){return zr(p),E=ms(p,E),p.g.has(E)}n.forEach=function(p,E){zr(this),this.g.forEach(function(S,N){S.forEach(function(Q){p.call(E,Q,N,this)},this)},this)},n.na=function(){zr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let N=0;N<E.length;N++){const Q=p[N];for(let re=0;re<Q.length;re++)S.push(E[N])}return S},n.V=function(p){zr(this);let E=[];if(typeof p=="string")fs(this,p)&&(E=E.concat(this.g.get(ms(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return zr(this),this.i=null,p=ms(this,p),fs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function ps(p,E,S){eu(p,E),0<S.length&&(p.i=null,p.g.set(ms(p,E),R(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var N=E[S];const re=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var Q=re;ge[N]!==""&&(Q+="="+encodeURIComponent(String(ge[N]))),p.push(Q)}}return this.i=p.join("&")};function ms(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function mh(p,E){E&&!p.j&&(zr(p),p.i=null,p.g.forEach(function(S,N){var Q=N.toLowerCase();N!=Q&&(eu(this,N),ps(this,Q,S))},p)),p.j=E}function vp(p,E){const S=new da;if(c.Image){const N=new Image;N.onload=T(qr,S,"TestLoadImage: loaded",!0,E,N),N.onerror=T(qr,S,"TestLoadImage: error",!1,E,N),N.onabort=T(qr,S,"TestLoadImage: abort",!1,E,N),N.ontimeout=T(qr,S,"TestLoadImage: timeout",!1,E,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else E(!1)}function No(p,E){const S=new da,N=new AbortController,Q=setTimeout(()=>{N.abort(),qr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:N.signal}).then(re=>{clearTimeout(Q),re.ok?qr(S,"TestPingServer: ok",!0,E):qr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),qr(S,"TestPingServer: error",!1,E)})}function qr(p,E,S,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(S)}catch{}}function Mo(){this.g=new Xn}function Ai(p,E,S){const N=S||"";try{Oo(p,function(Q,re){let ge=Q;f(Q)&&(ge=sh(Q)),E.push(N+re+"="+encodeURIComponent(ge))})}catch(Q){throw E.push(N+"type="+encodeURIComponent("_badmap")),Q}}function ba(p){this.l=p.Ub||null,this.j=p.eb||!1}w(ba,ah),ba.prototype.g=function(){return new gs(this.l,this.j)},ba.prototype.i=function(p){return function(){return p}}({});function gs(p,E){cn.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(gs,cn),n=gs.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Ii(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function gh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Ri(this):Ii(this),this.readyState==3&&gh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ri(this))},n.Qa=function(p){this.g&&(this.response=p,Ri(this))},n.ga=function(){this.g&&Ri(this)};function Ri(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ii(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function Ii(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function yh(p){let E="";return $(p,function(S,N){E+=N,E+=":",E+=S,E+=`\r
`}),E}function En(p,E,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=yh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):Je(p,E,S))}function st(p){cn.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(st,cn);var tu=/^https?$/i,Vo=["POST","PUT"];n=st.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xo.g(),this.v=this.o?hp(this.o):hp(xo),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){Ep(this,re);return}if(p=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)S.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())S.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),Q=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Vo,E,void 0))||N||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of S)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lo(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){Ep(this,re)}};function Ep(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,nu(p),Ci(p)}function nu(p){p.A||(p.A=!0,_n(p,"complete"),_n(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,_n(this,"complete"),_n(this,"abort"),Ci(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ru(this):this.bb())},n.bb=function(){ru(this)};function ru(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Hr(p)!=4||p.Z()!=2)){if(p.u&&Hr(p)==4)cp(p.Ea,0,p);else if(_n(p,"readystatechange"),Hr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var N;if(N=ge===0){var Q=String(p.D).match(dh)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),N=!tu.test(Q?Q.toLowerCase():"")}S=N}if(S)_n(p,"complete"),_n(p,"success");else{p.m=6;try{var re=2<Hr(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",nu(p)}}finally{Ci(p)}}}}function Ci(p,E){if(p.g){Lo(p);const S=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||_n(p,"ready");try{S.onreadystatechange=N}catch{}}}function Lo(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Hr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Ei(E)}};function bp(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function I_(p){const E={};p=(p.g&&2<=Hr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(L(p[N]))continue;var S=P(p[N]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=E[Q]||[];E[Q]=re,re.push(S)}M(E,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function iu(p){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,p),this.cb=Uo("retryDelaySeedMs",1e4,p),this.Wa=Uo("forwardChannelMaxRetries",2,p),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ch(p&&p.concurrentRequestLimit),this.Da=new Mo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=iu.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,N){Wt(0),this.W=p,this.H=E||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=Cp(this,null,this.W),au(this)};function _h(p){if(wp(p),p.G==3){var E=p.U++,S=Bt(p.I);if(Je(S,"SID",p.K),Je(S,"RID",E),Je(S,"TYPE","terminate"),Bo(p,S),E=new Ti(p,p.j,E),E.L=2,E.v=Do(Bt(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=E.v,S=!0),S||(E.g=xp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Pt(E)}Ip(p)}function su(p){p.g&&(Fo(p),p.g.cancel(),p.g=null)}function wp(p){su(p),p.u&&(c.clearTimeout(p.u),p.u=null),ou(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function au(p){if(!hh(p.h)&&!p.s){p.s=!0;var E=p.Ga;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.B=0}}function C_(p,E){return gp(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=ha(v(p.Ga,p,E),bh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Q=new Ti(this,this.j,p);let re=this.o;if(this.S&&(re?(re=x(re),b(re,this.S)):re=this.S),this.m!==null||this.O||(Q.H=re,re=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(E+=N,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Tp(this,Q,E),S=Bt(this.I),Je(S,"RID",p),Je(S,"CVER",22),this.D&&Je(S,"X-HTTP-Session-Id",this.D),Bo(this,S),re&&(this.O?E="headers="+encodeURIComponent(String(yh(re)))+"&"+E:this.m&&En(S,this.m,re)),_a(this.h,Q),this.Ua&&Je(S,"TYPE","init"),this.P?(Je(S,"$req",E),Je(S,"SID","null"),Q.T=!0,ci(Q,S,null)):ci(Q,S,E),this.G=2}}else this.G==3&&(p?vh(this,p):this.i.length==0||hh(this.h)||vh(this))};function vh(p,E){var S;E?S=E.l:S=p.U++;const N=Bt(p.I);Je(N,"SID",p.K),Je(N,"RID",S),Je(N,"AID",p.T),Bo(p,N),p.m&&p.o&&En(N,p.m,p.o),S=new Ti(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=Tp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),_a(p.h,S),ci(S,N,E)}function Bo(p,E){p.H&&$(p.H,function(S,N){Je(E,N,S)}),p.l&&Oo({},function(S,N){Je(E,N,S)})}function Tp(p,E,S){S=Math.min(p.i.length,S);var N=p.l?v(p.l.Na,p.l,p):null;e:{var Q=p.i;let re=-1;for(;;){const ge=["count="+S];re==-1?0<S?(re=Q[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let We=!0;for(let dn=0;dn<S;dn++){let Ye=Q[dn].g;const bn=Q[dn].map;if(Ye-=re,0>Ye)re=Math.max(0,Q[dn].g-100),We=!1;else try{Ai(bn,ge,"req"+Ye+"_")}catch{N&&N(bn)}}if(We){N=ge.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,N}function Sp(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.v=0}}function Eh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=ha(v(p.Fa,p),bh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Ap(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=ha(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),su(this),Ap(this))};function Fo(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Ap(p){p.g=new Ti(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Bt(p.qa);Je(E,"RID","rpc"),Je(E,"SID",p.K),Je(E,"AID",p.T),Je(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Je(E,"TO",p.ja),Je(E,"TYPE","xmlhttp"),Bo(p,E),p.m&&p.o&&En(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=Do(Bt(E)),S.m=null,S.P=!0,hs(S,p)}n.Za=function(){this.C!=null&&(this.C=null,su(this),Eh(this),Wt(19))};function ou(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Rp(p,E){var S=null;if(p.g==E){ou(p),Fo(p),p.g=null;var N=2}else if(ya(p.h,E))S=E.D,Fr(p.h,E),N=1;else return;if(p.G!=0){if(E.o)if(N==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Q=p.B;N=Wl(),_n(N,new fp(N,S)),au(p)}else Sp(p);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(N==1&&C_(p,E)||N==2&&Eh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Q){case 1:ys(p,5);break;case 4:ys(p,10);break;case 3:ys(p,6);break;default:ys(p,2)}}}function bh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function ys(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),N=p.Xa;const Q=!N;N=new ds(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||va(N,"https"),Do(N),Q?vp(N.toString(),S):No(N.toString(),S)}else Wt(2);p.G=0,p.l&&p.l.sa(E),Ip(p),wp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Ip(p){if(p.G=0,p.ka=[],p.l){const E=Zn(p.h);(E.length!=0||p.i.length!=0)&&(C(p.ka,E),C(p.ka,p.i),p.h.i.length=0,R(p.i),p.i.length=0),p.l.ra()}}function Cp(p,E,S){var N=S instanceof ds?Bt(S):new ds(S);if(N.g!="")E&&(N.g=E+"."+N.g),ko(N,N.s);else{var Q=c.location;N=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var re=new ds(null);N&&va(re,N),E&&(re.g=E),Q&&ko(re,Q),S&&(re.l=S),N=re}return S=p.D,E=p.ya,S&&E&&Je(N,S,E),Je(N,"VER",p.la),Bo(p,N),N}function xp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new st(new ba({eb:S})):new st(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pp(){}n=Pp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lu(){}lu.prototype.g=function(p,E){return new Jn(p,E)};function Jn(p,E){cn.call(this),this.g=new iu(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!L(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new xi(this)}w(Jn,cn),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){_h(this.g)},Jn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=sh(p),p=S);E.i.push(new w_(E.Ya++,p)),E.G==3&&au(E)},Jn.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,Jn.aa.N.call(this)};function Op(p){la.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(Op,la);function kp(){ui.call(this),this.status=1}w(kp,ui);function xi(p){this.g=p}w(xi,Pp),xi.prototype.ua=function(){_n(this.g,"a")},xi.prototype.ta=function(p){_n(this.g,new Op(p))},xi.prototype.sa=function(p){_n(this.g,new kp)},xi.prototype.ra=function(){_n(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,jk=function(){return new lu},Fk=function(){return Wl()},Bk=Br,BE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hn.NO_ERROR=0,hn.TIMEOUT=8,hn.HTTP_ERROR=6,ug=hn,cs.COMPLETE="complete",Uk=cs,dp.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",cn.prototype.listen=cn.prototype.K,Bd=dp,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,Lk=st}).apply(typeof Lm<"u"?Lm:typeof self<"u"?self:typeof window<"u"?window:{});const F1="@firebase/firestore",j1="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Cy("@firebase/firestore");function Wu(){return uo.logLevel}function d8(n){uo.setLogLevel(n)}function pe(n,...e){if(uo.logLevel<=je.DEBUG){const t=e.map(yw);uo.debug(`Firestore (${Kc}): ${n}`,...t)}}function Qt(n,...e){if(uo.logLevel<=je.ERROR){const t=e.map(yw);uo.error(`Firestore (${Kc}): ${n}`,...t)}}function is(n,...e){if(uo.logLevel<=je.WARN){const t=e.map(yw);uo.warn(`Firestore (${Kc}): ${n}`,...t)}}function yw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: `+n;throw Qt(e),new Error(e)}function Ae(n,e){n||we()}function f8(n,e){n||we()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class m8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class g8{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new zk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Rn(e)}}class y8{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _8{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new y8(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v8{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Et(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new z1(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new z1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=E8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function yc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Hk(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=-62135596800,H1=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*H1);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<q1)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H1}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new It(0,0))}static max(){return new Ce(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="__name__";class Bi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(),r===void 0?r=e.length-t:r>e.length-t&&we(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Bi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Bi.isNumericId(e),i=Bi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Bi.extractNumericId(e).compare(Bi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class qe extends Bi{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const b8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Bi{construct(e,t,r){return new At(e,t,r)}static isValidIdentifier(e){return b8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$1}static keyField(){return new At([$1])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(t)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(qe.fromString(e))}static fromName(e){return new _e(qe.fromString(e).popFirst(5))}static empty(){return new _e(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;class Bg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function FE(n){return n.fields.find(e=>e.kind===2)}function ll(n){return n.fields.filter(e=>e.kind!==2)}Bg.UNKNOWN_ID=-1;class cg{constructor(e,t){this.fieldPath=e,this.kind=t}}class yf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yf(0,Lr.min())}}function $k(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new Lr(i,_e.empty(),e)}function Gk(n){return new Lr(n.readTime,n.key,_c)}class Lr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Lr(Ce.min(),_e.empty(),_c)}static max(){return new Lr(Ce.max(),_e.empty(),_c)}}function _w(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==Kk)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{l[f]=g,++c,c===o&&r(l)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="SimpleDb";class zy{static open(e,t,r,i){try{return new zy(t,e.transaction(i,r))}catch(o){throw new Qd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Vn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Qd(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=vw(r.target.error);this.m.reject(new Qd(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(pe(xr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new T8(t)}}class Ji{static delete(e){return pe(xr,"Removing database:",e),cl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hf())return!1;if(Ji.v())return!0;const e=Vt(),t=Ji.C(e),r=0<t&&t<10,i=Yk(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Ji.C(Vt())===12.2&&Qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(pe(xr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;t(l)},i.onblocked=()=>{r(new Qd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Qd(e,l))},i.onupgradeneeded=o=>{pe(xr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.O.B(l,i.transaction,o.oldVersion,this.version).next(()=>{pe(xr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const c=zy.open(this.db,e,o?"readonly":"readwrite",r),d=i(c).next(f=>(c.S(),f)).catch(f=>(c.abort(f),X.reject(f))).toPromise();return d.catch(()=>{}),await c.p,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(pe(xr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Yk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class w8{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return cl(this.q.delete())}}class Qd extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function To(n){return n.name==="IndexedDbTransactionError"}class T8{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(xr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(xr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),cl(r)}add(e){return pe(xr,"ADD",this.store.name,e,e),cl(this.store.add(e))}get(e){return cl(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(xr,"GET",this.store.name,e,t),t))}delete(e){return pe(xr,"DELETE",this.store.name,e),cl(this.store.delete(e))}count(){return pe(xr,"COUNT",this.store.name),cl(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((l,c)=>{o.onerror=d=>{c(d.target.error)},o.onsuccess=d=>{l(d.target.result)}})}{const o=this.cursor(r),l=[];return this.j(o,(c,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){pe(xr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,l,c)=>c.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const l=vw(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(c=>{c?l.continue():r()}):r()}})}j(e,t){const r=[];return new X((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new w8(c),f=t(c.primaryKey,c.value,d);if(f instanceof X){const g=f.catch(_=>(d.done(),X.reject(_)));r.push(g)}d.isDone?i():d.U===null?c.continue():c.continue(d.U)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cl(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=vw(r.target.error);t(i)}})}let G1=!1;function vw(n){const e=Ji.C(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return G1||(G1=!0,setTimeout(()=>{throw r},0)),r}}return n}const Xd="IndexBackfiller";class S8{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){pe(Xd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();pe(Xd,`Documents written: ${t}`)}catch(t){To(t)?pe(Xd,"Ignoring IndexedDB error during index backfill: ",t):await wo(t)}await this.te(6e4)})}}class A8{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return pe(Xd,`Processing collection: ${l}`),this.ie(e,l,i).next(c=>{i-=c,r.add(l)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,o)).next(c=>(pe(Xd,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const l=Gk(o);_w(l,r)>0&&(r=l)}),new Lr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}pr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=-1;function Yf(n){return n==null}function _f(n){return n===0&&1/n==-1/0}function Qk(n){return typeof n=="number"&&Number.isInteger(n)&&!_f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="";function Yn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=K1(e)),e=R8(n.get(t),e);return K1(e)}function R8(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Fg:t+="";break;default:t+=o}}return t}function K1(n){return n+Fg+""}function Qi(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===Fg&&n.charAt(1)===""),qe.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const l=n.indexOf(Fg,o);switch((l<0||l>t)&&we(),n.charAt(l+1)){case"":const c=n.substring(o,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,l),i+="\0";break;case"":i+=n.substring(o,l+1);break;default:we()}o=l+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="remoteDocuments",Qf="owner",ju="owner",vf="mutationQueues",I8="userId",gi="mutations",W1="batchId",yl="userMutationsIndex",Y1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n,e){return[n,Yn(e)]}function Xk(n,e,t){return[n,Yn(e),t]}const C8={},vc="documentMutations",jg="remoteDocumentsV14",x8=["prefixPath","collectionGroup","readTime","documentId"],dg="documentKeyIndex",P8=["prefixPath","collectionGroup","documentId"],Zk="collectionGroupIndex",O8=["collectionGroup","readTime","prefixPath","documentId"],Ef="remoteDocumentGlobal",jE="remoteDocumentGlobalKey",Ec="targets",Jk="queryTargetsIndex",k8=["canonicalId","targetId"],bc="targetDocuments",D8=["targetId","path"],Ew="documentTargetsIndex",N8=["path","targetId"],zg="targetGlobalKey",Tl="targetGlobal",bf="collectionParents",M8=["collectionId","parent"],wc="clientMetadata",V8="clientId",qy="bundles",L8="bundleId",Hy="namedQueries",U8="name",bw="indexConfiguration",B8="indexId",zE="collectionGroupIndex",F8="collectionGroup",qg="indexState",j8=["indexId","uid"],eD="sequenceNumberIndex",z8=["uid","sequenceNumber"],Hg="indexEntries",q8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tD="documentKeyIndex",H8=["indexId","uid","orderedDocumentKey"],$y="documentOverlays",$8=["userId","collectionPath","documentId"],qE="collectionPathOverlayIndex",G8=["userId","collectionPath","largestBatchId"],nD="collectionGroupOverlayIndex",K8=["userId","collectionGroup","largestBatchId"],ww="globals",W8="name",rD=[vf,gi,vc,ul,Ec,Qf,Tl,bc,wc,Ef,bf,qy,Hy],Y8=[...rD,$y],iD=[vf,gi,vc,jg,Ec,Qf,Tl,bc,wc,Ef,bf,qy,Hy,$y],sD=iD,Tw=[...sD,bw,qg,Hg],Q8=Tw,X8=[...Tw,ww];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends Wk{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function yn(n,e){const t=Ee(n);return Ji.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function So(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Um(this.root,e,this.comparator,!1)}getReverseIterator(){return new Um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Um(this.root,e,this.comparator,!0)}}class Um{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Dn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X1(this.data.getIterator())}getIteratorFrom(e){return new X1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class X1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new mr([])}unionWith(e){let t=new lt(At.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oD("Invalid base64 string: "+o):o}}(e);return new $t(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const J8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=J8.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qs(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="server_timestamp",uD="__type__",cD="__previous_value__",hD="__local_write_time__";function Gy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uD])===null||t===void 0?void 0:t.stringValue)===lD}function Ky(n){const e=n.mapValue.fields[cD];return Gy(e)?Ky(e):e}function wf(n){const e=Ys(n.mapValue.fields[hD].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,t,r,i,o,l,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}const $E="(default)";class co{constructor(e,t){this.projectId=e,this.database=t||$E}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===$E}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="__type__",dD="__max__",Qa={mapValue:{fields:{__type__:{stringValue:dD}}}},Aw="__vector__",Tc="value",fg={nullValue:"NULL_VALUE"};function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gy(n)?4:fD(n)?9007199254740991:Wy(n)?10:11:we()}function ss(n,e){if(n===e)return!0;const t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wf(n).isEqual(wf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ys(i.timestampValue),c=Ys(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Qs(i.bytesValue).isEqual(Qs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return St(i.geoPointValue.latitude)===St(o.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return St(i.integerValue)===St(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=St(i.doubleValue),c=St(o.doubleValue);return l===c?_f(l)===_f(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return yc(n.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Q1(l)!==Q1(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ss(l[d],c[d])))return!1;return!0}(n,e);default:return we()}}function Tf(n,e){return(n.values||[]).find(t=>ss(t,e))!==void 0}function fo(n,e){if(n===e)return 0;const t=ho(n),r=ho(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=St(o.integerValue||o.doubleValue),d=St(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return Z1(n.timestampValue,e.timestampValue);case 4:return Z1(wf(n),wf(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Qs(o),d=Qs(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const g=De(c[f],d[f]);if(g!==0)return g}return De(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=De(St(o.latitude),St(l.latitude));return c!==0?c:De(St(o.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return J1(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,f,g;const _=o.fields||{},v=l.fields||{},T=(c=_[Tc])===null||c===void 0?void 0:c.arrayValue,w=(d=v[Tc])===null||d===void 0?void 0:d.arrayValue,R=De(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:J1(T,w)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Qa.mapValue&&l===Qa.mapValue)return 0;if(o===Qa.mapValue)return 1;if(l===Qa.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=De(d[_],g[_]);if(v!==0)return v;const T=fo(c[d[_]],f[g[_]]);if(T!==0)return T}return De(d.length,g.length)}(n.mapValue,e.mapValue);default:throw we()}}function Z1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ys(n),r=Ys(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function J1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=fo(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function Sc(n){return GE(n)}function GE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ys(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=GE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${GE(t.fields[l])}`;return i+"}"}(n.mapValue):we()}function pg(n){switch(ho(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ky(n);return e?16+pg(e):16;case 5:return 2*n.stringValue.length;case 6:return Qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+pg(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return So(r.fields,(o,l)=>{i+=o.length+pg(l)}),i}(n.mapValue);default:throw we()}}function xl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function KE(n){return!!n&&"integerValue"in n}function Sf(n){return!!n&&"arrayValue"in n}function eC(n){return!!n&&"nullValue"in n}function tC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mg(n){return!!n&&"mapValue"in n}function Wy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sw])===null||t===void 0?void 0:t.stringValue)===Aw}function Zd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return So(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dD}const pD={mapValue:{fields:{[Sw]:{stringValue:Aw},[Tc]:{arrayValue:{}}}}};function t7(n){return"nullValue"in n?fg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xl(co.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Wy(n)?pD:{mapValue:{}}:we()}function n7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xl(co.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?pD:"mapValue"in n?Wy(n)?{mapValue:{}}:Qa:we()}function nC(n,e){const t=fo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rC(n,e){const t=fo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zd(t)}setAll(e){let t=At.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Zd(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());mg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){So(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Mn(Zd(this.value))}}function mD(n){const e=[];return So(n.fields,(t,r)=>{const i=new At([t]);if(mg(r)){const o=mD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new vt(e,0,Ce.min(),Ce.min(),Ce.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Ce.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Ce.min(),Ce.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Ce.min(),Ce.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t){this.position=e,this.inclusive=t}}function iC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=fo(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ss(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t="asc"){this.field=e,this.dir=t}}function r7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{}class He extends gD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new i7(e,t,r):t==="array-contains"?new o7(e,r):t==="in"?new wD(e,r):t==="not-in"?new l7(e,r):t==="array-contains-any"?new u7(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new s7(e,r):new a7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fo(t,this.value)):t!==null&&ho(this.value)===ho(t)&&this.matchesComparison(fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends gD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return Ac(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ac(n){return n.op==="and"}function WE(n){return n.op==="or"}function Rw(n){return yD(n)&&Ac(n)}function yD(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function YE(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+Sc(n.value);if(Rw(n))return n.filters.map(e=>YE(e)).join(",");{const e=n.filters.map(t=>YE(t)).join(",");return`${n.op}(${e})`}}function _D(n,e){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&ss(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&_D(l,i.filters[c]),!0):!1}(n,e):void we()}function vD(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function ED(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${Sc(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(ED).join(" ,")+"}"}(n):"Filter"}class i7 extends He{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class s7 extends He{constructor(e,t){super(e,"in",t),this.keys=bD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class a7 extends He{constructor(e,t){super(e,"not-in",t),this.keys=bD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class o7 extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sf(t)&&Tf(t.arrayValue,this.value)}}class wD extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tf(this.value.arrayValue,t)}}class l7 extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Tf(this.value.arrayValue,t)}}class u7 extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function QE(n,e=null,t=[],r=[],i=null,o=null,l=null){return new c7(n,e,t,r,i,o,l)}function Pl(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>YE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sc(r)).join(",")),e.le=t}return e.le}function Xf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!r7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_D(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sC(n.startAt,e.startAt)&&sC(n.endAt,e.endAt)}function $g(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Gg(n,e){return n.filters.filter(t=>t instanceof He&&t.field.isEqual(e))}function aC(n,e,t){let r=fg,i=!0;for(const o of Gg(n,e)){let l=fg,c=!0;switch(o.op){case"<":case"<=":l=t7(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,c=!1;break;case"!=":case"not-in":l=fg}nC({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];nC({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function oC(n,e,t){let r=Qa,i=!0;for(const o of Gg(n,e)){let l=Qa,c=!0;switch(o.op){case">=":case">":l=n7(o.value),c=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,c=!1;break;case"!=":case"not-in":l=Qa}rC({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];rC({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TD(n,e,t,r,i,o,l,c){return new na(n,e,t,r,i,o,l,c)}function Wc(n){return new na(n)}function lC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Iw(n){return n.collectionGroup!==null}function ac(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new lt(At.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Af(o,r))}),t.has(At.keyField().canonicalString())||e.he.push(new Af(At.keyField(),r))}return e.he}function ar(n){const e=Ee(n);return e.Pe||(e.Pe=h7(e,ac(n))),e.Pe}function h7(n,e){if(n.limitType==="F")return QE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Af(i.field,o)});const t=n.endAt?new po(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new po(n.startAt.position,n.startAt.inclusive):null;return QE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function XE(n,e){const t=n.filters.concat([e]);return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kg(n,e,t){return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zf(n,e){return Xf(ar(n),ar(e))&&n.limitType===e.limitType}function SD(n){return`${Pl(ar(n))}|lt:${n.limitType}`}function Yu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ED(i)).join(", ")}]`),Yf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Sc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Sc(i)).join(",")),`Target(${r})`}(ar(n))}; limitType=${n.limitType})`}function Jf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of ac(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const f=iC(l,c,d);return l.inclusive?f<=0:f<0}(r.startAt,ac(r),i)||r.endAt&&!function(l,c,d){const f=iC(l,c,d);return l.inclusive?f>=0:f>0}(r.endAt,ac(r),i))}(n,e)}function AD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RD(n){return(e,t)=>{let r=!1;for(const i of ac(n)){const o=d7(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function d7(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?fo(d,f):we()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new yt(_e.comparator);function gr(){return f7}const ID=new yt(_e.comparator);function Fd(...n){let e=ID;for(const t of n)e=e.insert(t.key,t);return e}function CD(n){let e=ID;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xi(){return Jd()}function xD(){return Jd()}function Jd(){return new ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const p7=new yt(_e.comparator),m7=new lt(_e.comparator);function Ve(...n){let e=m7;for(const t of n)e=e.add(t);return e}const g7=new lt(De);function Cw(){return g7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function PD(n){return{integerValue:""+n}}function OD(n,e){return Qk(e)?PD(e):xw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this._=void 0}}function y7(n,e,t){return n instanceof Rc?function(i,o){const l={fields:{[uD]:{stringValue:lD},[hD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Gy(o)&&(o=Ky(o)),o&&(l.fields[cD]=o),{mapValue:l}}(t,e):n instanceof Ol?DD(n,e):n instanceof kl?ND(n,e):function(i,o){const l=kD(i,o),c=uC(l)+uC(i.Ie);return KE(l)&&KE(i.Ie)?PD(c):xw(i.serializer,c)}(n,e)}function _7(n,e,t){return n instanceof Ol?DD(n,e):n instanceof kl?ND(n,e):t}function kD(n,e){return n instanceof Ic?function(r){return KE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Rc extends Yy{}class Ol extends Yy{constructor(e){super(),this.elements=e}}function DD(n,e){const t=MD(e);for(const r of n.elements)t.some(i=>ss(i,r))||t.push(r);return{arrayValue:{values:t}}}class kl extends Yy{constructor(e){super(),this.elements=e}}function ND(n,e){let t=MD(e);for(const r of n.elements)t=t.filter(i=>!ss(i,r));return{arrayValue:{values:t}}}class Ic extends Yy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function uC(n){return St(n.integerValue||n.doubleValue)}function MD(n){return Sf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this.field=e,this.transform=t}}function v7(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ol&&i instanceof Ol||r instanceof kl&&i instanceof kl?yc(r.elements,i.elements,ss):r instanceof Ic&&i instanceof Ic?ss(r.Ie,i.Ie):r instanceof Rc&&i instanceof Rc}(n.transform,e.transform)}class E7{constructor(e,t){this.version=e,this.transformResults=t}}class Rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qy{}function VD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qc(n.key,Rt.none()):new Yc(n.key,n.data,Rt.none());{const t=n.data,r=Mn.empty();let i=new lt(At.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new ia(n.key,r,new mr(i.toArray()),Rt.none())}}function b7(n,e,t){n instanceof Yc?function(i,o,l){const c=i.value.clone(),d=hC(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ia?function(i,o,l){if(!gg(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=hC(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(LD(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ef(n,e,t,r){return n instanceof Yc?function(o,l,c,d){if(!gg(o.precondition,l))return c;const f=o.value.clone(),g=dC(o.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof ia?function(o,l,c,d){if(!gg(o.precondition,l))return c;const f=dC(o.fieldTransforms,d,l),g=l.data;return g.setAll(LD(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,l,c){return gg(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function w7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=kD(r.transform,i||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,o))}return t||null}function cC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yc(r,i,(o,l)=>v7(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yc extends Qy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ia extends Qy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hC(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,_7(l,c,t[i]))}return r}function dC(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,y7(o,l,e))}return r}class Qc extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&b7(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ef(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ef(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xD();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=VD(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(t,r)=>cC(t,r))&&yc(this.baseMutations,e.baseMutations,(t,r)=>cC(t,r))}}class kw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return p7}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new kw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,Xe;function UD(n){switch(n){case ne.OK:return we();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we()}}function BD(n){if(n===void 0)return Qt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case sn.OK:return ne.OK;case sn.CANCELLED:return ne.CANCELLED;case sn.UNKNOWN:return ne.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ne.INTERNAL;case sn.UNAVAILABLE:return ne.UNAVAILABLE;case sn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case sn.NOT_FOUND:return ne.NOT_FOUND;case sn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case sn.ABORTED:return ne.ABORTED;case sn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case sn.DATA_LOSS:return ne.DATA_LOSS;default:return we()}}(Xe=sn||(sn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=new eo([4294967295,4294967295],0);function fC(n){const e=FD().encode(n),t=new Vk;return t.update(e),new Uint8Array(t.digest())}function pC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eo([t,r],0),new eo([i,o],0)]}class Nw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jd(`Invalid padding: ${t}`);if(r<0)throw new jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=eo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(eo.fromNumber(r)));return i.compare(S7)===1&&(i=new eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=fC(e),[r,i]=pC(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Nw(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=fC(e),[r,i]=pC(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,np.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tp(Ce.min(),i,new yt(De),gr(),Ve())}}class np{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new np(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class jD{constructor(e,t){this.targetId=e,this.ge=t}}class zD{constructor(e,t,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class mC{constructor(){this.pe=0,this.ye=gC(),this.we=$t.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),r=Ve();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we()}}),new np(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=gC()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class A7{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gr(),this.$e=Bm(),this.Ke=Bm(),this.Ue=new yt(De)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if($g(o))if(r===0){const l=new _e(o.path);this.ze(t,l,vt.newNoDocument(l,Ce.min()))}else Ae(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Qs(r).toUint8Array()}catch(d){if(d instanceof oD)return is("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Nw(l,i,o)}catch(d){return is(d instanceof jd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&$g(c.target)){const d=new _e(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,vt.newNoDocument(d,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=Ve();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new tp(e,t,this.Ue,this.Qe,r);return this.Qe=gr(),this.$e=Bm(),this.Ke=Bm(),this.Ue=new yt(De),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mC,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(De),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(De),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mC),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Bm(){return new yt(_e.comparator)}function gC(){return new yt(_e.comparator)}const R7={asc:"ASCENDING",desc:"DESCENDING"},I7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C7={and:"AND",or:"OR"};class x7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ZE(n,e){return n.useProto3Json||Yf(e)?e:{value:e}}function Cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function P7(n,e){return Cc(n,e.toTimestamp())}function Xt(n){return Ae(!!n),Ce.fromTimestamp(function(t){const r=Ys(t);return new It(r.seconds,r.nanos)}(n))}function Mw(n,e){return JE(n,e).canonicalString()}function JE(n,e){const t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function HD(n){const e=qe.fromString(n);return Ae(eN(e)),e}function Rf(n,e){return Mw(n.databaseId,e.path)}function es(n,e){const t=HD(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(KD(t))}function $D(n,e){return Mw(n.databaseId,e)}function GD(n){const e=HD(n);return e.length===4?qe.emptyPath():KD(e)}function eb(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KD(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function yC(n,e,t){return{name:Rf(n,e),fields:t.value.mapValue.fields}}function WD(n,e,t){const r=es(n,e.name),i=Xt(e.updateTime),o=e.createTime?Xt(e.createTime):Ce.min(),l=new Mn({mapValue:{fields:e.fields}}),c=vt.newFoundDocument(r,i,o,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function O7(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const o=es(r,i.found.name),l=Xt(i.found.updateTime),c=i.found.createTime?Xt(i.found.createTime):Ce.min(),d=new Mn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(o,l,c,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const o=es(r,i.missing),l=Xt(i.readTime);return vt.newNoDocument(o,l)}(n,e):we()}function k7(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string"),$t.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array),$t.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const g=f.code===void 0?ne.UNKNOWN:BD(f.code);return new de(g,f.message||"")}(l);t=new zD(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=es(n,r.document.name),o=Xt(r.document.updateTime),l=r.document.createTime?Xt(r.document.createTime):Ce.min(),c=new Mn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,o,l,c),f=r.targetIds||[],g=r.removedTargetIds||[];t=new yg(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=es(n,r.document),o=r.readTime?Xt(r.readTime):Ce.min(),l=vt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new yg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=es(n,r.document),o=r.removedTargetIds||[];t=new yg([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new T7(i,o),c=r.targetId;t=new jD(c,l)}}return t}function If(n,e){let t;if(e instanceof Yc)t={update:yC(n,e.key,e.value)};else if(e instanceof Qc)t={delete:Rf(n,e.key)};else if(e instanceof ia)t={update:yC(n,e.key,e.data),updateMask:U7(e.fieldMask)};else{if(!(e instanceof Pw))return we();t={verify:Rf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Rc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ol)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ic)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw we()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:P7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(n,e.precondition)),t}function tb(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?Rt.updateTime(Xt(o.updateTime)):o.exists!==void 0?Rt.exists(o.exists):Rt.none()}(e.currentDocument):Rt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let d=null;if("setToServerValue"in c)Ae(c.setToServerValue==="REQUEST_TIME"),d=new Rc;else if("appendMissingElements"in c){const g=c.appendMissingElements.values||[];d=new Ol(g)}else if("removeAllFromArray"in c){const g=c.removeAllFromArray.values||[];d=new kl(g)}else"increment"in c?d=new Ic(l,c.increment):we();const f=At.fromServerFormat(c.fieldPath);return new ep(f,d)}(n,i)):[];if(e.update){e.update.name;const i=es(n,e.update.name),o=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const f=d.fieldPaths||[];return new mr(f.map(g=>At.fromServerFormat(g)))}(e.updateMask);return new ia(i,o,l,t,r)}return new Yc(i,o,t,r)}if(e.delete){const i=es(n,e.delete);return new Qc(i,t)}if(e.verify){const i=es(n,e.verify);return new Pw(i,t)}return we()}function D7(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?Xt(i.updateTime):Xt(o);return l.isEqual(Ce.min())&&(l=Xt(o)),new E7(l,i.transformResults||[])}(t,e))):[]}function YD(n,e){return{documents:[$D(n,e.path)]}}function QD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$D(n,i);const o=function(f){if(f.length!==0)return JD(ot.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:Qu(v.field),direction:M7(v.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=ZE(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function XD(n){let e=GD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=ZD(_);return v instanceof ot&&Rw(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(v=>function(w){return new Af(Xu(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(_){let v;return v=typeof _=="object"?_.value:_,Yf(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,T=_.values||[];return new po(T,v)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const v=!_.before,T=_.values||[];return new po(T,v)}(t.endAt)),TD(e,i,l,o,c,"F",d,f)}function N7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xu(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xu(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xu(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xu(t.unaryFilter.field);return He.create(l,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return He.create(Xu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>ZD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function M7(n){return R7[n]}function V7(n){return I7[n]}function L7(n){return C7[n]}function Qu(n){return{fieldPath:n.canonicalString()}}function Xu(n){return At.fromServerFormat(n.fieldPath)}function JD(n){return n instanceof He?function(t){if(t.op==="=="){if(tC(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NAN"}};if(eC(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tC(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NAN"}};if(eC(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qu(t.field),op:V7(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>JD(i));return r.length===1?r[0]:{compositeFilter:{op:L7(t.op),filters:r}}}(n):we()}function U7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t,r,i,o=Ce.min(),l=Ce.min(),c=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.Tt=e}}function B7(n,e){let t;if(e.document)t=WD(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=Nl(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const r=_e.fromSegments(e.unknownDocument.path),i=Nl(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new It(i[0],i[1]);return Ce.fromTimestamp(o)}(e.readTime)),t}function _C(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Wg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,l){return{name:Rf(o,l.key),fields:l.data.value.mapValue.fields,updateTime:Cc(o,l.version.toTimestamp()),createTime:Cc(o,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Dl(e.version)};else{if(!e.isUnknownDocument())return we();r.unknownDocument={path:t.path.toArray(),version:Dl(e.version)}}return r}function Wg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(n){const e=new It(n.seconds,n.nanoseconds);return Ce.fromTimestamp(e)}function hl(n,e){const t=(e.baseMutations||[]).map(o=>tb(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>tb(n.Tt,o)),i=It.fromMillis(e.localWriteTimeMs);return new Ow(e.batchId,i,t,r)}function zd(n){const e=Nl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Nl(n.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ae(o.documents.length===1),ar(Wc(GD(o.documents[0])))}(n.query):function(o){return ar(XD(o))}(n.query),new js(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$t.fromBase64String(n.resumeToken))}function nN(n,e){const t=Dl(e.snapshotVersion),r=Dl(e.lastLimboFreeSnapshotVersion);let i;i=$g(e.target)?YD(n.Tt,e.target):QD(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Vw(n){const e=XD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kg(e,e.limit,"L"):e}function J0(n,e){return new Dw(e.largestBatchId,tb(n.Tt,e.overlayMutation))}function vC(n,e){const t=e.path.lastSegment();return[n,Yn(e.path.popLast()),t]}function EC(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Dl(r.readTime),documentKey:Yn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{getBundleMetadata(e,t){return bC(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Nl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return bC(e).put(function(i){return{bundleId:i.id,createTime:Dl(Xt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return wC(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Vw(o.bundledQuery),readTime:Nl(o.readTime)}}(r)})}saveNamedQuery(e,t){return wC(e).put(function(i){return{name:i.name,readTime:Dl(Xt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function bC(n){return yn(n,qy)}function wC(n){return yn(n,Hy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new Xy(e,r)}getOverlay(e,t){return Rd(e).get(vC(this.userId,t)).next(r=>r?J0(this.serializer,r):null)}getOverlays(e,t){const r=Xi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,l)=>{const c=new Dw(t,l);i.push(this.Et(e,c))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Yn(l.getCollectionPath())));const o=[];return i.forEach(l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(Rd(e).J(qE,c))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Xi(),o=Yn(t),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Rd(e).G(qE,l).next(c=>{for(const d of c){const f=J0(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Xi();let l;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Rd(e).Z({index:nD,range:c},(d,f,g)=>{const _=J0(this.serializer,f);o.size()<i||_.largestBatchId===l?(o.set(_.getKey(),_),l=_.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return Rd(e).put(function(i,o,l){const[c,d,f]=vC(o,l.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:If(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function Rd(n){return yn(n,$y)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{dt(e){return yn(e,ww)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?$t.fromUint8Array(r):$t.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(St(e.integerValue));else if("doubleValue"in e){const r=St(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),_f(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Ys(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Qs(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?fD(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Wy(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):we()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const l=Tc,c=((i=(r=o[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(St(c)),this.wt(l,t),this.Rt(o[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}}dl.xt=new dl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=255;function z7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function TC(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const l=z7(255&r[o]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class q7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=TC(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=TC(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(qu),this.jt(255)}Ht(){this.Jt(qu),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===qu?(this.jt(qu),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===qu?(this.Jt(qu),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class H7{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class $7{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Id{constructor(){this.Zt=new q7,this.Xt=new H7(this.Zt),this.en=new $7(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fl(this.indexId,this.documentKey,this.arrayValue,r)}}function qa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=SC(n.arrayValue,e.arrayValue),t!==0?t:(t=SC(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function SC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.rn=new lt((t,r)=>At.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=FE(e);if(t!==void 0&&!this.cn(t))return!1;const r=ll(e);let i=new Set,o=0,l=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const c=this.rn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[o];if(!this.ln(c,d)||!this.hn(this.sn[l++],d))return!1}++o}for(;o<r.length;++o){const c=r[o];if(l>=this.sn.length||!this.hn(this.sn[l++],c))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(At.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new cg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new cg(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new cg(r.field,r.dir==="asc"?0:1)));return new Bg(Bg.UNKNOWN_ID,this.collectionId,t,yf.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){var e,t;if(Ae(n instanceof He||n instanceof ot),n instanceof He){if(n instanceof wD){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>He.create(n.field,"==",o)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>rN(i));return ot.create(r,n.op)}function G7(n){if(n.getFilters().length===0)return[];const e=ib(rN(n));return Ae(iN(e)),nb(e)||rb(e)?[e]:e.getFilters()}function nb(n){return n instanceof He}function rb(n){return n instanceof ot&&Rw(n)}function iN(n){return nb(n)||rb(n)||function(t){if(t instanceof ot&&WE(t)){for(const r of t.getFilters())if(!nb(r)&&!rb(r))return!1;return!0}return!1}(n)}function ib(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;if(n.filters.length===1)return ib(n.filters[0]);const e=n.filters.map(r=>ib(r));let t=ot.create(e,n.op);return t=Yg(t),iN(t)?t:(Ae(t instanceof ot),Ae(Ac(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>Lw(r,i)))}function Lw(n,e){let t;return Ae(n instanceof He||n instanceof ot),Ae(e instanceof He||e instanceof ot),t=n instanceof He?e instanceof He?function(i,o){return ot.create([i,o],"and")}(n,e):RC(n,e):e instanceof He?RC(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0),Ac(i)&&Ac(o))return vD(i,o.getFilters());const l=WE(i)?i:o,c=WE(i)?o:i,d=l.filters.map(f=>Lw(f,c));return ot.create(d,"or")}(n,e),Yg(t)}function RC(n,e){if(Ac(e))return vD(e,n.getFilters());{const t=e.filters.map(r=>Lw(n,r));return ot.create(t,"or")}}function Yg(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return Yg(e[0]);if(yD(n))return n;const t=e.map(i=>Yg(i)),r=[];return t.forEach(i=>{i instanceof He?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.Tn=new Uw}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Lr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Uw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="IndexedDbIndexManager",Fm=new Uint8Array(0);class W7{constructor(e,t){this.databaseId=t,this.In=new Uw,this.En=new ra(r=>Pl(r),(r,i)=>Xf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:Yn(i)};return CC(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Hk(t),""],!1,!0);return CC(e).G(i).next(o=>{for(const l of o){if(l.collectionId!==t)break;r.push(Qi(l.parent))}return r})}addFieldIndex(e,t){const r=Cd(e),i=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const l=$u(e);return o.next(c=>{l.put(EC(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Cd(e),i=$u(e),o=Hu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Cd(e),r=Hu(e),i=$u(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return X.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new AC(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Hu(e);let i=!0;const o=new Map;return X.forEach(this.dn(t),l=>this.An(e,l).next(c=>{i&&(i=!!c),o.set(l,c)})).next(()=>{if(i){let l=Ve();const c=[];return X.forEach(o,(d,f)=>{pe(IC,`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`}(d)} to execute ${Pl(t)}`);const g=function(B,H){const j=FE(H);if(j===void 0)return null;for(const $ of Gg(B,j.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null}(f,d),_=function(B,H){const j=new Map;for(const $ of ll(H))for(const M of Gg(B,$.fieldPath))switch(M.op){case"==":case"in":j.set($.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return j.set($.fieldPath.canonicalString(),M.value),Array.from(j.values())}return null}(f,d),v=function(B,H){const j=[];let $=!0;for(const M of ll(H)){const x=M.kind===0?aC(B,M.fieldPath,B.startAt):oC(B,M.fieldPath,B.startAt);j.push(x.value),$&&($=x.inclusive)}return new po(j,$)}(f,d),T=function(B,H){const j=[];let $=!0;for(const M of ll(H)){const x=M.kind===0?oC(B,M.fieldPath,B.endAt):aC(B,M.fieldPath,B.endAt);j.push(x.value),$&&($=x.inclusive)}return new po(j,$)}(f,d),w=this.Rn(d,f,v),R=this.Rn(d,f,T),C=this.Vn(d,f,_),U=this.mn(d.indexId,g,w,v.inclusive,R,T.inclusive,C);return X.forEach(U,L=>r.H(L,t.limit).next(B=>{B.forEach(H=>{const j=_e.fromSegments(H.documentKey);l.has(j)||(l=l.add(j),c.push(j))})}))}).next(()=>c)}return X.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=G7(ot.create(e.filters,"and")).map(r=>QE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,l,c){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.fn(t[_/f]):Fm,T=this.gn(e,v,r[_%f],i),w=this.pn(e,v,o[_%f],l),R=c.map(C=>this.gn(e,v,C,!0));g.push(...this.createRange(T,w,R))}return g}gn(e,t,r,i){const o=new fl(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new fl(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new AC(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let l=null;for(const c of o)r.un(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return X.forEach(i,o=>this.An(e,o).next(l=>{l?r!==0&&l.fields.length<function(d){let f=new lt(At.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Id;for(const i of ll(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const l=r.tn(i.kind);dl.xt.At(o,l)}return r.Yt()}fn(e){const t=new Id;return dl.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Id;return dl.xt.At(xl(this.databaseId,t),r.tn(function(o){const l=ll(o);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Id);let o=0;for(const l of ll(e)){const c=r[o++];for(const d of i)if(this.Sn(t,l.fieldPath)&&Sf(c))i=this.bn(i,l,c);else{const f=d.tn(l.kind);dl.xt.At(c,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}bn(e,t,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new Id;d.seed(c.Yt()),dl.xt.At(l,d.tn(t.kind)),o.push(d)}return o}Sn(e,t){return!!e.filters.find(r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Cd(e),i=$u(e);return(t?r.G(zE,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const l=[];return X.forEach(o,c=>i.get([c.indexId,this.uid]).next(d=>{l.push(function(g,_){const v=_?new yf(_.sequenceNumber,new Lr(Nl(_.readTime),new _e(Qi(_.documentKey)),_.largestBatchId)):yf.empty(),T=g.fields.map(([w,R])=>new cg(At.fromServerFormat(w),R));return new Bg(g.indexId,g.collectionGroup,T,v)}(c,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Cd(e),o=$u(e);return this.vn(e).next(l=>i.G(zE,IDBKeyRange.bound(t,t)).next(c=>X.forEach(c,d=>o.put(EC(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const l=r.get(i.collectionGroup);return(l?X.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(c=>(r.set(i.collectionGroup,c),X.forEach(c,d=>this.Cn(e,i,d).next(f=>{const g=this.Fn(o,d);return f.isEqual(g)?X.resolve():this.Mn(e,o,d,f,g)}))))})}xn(e,t,r,i){return Hu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return Hu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=Hu(e);let o=new lt(qa);return i.Z({index:tD,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,c)=>{o=o.add(new fl(r.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>o)}Fn(e,t){let r=new lt(qa);const i=this.yn(t,e);if(i==null)return r;const o=FE(t);if(o!=null){const l=e.data.field(o.fieldPath);if(Sf(l))for(const c of l.arrayValue.values||[])r=r.add(new fl(t.indexId,e.key,this.fn(c),i))}else r=r.add(new fl(t.indexId,e.key,Fm,i));return r}Mn(e,t,r,i,o){pe(IC,"Updating index entries for document '%s'",t.key);const l=[];return function(d,f,g,_,v){const T=d.getIterator(),w=f.getIterator();let R=zu(T),C=zu(w);for(;R||C;){let U=!1,L=!1;if(R&&C){const B=g(R,C);B<0?L=!0:B>0&&(U=!0)}else R!=null?L=!0:U=!0;U?(_(C),C=zu(w)):L?(v(R),R=zu(T)):(R=zu(T),C=zu(w))}}(i,o,qa,c=>{l.push(this.xn(e,t,r,c))},c=>{l.push(this.On(e,t,r,c))}),X.waitFor(l)}vn(e){let t=1;return $u(e).Z({index:eD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,c)=>qa(l,c)).filter((l,c,d)=>!c||qa(l,d[c-1])!==0);const i=[];i.push(e);for(const l of r){const c=qa(l,e),d=qa(l,t);if(c===0)i[0]=e.nn();else if(c>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const c=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Fm,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Fm,[]];o.push(IDBKeyRange.bound(c,d))}return o}Nn(e,t){return qa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xC)}getMinOffset(e,t){return X.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||we())).next(xC)}}function CC(n){return yn(n,bf)}function Hu(n){return yn(n,Hg)}function Cd(n){return yn(n,bw)}function $u(n){return yn(n,qg)}function xC(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_w(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Lr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sN=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n,e,t){const r=n.store(gi),i=n.store(vc),o=[],l=IDBKeyRange.only(t.batchId);let c=0;const d=r.Z({range:l},(g,_,v)=>(c++,v.delete()));o.push(d.next(()=>{Ae(c===1)}));const f=[];for(const g of t.mutations){const _=Xk(e,g.key.path,t.batchId);o.push(i.delete(_)),f.push(g.key)}return X.waitFor(o).next(()=>f)}function Qg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(sN,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);class Zy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Zy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).Z({index:yl,range:r},(i,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Zu(e),l=Ha(e);return l.add({}).next(c=>{Ae(typeof c=="number");const d=new Ow(c,t,r,i),f=function(T,w,R){const C=R.baseMutations.map(L=>If(T.Tt,L)),U=R.mutations.map(L=>If(T.Tt,L));return{userId:w,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:C,mutations:U}}(this.serializer,this.userId,d),g=[];let _=new lt((v,T)=>De(v.canonicalString(),T.canonicalString()));for(const v of i){const T=Xk(this.userId,v.key.path,c);_=_.add(v.key.path.popLast()),g.push(l.put(f)),g.push(o.put(T,C8))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[c]=d.keys()}),X.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Ha(e).get(t).next(r=>r?(Ae(r.userId===this.userId),hl(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?X.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ha(e).Z({index:yl,range:i},(l,c,d)=>{c.userId===this.userId&&(Ae(c.batchId>=r),o=hl(this.serializer,c)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=to;return Ha(e).Z({index:yl,range:t,reverse:!0},(i,o,l)=>{r=o.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,to],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).G(yl,t).next(r=>r.map(i=>hl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=hg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Zu(e).Z({range:i},(l,c,d)=>{const[f,g,_]=l,v=Qi(g);if(f===this.userId&&t.path.isEqual(v))return Ha(e).get(_).next(T=>{if(!T)throw we();Ae(T.userId===this.userId),o.push(hl(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(De);const i=[];return t.forEach(o=>{const l=hg(this.userId,o.path),c=IDBKeyRange.lowerBound(l),d=Zu(e).Z({range:c},(f,g,_)=>{const[v,T,w]=f,R=Qi(T);v===this.userId&&o.path.isEqual(R)?r=r.add(w):_.done()});i.push(d)}),X.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=hg(this.userId,r),l=IDBKeyRange.lowerBound(o);let c=new lt(De);return Zu(e).Z({range:l},(d,f,g)=>{const[_,v,T]=d,w=Qi(v);_===this.userId&&r.isPrefixOf(w)?w.length===i&&(c=c.add(T)):g.done()}).next(()=>this.kn(e,c))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ha(e).get(o).next(l=>{if(l===null)throw we();Ae(l.userId===this.userId),r.push(hl(this.serializer,l))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return aN(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Zu(e).Z({range:r},(o,l,c)=>{if(o[0]===this.userId){const d=Qi(o[1]);i.push(d)}else c.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return oN(e,this.userId,t)}Qn(e){return lN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:to,lastStreamToken:""})}}function oN(n,e,t){const r=hg(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return Zu(n).Z({range:o,Y:!0},(c,d,f)=>{const[g,_,v]=c;g===e&&_===i&&(l=!0),f.done()}).next(()=>l)}function Ha(n){return yn(n,gi)}function Zu(n){return yn(n,vc)}function lN(n){return yn(n,vf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ml(0)}static Un(){return new Ml(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new Ml(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Ce.fromTimestamp(new It(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Gu(e).Z((l,c)=>{const d=zd(c);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Gu(e).Z((r,i)=>{const o=zd(i);t(o)})}Wn(e){return OC(e).get(zg).next(t=>(Ae(t!==null),t))}Gn(e,t){return OC(e).put(zg,t)}zn(e,t){return Gu(e).put(nN(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Gu(e).Z({range:i,index:Jk},(l,c,d)=>{const f=zd(c);Xf(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Wa(e);return t.forEach(l=>{const c=Yn(l.path);i.push(o.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Wa(e);return X.forEach(t,o=>{const l=Yn(o.path);return X.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Wa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Wa(e);let o=Ve();return i.Z({range:r,Y:!0},(l,c,d)=>{const f=Qi(l[1]),g=new _e(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Yn(t.path),i=IDBKeyRange.bound([r],[Hk(r)],!1,!0);let o=0;return Wa(e).Z({index:Ew,Y:!0,range:i},([l,c],d,f)=>{l!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Gu(e).get(t).next(r=>r?zd(r):null)}}function Gu(n){return yn(n,Ec)}function OC(n){return yn(n,Tl)}function Wa(n){return yn(n,bc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="LruGarbageCollector",Q7=1048576;function DC([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class X7{constructor(e){this.Hn=e,this.buffer=new lt(DC),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();DC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(kC,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){To(t)?pe(kC,"Ignoring IndexedDB error during garbage collection: ",t):await wo(t)}await this.er(3e5)})}}class Z7{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(pr.ae);const r=new X7(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(PC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PC):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,c,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Wu()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function cN(n,e){return new Z7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,t){this.db=e,this.garbageCollector=cN(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return jm(e,r)}removeReference(e,t,r){return jm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jm(e,t)}ar(e,t){return function(i,o){let l=!1;return lN(i).X(c=>oN(i,c,o).next(d=>(d&&(l=!0),X.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(l,c)=>{if(c<=t){const d=this.ar(e,l).next(f=>{if(!f)return o++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Ce.min()),Wa(e).delete(function(_){return[0,Yn(_.path)]}(l))))});i.push(d)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jm(e,t)}_r(e,t){const r=Wa(e);let i,o=pr.ae;return r.Z({index:Ew},([l,c],{path:d,sequenceNumber:f})=>{l===0?(o!==pr.ae&&t(new _e(Qi(i)),o),o=f,i=d):o=pr.ae}).next(()=>{o!==pr.ae&&t(new _e(Qi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jm(n,e){return Wa(n).put(function(r,i){return{targetId:0,path:Yn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sl(e).put(r)}removeEntry(e,t,r){return sl(e).delete(function(o,l){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Wg(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return sl(e).Z({index:dg,range:IDBKeyRange.only(xd(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return sl(e).Z({index:dg,range:IDBKeyRange.only(xd(t))},(i,o)=>{r={document:this.cr(t,o),size:Qg(o)}}).next(()=>r)}getEntries(e,t){let r=gr();return this.hr(e,t,(i,o)=>{const l=this.cr(i,o);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=gr(),i=new yt(_e.comparator);return this.hr(e,t,(o,l)=>{const c=this.cr(o,l);r=r.insert(o,c),i=i.insert(o,Qg(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return X.resolve();let i=new lt(VC);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(xd(i.first()),xd(i.last())),l=i.getIterator();let c=l.getNext();return sl(e).Z({index:dg,range:o},(d,f,g)=>{const _=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&VC(c,_)<0;)r(c,null),c=l.getNext();c&&c.isEqual(_)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?g.W(xd(c)):g.done()}).next(()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),Wg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sl(e).G(IDBKeyRange.bound(c,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=gr();for(const _ of f){const v=this.cr(_e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Jf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=gr();const l=MC(t,r),c=MC(t,Lr.max());return sl(e).Z({index:Zk,range:IDBKeyRange.bound(l,c,!0)},(d,f,g)=>{const _=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new t$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return NC(e).get(jE).next(t=>(Ae(!!t),t))}ur(e,t){return NC(e).put(jE,t)}cr(e,t){if(t){const r=B7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return vt.newInvalidDocument(e)}}function dN(n){return new e$(n)}class t$ extends hN{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new ra(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((o,l)=>De(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const c=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,c.readTime)),l.isValidDocument()){const d=_C(this.Ir.serializer,l);i=i.add(o.path.popLast());const f=Qg(d);r+=f-c.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=c.size,this.trackRemovals){const d=_C(this.Ir.serializer,l.convertToNoDocument(Ce.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,l)=>{this.Er.set(o,{size:l,readTime:r.get(o).readTime})}),r))}}function NC(n){return yn(n,Ef)}function sl(n){return yn(n,jg)}function xd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MC(n,e){const t=e.documentKey.path.toArray();return[n,Wg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function VC(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ef(r.mutation,i,mr.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Fd();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=gr();const l=Jd(),c=function(){return Jd()}();return t.forEach((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof ia)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),ef(g.mutation,f,g.mutation.getFieldMask(),It.now())):l.set(f.key,mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>l.set(f,g)),t.forEach((f,g)=>{var _;return c.set(f,new n$(g,(_=l.get(f))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Jd();let i=new yt((l,c)=>l-c),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||mr.empty();g=c.applyToLocalView(f,g),r.set(d,g);const _=(i.get(c.batchId)||Ve()).add(d);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,g=d.value,_=xD();g.forEach(v=>{if(!o.has(v)){const T=VD(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(Xi());let c=_c,d=o;return l.next(f=>X.forEach(f,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Ve())).next(g=>({batchId:c,changes:CD(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Fd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Fd();return this.indexManager.getCollectionParents(e,o).next(c=>X.forEach(c,d=>{const f=function(_,v){return new na(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,v)=>{l=l.insert(_,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,vt.newInvalidDocument(g)))});let c=Fd();return l.forEach((d,f)=>{const g=o.get(d);g!==void 0&&ef(g.mutation,f,mr.empty(),It.now()),Jf(t,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Vw(i.bundledQuery),readTime:Xt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.overlays=new yt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Xi(),o=t.length+1,l=new _e(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Xi(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=Xi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>c.set(f,g)),!(c.size()>=i)););return X.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Dw(t,r));let o=this.Rr.get(t);o===void 0&&(o=Ve(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Vr=new lt(An.mr),this.gr=new lt(An.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new An(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new An(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new qe([])),r=new An(t,e),i=new An(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new qe([])),r=new An(t,e),i=new An(t,e+1);let o=Ve();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new An(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||De(e.Cr,t.Cr)}static pr(e,t){return De(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(An.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Ow(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new An(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?to:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new An(t,0),i=new An(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);o.push(c)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(De);return t.forEach(i=>{const o=new An(i,0),l=new An(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),X.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new An(new _e(o),0);let c=new lt(De);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Cr)),!0)},l),X.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return X.forEach(t.mutations,i=>{const o=new An(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new An(t,0),i=this.Mr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.kr=e,this.docs=function(){return new yt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=gr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gr();const l=t.path,c=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||_w(Gk(g),r)<=0||(i.has(g.key)||Jf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we()}qr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new l$(this)}getSize(e){return X.resolve(this.size)}}class l$ extends hN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.persistence=e,this.Qr=new ra(t=>Pl(t),Xf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Bw,this.targetCount=0,this.Ur=Ml.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new pr(0),this.zr=!1,this.zr=!0,this.jr=new s$,this.referenceDelegate=e(this),this.Hr=new u$(this),this.indexManager=new K7,this.remoteDocumentCache=function(i){return new o$(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new tN(t),this.Yr=new r$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new a$(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new c$(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return X.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class c$ extends Wk{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.ti=new Bw,this.ni=null}static ri(e){return new Jy(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Xg{constructor(e,t){this.persistence=e,this.oi=new ra(r=>Yn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cN(this,t)}static ri(e,t){return new Xg(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,o.removeEntry(l,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pg(e.data.value)),t}ar(e,t,r){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.serializer=e}B(e,t,r,i){const o=new zy("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Qf)}(e),function(d){d.createObjectStore(vf,{keyPath:I8}),d.createObjectStore(gi,{keyPath:W1,autoIncrement:!0}).createIndex(yl,Y1,{unique:!0}),d.createObjectStore(vc)}(e),LC(e),function(d){d.createObjectStore(ul)}(e));let l=X.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(bc),d.deleteObjectStore(Ec),d.deleteObjectStore(Tl)}(e),LC(e)),l=l.next(()=>function(d){const f=d.store(Tl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return f.put(zg,g)}(o))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,f){return f.store(gi).G().next(_=>{d.deleteObjectStore(gi),d.createObjectStore(gi,{keyPath:W1,autoIncrement:!0}).createIndex(yl,Y1,{unique:!0});const v=f.store(gi),T=_.map(w=>v.put(w));return X.waitFor(T)})}(e,o))),l=l.next(()=>{(function(d){d.createObjectStore(wc,{keyPath:V8})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(o))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(Ef)}(e),this.ai(o)))),r<7&&i>=7&&(l=l.next(()=>this.ui(o))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,o))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(o))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(qy,{keyPath:L8})})(e),function(d){d.createObjectStore(Hy,{keyPath:U8})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const f=d.createObjectStore($y,{keyPath:$8});f.createIndex(qE,G8,{unique:!1}),f.createIndex(nD,K8,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore(jg,{keyPath:x8});f.createIndex(dg,P8),f.createIndex(Zk,O8)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(ul))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,o))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(bw,{keyPath:B8,autoIncrement:!0}).createIndex(zE,F8,{unique:!1}),d.createObjectStore(qg,{keyPath:j8}).createIndex(eD,z8,{unique:!1}),d.createObjectStore(Hg,{keyPath:q8}).createIndex(tD,H8,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(qg).clear()}).next(()=>{t.objectStore(Hg).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(ww,{keyPath:W8})})(e)})),l}ai(e){let t=0;return e.store(ul).Z((r,i)=>{t+=Qg(i)}).next(()=>{const r={byteSize:t};return e.store(Ef).put(jE,r)})}_i(e){const t=e.store(vf),r=e.store(gi);return t.G().next(i=>X.forEach(i,o=>{const l=IDBKeyRange.bound([o.userId,to],[o.userId,o.lastAcknowledgedBatchId]);return r.G(yl,l).next(c=>X.forEach(c,d=>{Ae(d.userId===o.userId);const f=hl(this.serializer,d);return aN(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(bc),r=e.store(ul);return e.store(Tl).get(zg).next(i=>{const o=[];return r.Z((l,c)=>{const d=new qe(l),f=function(_){return[0,Yn(_)]}(d);o.push(t.get(f).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:Yn(_),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>X.waitFor(o))})}ci(e,t){e.createObjectStore(bf,{keyPath:M8});const r=t.store(bf),i=new Uw,o=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:Yn(d)})}};return t.store(ul).Z({Y:!0},(l,c)=>{const d=new qe(l);return o(d.popLast())}).next(()=>t.store(vc).Z({Y:!0},([l,c,d],f)=>{const g=Qi(c);return o(g.popLast())}))}li(e){const t=e.store(Ec);return t.Z((r,i)=>{const o=zd(i),l=nN(this.serializer,o);return t.put(l)})}hi(e,t){const r=t.store(ul),i=[];return r.Z((o,l)=>{const c=t.store(jg),d=function(_){return _.document?new _e(qe.fromString(_.document.name).popFirst(5)):_.noDocument?_e.fromSegments(_.noDocument.path):_.unknownDocument?_e.fromSegments(_.unknownDocument.path):we()}(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))}).next(()=>X.waitFor(i))}Pi(e,t){const r=t.store(gi),i=dN(this.serializer),o=new Fw(Jy.ri,this.serializer.Tt);return r.G().next(l=>{const c=new Map;return l.forEach(d=>{var f;let g=(f=c.get(d.userId))!==null&&f!==void 0?f:Ve();hl(this.serializer,d).keys().forEach(_=>g=g.add(_)),c.set(d.userId,g)}),X.forEach(c,(d,f)=>{const g=new Rn(f),_=Xy.It(this.serializer,g),v=o.getIndexManager(g),T=Zy.It(g,this.serializer,v,o.referenceDelegate);return new fN(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new HE(t,pr.ae),d).next()})})}}function LC(n){n.createObjectStore(bc,{keyPath:D8}).createIndex(Ew,N8,{unique:!0}),n.createObjectStore(Ec,{keyPath:"targetId"}).createIndex(Jk,k8,{unique:!0}),n.createObjectStore(Tl)}const $a="IndexedDbPersistence",eE=18e5,tE=5e3,nE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pN="main";class jw{constructor(e,t,r,i,o,l,c,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=l,this.document=c,this.Ii=f,this.Ei=g,this.di=_,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!jw.D())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new J7(this,i),this.gi=t+pN,this.serializer=new tN(d),this.pi=new Ji(this.gi,this.di,new h$(this.serializer)),this.jr=new j7,this.Hr=new Y7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dN(this.serializer),this.Yr=new F7,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Qt($a,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,nE);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new pr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(To(e))return pe($a,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe($a,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Pd(e).get(ju).next(t=>X.resolve(this.Ni(t)))}Bi(e){return zm(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,eE)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=yn(t,wc);return r.G().next(i=>{const o=this.qi(i,eE),l=i.filter(c=>o.indexOf(c)===-1);return X.forEach(l,c=>r.delete(c.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?X.resolve(!0):Pd(e).get(ju).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,tE)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,nE);return!1}}return!(!this.networkEnabled||!this.inForeground)||zm(e).G().next(r=>this.qi(r,tE).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(o||l&&c)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe($a,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Qf,wc],e=>{const t=new HE(e,pr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>zm(e).G().next(t=>this.qi(t,eE).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Zy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new W7(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Xy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe($a,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?X8:d===16?Q8:d===15?Tw:d===14?sD:d===13?iD:d===12?Y8:d===11?rD:void we()}(this.di);let l;return this.pi.runTransaction(e,i,o,c=>(l=new HE(c,this.Gr?this.Gr.next():pr.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw Qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new de(ne.FAILED_PRECONDITION,Kk);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(c=>(l.raiseOnCommittedEvent(),c))}ji(e){return Pd(e).get(ju).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,tE)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,nE)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pd(e).put(ju,t)}static D(){return Ji.D()}xi(e){const t=Pd(e);return t.get(ju).next(r=>this.Ni(r)?(pe($a,"Releasing primary lease."),t.delete(ju)):X.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Qt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;_O()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return pe($a,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qt($a,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Qt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pd(n){return yn(n,Qf)}function zm(n){return yn(n,wc)}function zw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new qw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _O()?8:Yk(Vt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new d$;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Wu()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Yu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Wu()<=je.DEBUG&&pe("QueryEngine","Query:",Yu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Wu()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Yu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):X.resolve())}rs(e,t){if(lC(t))return X.resolve(null);let r=ar(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Kg(t,null,"F"),r=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ve(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,c);return this.ls(t,f,l,d.readTime)?this.rs(e,Kg(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return lC(t)||i.isEqual(Ce.min())?X.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?X.resolve(null):(Wu()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yu(t)),this.hs(e,l,t,$k(i,_c)).next(c=>c))})}cs(e,t){let r=new lt(RD(e));return t.forEach((i,o)=>{Jf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Wu()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Yu(t)),this.ns.getDocumentsMatchingQuery(e,t,Lr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="LocalStore",f$=3e8;class p${constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new yt(De),this.Is=new ra(o=>Pl(o),Xf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function gN(n,e,t,r){return new p$(n,e,t,r)}async function yN(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=Ve();for(const f of i){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){c.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function m$(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,f,g){const _=f.batch,v=_.keys();let T=X.resolve();return v.forEach(w=>{T=T.next(()=>g.getEntry(d,w)).next(R=>{const C=f.docVersions.get(w);Ae(C!==null),R.version.compareTo(C)<0&&(_.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),g.addEntry(R)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ve();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _N(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function g$(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken($t.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(R,C,U){return R.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=f$?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,T,g)&&c.push(t.Hr.updateTargetData(o,T))});let d=gr(),f=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(vN(o,l,e.documentUpdates).next(g=>{d=g.Vs,f=g.fs})),!r.isEqual(Ce.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return X.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function vN(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=gr();return t.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):pe(Hw,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function y$(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=to),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new js(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Pc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!To(l))throw l;pe(Hw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Zg(n,e,t){const r=Ee(n);let i=Ce.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,g){const _=Ee(d),v=_.Is.get(g);return v!==void 0?X.resolve(_.Ts.get(v)):_.Hr.getTargetData(f,g)}(r,l,ar(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Ce.min(),t?o:Ve())).next(c=>(wN(r,AD(e),c),{documents:c,gs:o})))}function EN(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(l=>l?l.target:null))}function bN(n,e){const t=Ee(n),r=t.Es.get(e)||Ce.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,$k(r,_c),Number.MAX_SAFE_INTEGER)).then(i=>(wN(t,e,i),i))}function wN(n,e,t){let r=n.Es.get(e)||Ce.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function _$(n,e,t,r){const i=Ee(n);let o=Ve(),l=gr();for(const f of t){const g=e.ps(f.metadata.name);f.document&&(o=o.add(g));const _=e.ys(f);_.setReadTime(e.ws(f.metadata.readTime)),l=l.insert(g,_)}const c=i.ds.newChangeBuffer({trackRemovals:!0}),d=await xc(i,function(g){return ar(Wc(qe.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>vN(f,c,l).next(g=>(c.apply(f),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,g.Vs,g.fs)).next(()=>g.Vs)))}async function v$(n,e,t=Ve()){const r=await xc(n,ar(Vw(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const l=Xt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(o,e);const c=r.withResumeToken($t.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(c.targetId,c),i.Hr.updateTargetData(o,c).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="firestore_clients";function UC(n,e){return`${TN}_${n}_${e}`}const SN="firestore_mutations";function BC(n,e,t){let r=`${SN}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const AN="firestore_targets";function rE(n,e){return`${AN}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="SharedClientState";class Jg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ss(e,t,r){const i=JSON.parse(r);let o,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(o=new de(i.error.code,i.error.message))),l?new Jg(e,t,i.state,o):(Qt(zi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ss(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new de(r.error.code,r.error.message))),o?new tf(e,r.state,i):(Qt(zi,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ey{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Cw();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=Qk(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new ey(e,o):(Qt(zi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class $w{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new $w(t.clientId,t.onlineState):(Qt(zi,`Failed to parse online state: ${e}`),null)}}class sb{constructor(){this.activeTargetIds=Cw()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iE{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new yt(De),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=UC(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new sb),this.Ls=new RegExp(`^${TN}_${l}_([^_]*)$`),this.ks=new RegExp(`^${SN}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${AN}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(UC(this.persistenceKey,r));if(i){const o=ey.Ss(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(rE(this.persistenceKey,e));if(i){const o=tf.Ss(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rE(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(zi,"READ",e,t),t}setItem(e,t){pe(zi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(zi,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(pe(zi,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let l=pr.ae;if(o!=null)try{const c=JSON.parse(o);Ae(typeof c=="number"),l=c}catch(c){Qt(zi,"Failed to read sequence number from WebStorage",c)}return l}(t.newValue);r!==pr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,r){const i=new Jg(this.currentUser,e,t,r),o=BC(this.persistenceKey,this.currentUser,e);this.setItem(o,i.bs())}js(e){const t=BC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=rE(this.persistenceKey,e),o=new tf(e,t,r);this.setItem(i,o.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return ey.Ss(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Jg.Ss(new Rn(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return tf.Ss(i,t)}Us(e){return $w.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);pe(zi,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),l=[],c=[];return o.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{o.has(d)||c.push(d)}),this.syncEngine.lo(l,c).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Cw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class RN{constructor(){this.ho=new sb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="ConnectivityMonitor";class jC{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(FC,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(FC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm=null;function ab(){return qm===null?qm=function(){return 268435456+Math.round(2147483648*Math.random())}():qm++,"0x"+qm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="RestConnection",b$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w${get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===$E?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const l=ab(),c=this.bo(e,t.toUriEncodedString());pe(sE,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,c,d,r).then(f=>(pe(sE,`Received RPC '${e}' ${l}: `,f),f),f=>{throw is(sE,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",r),f})}Co(e,t,r,i,o,l){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=b$[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class S$ extends w${constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=ab();return new Promise((l,c)=>{const d=new Lk;d.setWithCredentials(!0),d.listenOnce(Uk.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ug.NO_ERROR:const g=d.getResponseJson();pe(zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case ug.TIMEOUT:pe(zn,`RPC '${e}' ${o} timed out`),c(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const _=d.getStatus();if(pe(zn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const w=function(C){const U=C.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(U)>=0?U:ne.UNKNOWN}(T.status);c(new de(w,T.message))}else c(new de(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new de(ne.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{pe(zn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);pe(zn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=ab(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=jk(),c=Fk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(zn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=l.createWebChannel(g,d);let v=!1,T=!1;const w=new T$({Fo:C=>{T?pe(zn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(v||(pe(zn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(zn,`RPC '${e}' stream ${i} sending:`,C),_.send(C))},Mo:()=>_.close()}),R=(C,U,L)=>{C.listen(U,B=>{try{L(B)}catch(H){setTimeout(()=>{throw H},0)}})};return R(_,Bd.EventType.OPEN,()=>{T||(pe(zn,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),R(_,Bd.EventType.CLOSE,()=>{T||(T=!0,pe(zn,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),R(_,Bd.EventType.ERROR,C=>{T||(T=!0,is(zn,`RPC '${e}' stream ${i} transport errored:`,C),w.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),R(_,Bd.EventType.MESSAGE,C=>{var U;if(!T){const L=C.data[0];Ae(!!L);const B=L,H=(B==null?void 0:B.error)||((U=B[0])===null||U===void 0?void 0:U.error);if(H){pe(zn,`RPC '${e}' stream ${i} received error:`,H);const j=H.status;let $=function(I){const b=sn[I];if(b!==void 0)return BD(b)}(j),M=H.message;$===void 0&&($=ne.INTERNAL,M="Unknown error status: "+j+" with message "+H.message),T=!0,w.Ko(new de($,M)),_.close()}else pe(zn,`RPC '${e}' stream ${i} received:`,L),w.Uo(L)}}),R(c,Bk.STAT_EVENT,C=>{C.stat===BE.PROXY?pe(zn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===BE.NOPROXY&&pe(zn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){return typeof window<"u"?window:null}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(n){return new x7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="PersistentStream";class CN{constructor(e,t,r,i,o,l,c,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Gw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Qt(t.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(zC,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(zC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A$ extends CN{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=k7(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?Xt(l.readTime):Ce.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=eb(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=$g(d)?{documents:YD(o,d)}:{query:QD(o,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=qD(o,l.resumeToken);const f=ZE(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ce.min())>0){c.readTime=Cc(o,l.snapshotVersion.toTimestamp());const f=ZE(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=N7(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=eb(this.serializer),t.removeTarget=e,this.I_(t)}}class R$ extends CN{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=D7(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=eb(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>If(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${}class C$ extends I${constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,JE(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,JE(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ne.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class x${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qt(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class P${constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ao(this)&&(pe(Vl,"Restarting streams for network reachability change."),await async function(d){const f=Ee(d);f.W_.add(4),await Xc(f),f.j_.set("Unknown"),f.W_.delete(4),await ip(f)}(this))})}),this.j_=new x$(r,i)}}async function ip(n){if(Ao(n))for(const e of n.G_)await e(!0)}async function Xc(n){for(const e of n.G_)await e(!1)}function e_(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Yw(t)?Ww(t):Jc(t).c_()&&Kw(t,e))}function Oc(n,e){const t=Ee(n),r=Jc(t);t.U_.delete(e),r.c_()&&xN(t,e),t.U_.size===0&&(r.c_()?r.P_():Ao(t)&&t.j_.set("Unknown"))}function Kw(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jc(n).y_(e)}function xN(n,e){n.H_.Ne(e),Jc(n).w_(e)}function Ww(n){n.H_=new A7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Jc(n).start(),n.j_.B_()}function Yw(n){return Ao(n)&&!Jc(n).u_()&&n.U_.size>0}function Ao(n){return Ee(n).W_.size===0}function PN(n){n.H_=void 0}async function O$(n){n.j_.set("Online")}async function k$(n){n.U_.forEach((e,t)=>{Kw(n,e)})}async function D$(n,e){PN(n),Yw(n)?(n.j_.q_(e),Ww(n)):n.j_.set("Unknown")}async function N$(n,e,t){if(n.j_.set("Online"),e instanceof zD&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){pe(Vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ty(n,r)}else if(e instanceof yg?n.H_.We(e):e instanceof jD?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const r=await _N(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),xN(o,d);const _=new js(g.target,d,f,g.sequenceNumber);Kw(o,_)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){pe(Vl,"Failed to raise snapshot:",r),await ty(n,r)}}async function ty(n,e,t){if(!To(e))throw e;n.W_.add(1),await Xc(n),n.j_.set("Offline"),t||(t=()=>_N(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Vl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ip(n)})}function ON(n,e){return e().catch(t=>ty(n,t,e))}async function Zc(n){const e=Ee(n),t=mo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:to;for(;M$(e);)try{const i=await y$(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,V$(e,i)}catch(i){await ty(e,i)}kN(e)&&DN(e)}function M$(n){return Ao(n)&&n.K_.length<10}function V$(n,e){n.K_.push(e);const t=mo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function kN(n){return Ao(n)&&!mo(n).u_()&&n.K_.length>0}function DN(n){mo(n).start()}async function L$(n){mo(n).C_()}async function U$(n){const e=mo(n);for(const t of n.K_)e.b_(t.mutations)}async function B$(n,e,t){const r=n.K_.shift(),i=kw.from(r,e,t);await ON(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Zc(n)}async function F$(n,e){e&&mo(n).S_&&await async function(r,i){if(function(l){return UD(l)&&l!==ne.ABORTED}(i.code)){const o=r.K_.shift();mo(r).h_(),await ON(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Zc(r)}}(n,e),kN(n)&&DN(n)}async function qC(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(Vl,"RemoteStore received new credentials");const r=Ao(t);t.W_.add(3),await Xc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ip(t)}async function ob(n,e){const t=Ee(n);e?(t.W_.delete(2),await ip(t)):e||(t.W_.add(2),await Xc(t),t.j_.set("Unknown"))}function Jc(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new A$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:O$.bind(null,n),No:k$.bind(null,n),Lo:D$.bind(null,n),p_:N$.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Yw(n)?Ww(n):n.j_.set("Unknown")):(await n.J_.stop(),PN(n))})),n.J_}function mo(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new R$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:L$.bind(null,n),Lo:F$.bind(null,n),D_:U$.bind(null,n),v_:B$.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Zc(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(Vl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new Qw(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eh(n,e){if(Qt("AsyncQueue",`${e}: ${n}`),To(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Fd(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.Z_=new yt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class kc{constructor(e,t,r,i,o,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new kc(e,t,oc.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class z${constructor(){this.queries=$C(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=$C(),o.forEach((l,c)=>{for(const d of c.ta)d.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function $C(){return new ra(n=>SD(n),Zf)}async function Xw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new j$,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=eh(l,`Initialization of query '${Yu(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Jw(t)}async function Zw(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function q$(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Jw(t)}function H$(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Jw(n){n.ia.forEach(e=>{e.next()})}var lb,GC;(GC=lb||(lb={}))._a="default",GC.Cache="cache";class eT{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lb.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.serializer=e}ps(e){return es(this.serializer,e)}ys(e){return e.metadata.exists?WD(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Xt(e)}}class G${constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NN(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=qe.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new KC(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const l of i.metadata.queries){const c=(t.get(l)||Ve()).add(o);t.set(l,c)}}return t}async complete(){const e=await _$(this.localStore,new KC(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await v$(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function NN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.key=e}}class VN{constructor(e){this.key=e}}class LN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=RD(e),this.wa=new oc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new HC,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Jf(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;v&&T?v.data.isEqual(T.data)?w!==R&&(r.track({type:3,doc:T}),C=!0):this.va(v,T)||(r.track({type:2,doc:T}),C=!0,(d&&this.ya(T,d)>0||f&&this.ya(T,f)<0)&&(c=!0)):!v&&T?(r.track({type:0,doc:T}),C=!0):v&&!T&&(r.track({type:1,doc:v}),C=!0,(d||f)&&(c=!0)),C&&(T?(l=l.add(T),o=R?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(T,w){const R=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return R(T)-R(w)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,l.length!==0||f?{snapshot:new kc(this.query,e.wa,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new HC,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new VN(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new MN(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return kc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ro="SyncEngine";class K${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class W${constructor(e){this.key=e,this.Ba=!1}}class Y${constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ra(c=>SD(c),Zf),this.qa=new Map,this.Qa=new Set,this.$a=new yt(_e.comparator),this.Ka=new Map,this.Ua=new Bw,this.Wa={},this.Ga=new Map,this.za=Ml.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Q$(n,e,t=!0){const r=t_(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await UN(r,e,t,!0),i}async function X$(n,e){const t=t_(n);await UN(t,e,!0,!1)}async function UN(n,e,t,r){const i=await xc(n.localStore,ar(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await tT(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&e_(n.remoteStore,i),c}async function tT(n,e,t,r,i){n.Ha=(_,v,T)=>async function(R,C,U,L){let B=C.view.ba(U);B.ls&&(B=await Zg(R.localStore,C.query,!1).then(({documents:M})=>C.view.ba(M,B)));const H=L&&L.targetChanges.get(C.targetId),j=L&&L.targetMismatches.get(C.targetId)!=null,$=C.view.applyChanges(B,R.isPrimaryClient,H,j);return ub(R,C.targetId,$.Ma),$.snapshot}(n,_,v,T);const o=await Zg(n.localStore,e,!0),l=new LN(e,o.gs),c=l.ba(o.documents),d=np.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,d);ub(n,t,f.Ma);const g=new K$(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function Z$(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Zf(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Oc(r.remoteStore,i.targetId),Dc(r,i.targetId)}).catch(wo)):(Dc(r,i.targetId),await Pc(r.localStore,i.targetId,!0))}async function J$(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Oc(t.remoteStore,r.targetId))}async function eG(n,e,t){const r=sT(n);try{const i=await function(l,c){const d=Ee(l),f=It.now(),g=c.reduce((T,w)=>T.add(w.key),Ve());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=gr(),R=Ve();return d.ds.getEntries(T,g).next(C=>{w=C,w.forEach((U,L)=>{L.isValidDocument()||(R=R.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,w)).next(C=>{_=C;const U=[];for(const L of c){const B=w7(L,_.get(L.key).overlayedDocument);B!=null&&U.push(new ia(L.key,B,mD(B.value.mapValue),Rt.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,U,c)}).next(C=>{v=C;const U=C.applyToLocalDocumentSet(_,R);return d.documentOverlayCache.saveOverlays(T,C.batchId,U)})}).then(()=>({batchId:v.batchId,changes:CD(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Wa[l.currentUser.toKey()];f||(f=new yt(De)),f=f.insert(c,d),l.Wa[l.currentUser.toKey()]=f}(r,i.batchId,t),await sa(r,i.changes),await Zc(r.remoteStore)}catch(i){const o=eh(i,"Failed to persist write");t.reject(o)}}async function BN(n,e){const t=Ee(n);try{const r=await g$(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Ae(l.Ba):i.removedDocuments.size>0&&(Ae(l.Ba),l.Ba=!1))}),await sa(t,r,e)}catch(r){await wo(r)}}function WC(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Ee(l);d.onlineState=c;let f=!1;d.queries.forEach((g,_)=>{for(const v of _.ta)v.sa(c)&&(f=!0)}),f&&Jw(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tG(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new yt(_e.comparator);l=l.insert(o,vt.newNoDocument(o,Ce.min()));const c=Ve().add(o),d=new tp(Ce.min(),new Map,new yt(De),l,c);await BN(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),iT(r)}else await Pc(r.localStore,e,!1).then(()=>Dc(r,e,t)).catch(wo)}async function nG(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await m$(t.localStore,e);rT(t,r,null),nT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await sa(t,i)}catch(i){await wo(i)}}async function rG(n,e,t){const r=Ee(n);try{const i=await function(l,c){const d=Ee(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,c).next(_=>(Ae(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);rT(r,e,t),nT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await sa(r,i)}catch(i){await wo(i)}}async function iG(n,e){const t=Ee(n);Ao(t.remoteStore)||pe(Ro,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const c=Ee(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===to)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=eh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function nT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function rT(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Dc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||FN(n,r)})}function FN(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Oc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),iT(n))}function ub(n,e,t){for(const r of t)r instanceof MN?(n.Ua.addReference(r.key,e),sG(n,r)):r instanceof VN?(pe(Ro,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||FN(n,r.key)):we()}function sG(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(Ro,"New document in limbo: "+t),n.Qa.add(r),iT(n))}function iT(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(qe.fromString(e)),r=n.za.next();n.Ka.set(r,new W$(t)),n.$a=n.$a.insert(t,r),e_(n.remoteStore,new js(ar(Wc(t.path)),r,"TargetPurposeLimboResolution",pr.ae))}}async function sa(n,e,t){const r=Ee(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,d)=>{l.push(r.Ha(d,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){i.push(f);const _=qw.Yi(d.targetId,f);o.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,v=>X.forEach(v.Hi,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.Ji,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!To(_))throw _;pe(Hw,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const T=g.Ts.get(v),w=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(w);g.Ts=g.Ts.insert(v,R)}}}(r.localStore,o))}async function aG(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(Ro,"User change. New user:",e.toKey());const r=await yN(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(d=>{d.reject(new de(ne.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sa(t,r.Rs)}}function oG(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return Ve().add(r.key);{let i=Ve();const o=t.qa.get(e);if(!o)return i;for(const l of o){const c=t.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}async function lG(n,e){const t=Ee(n),r=await Zg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&ub(t,e.targetId,i.Ma),i}async function uG(n,e){const t=Ee(n);return bN(t.localStore,e).then(r=>sa(t,r))}async function cG(n,e,t,r){const i=Ee(n),o=await function(c,d){const f=Ee(c),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Ln(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Zc(i.remoteStore):t==="acknowledged"||t==="rejected"?(rT(i,e,r||null),nT(i,e),function(c,d){Ee(Ee(c).mutationQueue).qn(d)}(i.localStore,e)):we(),await sa(i,o)):pe(Ro,"Cannot apply mutation batch with id: "+e)}async function hG(n,e){const t=Ee(n);if(t_(t),sT(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await YC(t,r.toArray());t.ja=!0,await ob(t.remoteStore,!0);for(const o of i)e_(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Dc(t,l),Pc(t.localStore,l,!0))),Oc(t.remoteStore,l)}),await i,await YC(t,r),function(l){const c=Ee(l);c.Ka.forEach((d,f)=>{Oc(c.remoteStore,f)}),c.Ua.Dr(),c.Ka=new Map,c.$a=new yt(_e.comparator)}(t),t.ja=!1,await ob(t.remoteStore,!1)}}async function YC(n,e,t){const r=Ee(n),i=[],o=[];for(const l of e){let c;const d=r.qa.get(l);if(d&&d.length!==0){c=await xc(r.localStore,ar(d[0]));for(const f of d){const g=r.ka.get(f),_=await lG(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await EN(r.localStore,l);c=await xc(r.localStore,f),await tT(r,jN(f),l,!1,c.resumeToken)}i.push(c)}return r.La.p_(o),i}function jN(n){return TD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function dG(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function fG(n,e,t,r){const i=Ee(n);if(i.ja)return void pe(Ro,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=await bN(i.localStore,AD(o[0])),c=tp.createSynthesizedRemoteEventForCurrentChange(e,t==="current",$t.EMPTY_BYTE_STRING);await sa(i,l,c);break}case"rejected":await Pc(i.localStore,e,!0),Dc(i,e,r);break;default:we()}}async function pG(n,e,t){const r=t_(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(Ro,"Adding an already active target "+i);continue}const o=await EN(r.localStore,i),l=await xc(r.localStore,o);await tT(r,jN(o),l.targetId,!1,l.resumeToken),e_(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Pc(r.localStore,i,!1).then(()=>{Oc(r.remoteStore,i),Dc(r,i)}).catch(wo)}}function t_(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tG.bind(null,e),e.La.p_=q$.bind(null,e.eventManager),e.La.Ja=H$.bind(null,e.eventManager),e}function sT(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rG.bind(null,e),e}function mG(n,e,t){const r=Ee(n);(async function(o,l,c){try{const d=await l.getMetadata();if(await function(T,w){const R=Ee(T),C=Xt(w.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",U=>R.Yr.getBundleMetadata(U,w.id)).then(U=>!!U&&U.createTime.compareTo(C)>=0)}(o.localStore,d))return await l.close(),c._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);c._updateProgress(NN(d));const f=new G$(d,o.localStore,l.serializer);let g=await l.Ya();for(;g;){const v=await f.Aa(g);v&&c._updateProgress(v),g=await l.Ya()}const _=await f.complete();return await sa(o,_.ma,void 0),await function(T,w){const R=Ee(T);return R.persistence.runTransaction("Save bundle","readwrite",C=>R.Yr.saveBundleMetadata(C,w))}(o.localStore,d),c._completeWith(_.progress),Promise.resolve(_.Va)}catch(d){return is(Ro,`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return gN(this.persistence,new mN,e.initialUser,this.serializer)}Xa(e){return new Fw(Jy.ri,this.serializer)}Za(e){return new RN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class gG extends Cf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof Xg);const r=this.persistence.referenceDelegate.garbageCollector;return new uN(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new Fw(r=>Xg.ri(r,t),this.serializer)}}class zN extends Cf{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await sT(this.ru.syncEngine),await Zc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return gN(this.persistence,new mN,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new uN(r,e.asyncQueue,t)}nu(e,t){const r=new A8(t,this.persistence);return new S8(e.asyncQueue,r)}Xa(e){const t=zw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new jw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,IN(),_g(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new RN}}class yG extends zN{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof iE&&(this.sharedClientState.syncEngine={uo:cG.bind(null,t),co:fG.bind(null,t),lo:pG.bind(null,t),zi:dG.bind(null,t),ao:uG.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await hG(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=IN();if(!iE.D(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=zw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class xf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aG.bind(null,this.syncEngine),await ob(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z$}()}createDatastore(e){const t=rp(e.databaseInfo.databaseId),r=function(o){return new S$(o)}(e.databaseInfo);return function(o,l,c,d){return new C$(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new P$(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>WC(this.syncEngine,t,0),function(){return jC.D()?new jC:new E$}())}createSyncEngine(e,t){return function(i,o,l,c,d,f,g){const _=new Y$(i,o,l,c,d,f);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(Vl,"RemoteStore shutting down."),o.W_.add(5),await Xc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xf.provider={build:()=>new xf};function QC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new $$(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const l=Ee(i),c={documents:o.map(_=>Rf(l.serializer,_))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,qe.emptyPath(),c,o.length),f=new Map;d.forEach(_=>{const v=O7(l.serializer,_);f.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=f.get(_.toString());Ae(!!v),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Pw(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),l={writes:i.map(c=>If(o.serializer,c))};await o.So("Commit",o.serializer.databaseId,qe.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ce.min())?Rt.exists(!1):Rt.updateTime(t):Rt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ce.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rt.updateTime(t)}return Rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new Gw(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new vG(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Yf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!UD(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="FirestoreClient";class bG{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=qk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{pe(go,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe(go,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=eh(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function aE(n,e){n.asyncQueue.verifyOperationInProgress(),pe(go,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function XC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aT(n);pe(go,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>qC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>qC(e.remoteStore,i)),n._onlineComponents=e}async function aT(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(go,"Using user provided OfflineComponentProvider");try{await aE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;is("Error using user provided cache. Falling back to memory cache: "+t),await aE(n,new Cf)}}else pe(go,"Using default OfflineComponentProvider"),await aE(n,new gG(void 0));return n._offlineComponents}async function r_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(go,"Using user provided OnlineComponentProvider"),await XC(n,n._uninitializedComponentsProvider._online)):(pe(go,"Using default OnlineComponentProvider"),await XC(n,new xf))),n._onlineComponents}function qN(n){return aT(n).then(e=>e.persistence)}function oT(n){return aT(n).then(e=>e.localStore)}function HN(n){return r_(n).then(e=>e.remoteStore)}function lT(n){return r_(n).then(e=>e.syncEngine)}function wG(n){return r_(n).then(e=>e.datastore)}async function Nc(n){const e=await r_(n),t=e.eventManager;return t.onListen=Q$.bind(null,e.syncEngine),t.onUnlisten=Z$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=X$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J$.bind(null,e.syncEngine),t}function TG(n){return n.asyncQueue.enqueue(async()=>{const e=await qN(n),t=await HN(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),ip(o)}(t)})}function SG(n){return n.asyncQueue.enqueue(async()=>{const e=await qN(n),t=await HN(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await Xc(o),o.j_.set("Offline")}(t)})}function AG(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const c=await function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);c.isFoundDocument()?l.resolve(c):c.isNoDocument()?l.resolve(null):l.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=eh(c,`Failed to get document '${o} from cache`);l.reject(d)}}(await oT(n),e,t)),t.promise}function $N(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const g=new n_({next:v=>{g.su(),l.enqueueAndForget(()=>Zw(o,_));const T=v.docs.has(c);!T&&v.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new eT(Wc(c.path),g,{includeMetadataChanges:!0,Ta:!0});return Xw(o,_)}(await Nc(n),n.asyncQueue,e,t,r)),r.promise}function RG(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const c=await Zg(i,o,!0),d=new LN(o,c.gs),f=d.ba(c.documents),g=d.applyChanges(f,!1);l.resolve(g.snapshot)}catch(c){const d=eh(c,`Failed to execute query '${o} against cache`);l.reject(d)}}(await oT(n),e,t)),t.promise}function GN(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const g=new n_({next:v=>{g.su(),l.enqueueAndForget(()=>Zw(o,_)),v.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new eT(c,g,{includeMetadataChanges:!0,Ta:!0});return Xw(o,_)}(await Nc(n),n.asyncQueue,e,t,r)),r.promise}function IG(n,e){const t=new n_(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await Nc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await Nc(n),t))}}function CG(n,e,t,r){const i=function(l,c){let d;return d=typeof l=="string"?FD().encode(l):l,function(g,_){return new _G(g,_)}(function(g,_){if(g instanceof Uint8Array)return QC(g,_);if(g instanceof ArrayBuffer)return QC(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),c)}(t,rp(e));n.asyncQueue.enqueueAndForget(async()=>{mG(await lT(n),i,r)})}function xG(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",l=>o.Yr.getNamedQuery(l,i))}(await oT(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WN(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JC(n){if(!_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ex(n){if(_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function i_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=i_(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function YN(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firestore.googleapis.com",tx=!0;class nx{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QN,this.ssl=tx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q7)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p8;switch(r.type){case"firstParty":return new _8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ZC.get(t);r&&(pe("ComponentProvider","Removing Datastore"),ZC.delete(t),r.terminate())}(this),Promise.resolve()}}function PG(n,e,t,r={}){var i;const o=(n=nt(n,sp))._getSettings(),l=`${e}:${t}`;if(o.host!==QN&&o.host!==l&&is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Rn.MOCK_USER;else{c=pO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Rn(f)}n._authCredentials=new m8(new zk(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let or=class XN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new XN(this.firestore,e,this._query)}},Mt=class ZN{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ZN(this.firestore,e,this._key)}},no=class JN extends or{constructor(e,t,r){super(e,t,Wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new _e(e))}withConverter(e){return new JN(this.firestore,e,this._path)}};function e2(n,e,...t){if(n=Re(n),uT("collection","path",e),n instanceof sp){const r=qe.fromString(e,...t);return ex(r),new no(n,null,r)}{if(!(n instanceof Mt||n instanceof no))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return ex(r),new no(n.firestore,null,r)}}function OG(n,e){if(n=nt(n,sp),uT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new or(n,null,function(r){return new na(qe.emptyPath(),r)}(e))}function ny(n,e,...t){if(n=Re(n),arguments.length===1&&(e=qk.newId()),uT("doc","path",e),n instanceof sp){const r=qe.fromString(e,...t);return JC(r),new Mt(n,null,new _e(r))}{if(!(n instanceof Mt||n instanceof no))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return JC(r),new Mt(n.firestore,n instanceof no?n.converter:null,new _e(r))}}function t2(n,e){return n=Re(n),e=Re(e),(n instanceof Mt||n instanceof no)&&(e instanceof Mt||e instanceof no)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function n2(n,e){return n=Re(n),e=Re(e),n instanceof or&&e instanceof or&&n.firestore===e.firestore&&Zf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="AsyncQueue";class ix{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Gw(this,"async_queue_retry"),this.Su=()=>{const r=_g();r&&pe(rx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=_g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=_g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!To(e))throw e;pe(rx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Qt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Qw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function cb(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class kG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=-1;let Zt=class extends sp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ix,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ix(e),this._firestoreClient=void 0,await e}}};function Qn(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||r2(n),n._firestoreClient}function r2(n){var e,t,r;const i=n._freezeSettings(),o=function(c,d,f,g){return new e7(c,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,KN(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new bG(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(n._componentsProvider))}function NG(n,e){is("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return i2(n,xf.provider,{build:r=>new zN(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function MG(n){is("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();i2(n,xf.provider,{build:t=>new yG(t,e.cacheSizeBytes)})}function i2(n,e,t){if((n=nt(n,Zt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},r2(n)}function VG(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ji.D())return Promise.resolve();const i=r+pN;await Ji.delete(i)}(zw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function LG(n){return function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>iG(await lT(t),r)),r.promise}(Qn(n=nt(n,Zt)))}function UG(n){return TG(Qn(n=nt(n,Zt)))}function BG(n){return SG(Qn(n=nt(n,Zt)))}function FG(n,e){const t=Qn(n=nt(n,Zt)),r=new kG;return CG(t,n._databaseId,e,r),r}function jG(n,e){return xG(Qn(n=nt(n,Zt)),e).then(t=>t?new or(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._byteString=e}static fromBase64String(e){try{return new as($t.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new as($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=/^__.*__$/;class qG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yc(e,this.data,t,this.fieldTransforms)}}class s2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function a2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class a_{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new a_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ry(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(a2(this.Lu)&&zG.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class HG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rp(e)}ju(e,t,r,i=!1){return new a_({Lu:e,methodName:t,zu:r,path:At.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hl(n){const e=n._freezeSettings(),t=rp(n._databaseId);return new HG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function o_(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);yT("Data must be an object, but it was:",l,r);const c=u2(r,l);let d,f;if(o.merge)d=new mr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=hb(e,_,t);if(!l.contains(v))throw new de(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);h2(g,v)||g.push(v)}d=new mr(g),f=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=l.fieldTransforms;return new qG(new Mn(c),d,f)}class ap extends ql{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ap}}function o2(n,e,t){return new a_({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hT extends ql{_toFieldTransform(e){return new ep(e.path,new Rc)}isEqual(e){return e instanceof hT}}class dT extends ql{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=o2(this,e,!0),r=this.Hu.map(o=>$l(o,t)),i=new Ol(r);return new ep(e.path,i)}isEqual(e){return e instanceof dT&&hc(this.Hu,e.Hu)}}class fT extends ql{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=o2(this,e,!0),r=this.Hu.map(o=>$l(o,t)),i=new kl(r);return new ep(e.path,i)}isEqual(e){return e instanceof fT&&hc(this.Hu,e.Hu)}}class pT extends ql{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Ic(e.serializer,OD(e.serializer,this.Ju));return new ep(e.path,t)}isEqual(e){return e instanceof pT&&this.Ju===e.Ju}}function mT(n,e,t,r){const i=n.ju(1,e,t);yT("Data must be an object, but it was:",i,r);const o=[],l=Mn.empty();So(r,(d,f)=>{const g=_T(e,d,t);f=Re(f);const _=i.Ku(g);if(f instanceof ap)o.push(g);else{const v=$l(f,_);v!=null&&(o.push(g),l.set(g,v))}});const c=new mr(o);return new s2(l,c,i.fieldTransforms)}function gT(n,e,t,r,i,o){const l=n.ju(1,e,t),c=[hb(e,r,t)],d=[i];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)c.push(hb(e,o[v])),d.push(o[v+1]);const f=[],g=Mn.empty();for(let v=c.length-1;v>=0;--v)if(!h2(f,c[v])){const T=c[v];let w=d[v];w=Re(w);const R=l.Ku(T);if(w instanceof ap)f.push(T);else{const C=$l(w,R);C!=null&&(f.push(T),g.set(T,C))}}const _=new mr(f);return new s2(g,_,l.fieldTransforms)}function l2(n,e,t,r=!1){return $l(t,n.ju(r?4:3,e))}function $l(n,e){if(c2(n=Re(n)))return yT("Unsupported field value:",e,n),u2(n,e);if(n instanceof ql)return function(r,i){if(!a2(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let d=$l(c,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:Cc(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cc(i.serializer,o)}}if(r instanceof s_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof as)return{bytesValue:qD(i.serializer,r._byteString)};if(r instanceof Mt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cT)return function(l,c){return{mapValue:{fields:{[Sw]:{stringValue:Aw},[Tc]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return xw(c.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${i_(r)}`)}(n,e)}function u2(n,e){const t={};return aD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(n,(r,i)=>{const o=$l(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function c2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof s_||n instanceof as||n instanceof Mt||n instanceof ql||n instanceof cT)}function yT(n,e,t){if(!c2(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=i_(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function hb(n,e,t){if((e=Re(e))instanceof yo)return e._internalPath;if(typeof e=="string")return _T(n,e);throw ry("Field path arguments must be of type string or ",n,!1,void 0,t)}const $G=new RegExp("[~\\*/\\[\\]]");function _T(n,e,t){if(e.search($G)>=0)throw ry(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yo(...e.split("."))._internalPath}catch{throw ry(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ry(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new de(ne.INVALID_ARGUMENT,c+n+d)}function h2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(l_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GG extends Pf{data(){return super.data()}}function l_(n,e){return typeof e=="string"?_T(n,e):e instanceof yo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vT{}class op extends vT{}function Ga(n,e,...t){let r=[];e instanceof vT&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof ET).length,c=o.filter(d=>d instanceof u_).length;if(l>1||l>0&&c>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class u_ extends op{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new u_(e,t,r)}_apply(e){const t=this._parse(e);return p2(e._query,t),new or(e.firestore,e.converter,XE(e._query,t))}_parse(e){const t=Hl(e.firestore);return function(o,l,c,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ax(_,g);const w=[];for(const R of _)w.push(sx(d,o,R));v={arrayValue:{values:w}}}else v=sx(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ax(_,g),v=l2(c,l,_,g==="in"||g==="not-in");return He.create(f,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function KG(n,e,t){const r=e,i=l_("where",n);return u_._create(i,r,t)}class ET extends vT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ET(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)p2(l,d),l=XE(l,d)}(e._query,t),new or(e.firestore,e.converter,XE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bT extends op{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bT(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Af(o,l)}(e._query,this._field,this._direction);return new or(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new na(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function WG(n,e="asc"){const t=e,r=l_("orderBy",n);return bT._create(r,t)}class c_ extends op{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new c_(e,t,r)}_apply(e){return new or(e.firestore,e.converter,Kg(e._query,this._limit,this._limitType))}}function YG(n){return YN("limit",n),c_._create("limit",n,"F")}function QG(n){return YN("limitToLast",n),c_._create("limitToLast",n,"L")}class h_ extends op{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new h_(e,t,r)}_apply(e){const t=f2(e,this.type,this._docOrFields,this._inclusive);return new or(e.firestore,e.converter,function(i,o){return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function XG(...n){return h_._create("startAt",n,!0)}function ZG(...n){return h_._create("startAfter",n,!1)}class d_ extends op{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new d_(e,t,r)}_apply(e){const t=f2(e,this.type,this._docOrFields,this._inclusive);return new or(e.firestore,e.converter,function(i,o){return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function JG(...n){return d_._create("endBefore",n,!1)}function eK(...n){return d_._create("endAt",n,!0)}function f2(n,e,t,r){if(t[0]=Re(t[0]),t[0]instanceof Pf)return function(o,l,c,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const _ of ac(o))if(_.field.isKeyField())g.push(xl(l,d.key));else{const v=d.data.field(_.field);if(Gy(v))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new po(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hl(n.firestore);return function(l,c,d,f,g,_){const v=l.explicitOrderBy;if(g.length>v.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const R=g[w];if(v[w].field.isKeyField()){if(typeof R!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!Iw(l)&&R.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const C=l.path.child(qe.fromString(R));if(!_e.isDocumentKey(C))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const U=new _e(C);T.push(xl(c,U))}else{const C=l2(d,f,R);T.push(C)}}return new po(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function sx(n,e,t){if(typeof(t=Re(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iw(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!_e.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xl(n,new _e(r))}if(t instanceof Mt)return xl(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${i_(t)}.`)}function ax(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p2(n,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wT{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return So(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Tc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new cT(o)}convertGeoPoint(e){return new s_(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ky(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wf(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Ae(eN(r));const i=new co(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Qt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class tK extends wT{constructor(e){super(),this.firestore=e}convertBytes(e){return new as(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Xs=class extends Pf{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(l_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},nf=class extends Xs{data(e={}){return super.data(e)}},_o=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new nf(this._firestore,this._userDataWriter,r.key,r,new _l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new nf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new _l(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new nf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new _l(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:nK(c.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function nK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function m2(n,e){return n instanceof Xs&&e instanceof Xs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof _o&&e instanceof _o&&n._firestore===e._firestore&&n2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(n){n=nt(n,Mt);const e=nt(n.firestore,Zt);return $N(Qn(e),n._key).then(t=>TT(e,n,t))}class Gl extends wT{constructor(e){super(),this.firestore=e}convertBytes(e){return new as(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function iK(n){n=nt(n,Mt);const e=nt(n.firestore,Zt),t=Qn(e),r=new Gl(e);return AG(t,n._key).then(i=>new Xs(e,r,n._key,i,new _l(i!==null&&i.hasLocalMutations,!0),n.converter))}function sK(n){n=nt(n,Mt);const e=nt(n.firestore,Zt);return $N(Qn(e),n._key,{source:"server"}).then(t=>TT(e,n,t))}function aK(n){n=nt(n,or);const e=nt(n.firestore,Zt),t=Qn(e),r=new Gl(e);return d2(n._query),GN(t,n._query).then(i=>new _o(e,r,n,i))}function oK(n){n=nt(n,or);const e=nt(n.firestore,Zt),t=Qn(e),r=new Gl(e);return RG(t,n._query).then(i=>new _o(e,r,n,i))}function lK(n){n=nt(n,or);const e=nt(n.firestore,Zt),t=Qn(e),r=new Gl(e);return GN(t,n._query,{source:"server"}).then(i=>new _o(e,r,n,i))}function ox(n,e,t){n=nt(n,Mt);const r=nt(n.firestore,Zt),i=f_(n.converter,e,t);return lp(r,[o_(Hl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Rt.none())])}function lx(n,e,t,...r){n=nt(n,Mt);const i=nt(n.firestore,Zt),o=Hl(i);let l;return l=typeof(e=Re(e))=="string"||e instanceof yo?gT(o,"updateDoc",n._key,e,t,r):mT(o,"updateDoc",n._key,e),lp(i,[l.toMutation(n._key,Rt.exists(!0))])}function uK(n){return lp(nt(n.firestore,Zt),[new Qc(n._key,Rt.none())])}function cK(n,e){const t=nt(n.firestore,Zt),r=ny(n),i=f_(n.converter,e);return lp(t,[o_(Hl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Rt.exists(!1))]).then(()=>r)}function g2(n,...e){var t,r,i;n=Re(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||cb(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(cb(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,f,g;if(n instanceof Mt)f=nt(n.firestore,Zt),g=Wc(n._key.path),d={next:_=>{e[l]&&e[l](TT(f,n,_))},error:e[l+1],complete:e[l+2]};else{const _=nt(n,or);f=nt(_.firestore,Zt),g=_._query;const v=new Gl(f);d={next:T=>{e[l]&&e[l](new _o(f,v,_,T))},error:e[l+1],complete:e[l+2]},d2(n._query)}return function(v,T,w,R){const C=new n_(R),U=new eT(T,C,w);return v.asyncQueue.enqueueAndForget(async()=>Xw(await Nc(v),U)),()=>{C.su(),v.asyncQueue.enqueueAndForget(async()=>Zw(await Nc(v),U))}}(Qn(f),g,c,d)}function hK(n,e){return IG(Qn(n=nt(n,Zt)),cb(e)?e:{next:e})}function lp(n,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>eG(await lT(r),i,o)),o.promise}(Qn(n),e)}function TT(n,e,t){const r=t.docs.get(e._key),i=new Gl(n);return new Xs(n,i,e._key,r,new _l(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fK=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hl(e)}set(e,t,r){this._verifyNotCommitted();const i=Xa(e,this._firestore),o=f_(i.converter,t,r),l=o_(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Rt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Xa(e,this._firestore);let l;return l=typeof(t=Re(t))=="string"||t instanceof yo?gT(this._dataReader,"WriteBatch.update",o._key,t,r,i):mT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,Rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xa(e,this._firestore);return this._mutations=this._mutations.concat(new Qc(t._key,Rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Xa(n,e){if((n=Re(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hl(e)}get(e){const t=Xa(e,this._firestore),r=new tK(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we();const o=i[0];if(o.isFoundDocument())return new Pf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Pf(this._firestore,r,t._key,null,t.converter);throw we()})}set(e,t,r){const i=Xa(e,this._firestore),o=f_(i.converter,t,r),l=o_(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const o=Xa(e,this._firestore);let l;return l=typeof(t=Re(t))=="string"||t instanceof yo?gT(this._dataReader,"Transaction.update",o._key,t,r,i):mT(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=Xa(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mK=class extends pK{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xa(e,this._firestore),r=new Gl(this._firestore);return super.get(e).then(i=>new Xs(this._firestore,r,t._key,i._document,new _l(!1,!1),t.converter))}};function gK(n,e,t){n=nt(n,Zt);const r=Object.assign(Object.assign({},dK),t);return function(o){if(o.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,c){const d=new Vn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await wG(o);new EG(o.asyncQueue,f,c,l,d).Iu()}),d.promise}(Qn(n),i=>e(new mK(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(){return new ap("deleteField")}function _K(){return new hT("serverTimestamp")}function vK(...n){return new dT("arrayUnion",n)}function EK(...n){return new fT("arrayRemove",n)}function bK(n){return new pT("increment",n)}(function(e,t=!0){(function(i){Kc=i})(Js),Ks(new si("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Zt(new g8(r.getProvider("auth-internal")),new v8(l,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(f.options.projectId,g)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Vr(F1,j1,e),Vr(F1,j1,"esm2017")})();const wK="@firebase/firestore-compat",TK="0.3.43";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function cx(){if(!Z8())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let y2=class db{constructor(e){this._delegate=e}static fromBase64String(e){return cx(),new db(as.fromBase64String(e))}static fromUint8Array(e){return ux(),new db(as.fromUint8Array(e))}toBase64(){return cx(),this._delegate.toBase64()}toUint8Array(){return ux(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n){return SK(n,["next","error","complete"])}function SK(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{enableIndexedDbPersistence(e,t){return NG(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return MG(e._delegate)}clearIndexedDbPersistence(e){return VG(e._delegate)}}class _2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof co||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&is("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){PG(this._delegate,e,t,r)}enableNetwork(){return UG(this._delegate)}disableNetwork(){return BG(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,WN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return LG(this._delegate)}onSnapshotsInSync(e){return hK(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Mc(this,e2(this._delegate,e))}catch(t){throw ir(t,"collection()","Firestore.collection()")}}doc(e){try{return new ni(this,ny(this._delegate,e))}catch(t){throw ir(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rr(this,OG(this._delegate,e))}catch(t){throw ir(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return gK(this._delegate,t=>e(new v2(this,t)))}batch(){return Qn(this._delegate),new E2(new fK(this._delegate,e=>lp(this._delegate,e)))}loadBundle(e){return FG(this._delegate,e)}namedQuery(e){return jG(this._delegate,e).then(t=>t?new rr(this,t):null)}}class p_ extends wT{constructor(e){super(),this.firestore=e}convertBytes(e){return new y2(new as(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ni.forKey(t,this.firestore,null)}}function RK(n){d8(n)}class v2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new p_(e)}get(e){const t=vl(e);return this._delegate.get(t).then(r=>new Of(this._firestore,new Xs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=vl(e);return r?(ST("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=vl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=vl(e);return this._delegate.delete(t),this}}class E2{constructor(e){this._delegate=e}set(e,t,r){const i=vl(e);return r?(ST("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=vl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=vl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ll{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new nf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ll.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Ll(e,new p_(e),t),i.set(t,o)),o}}Ll.INSTANCES=new WeakMap;class ni{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new p_(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ni(t,new Mt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new ni(t,new Mt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Mc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Mc(this.firestore,e2(this._delegate,e))}catch(t){throw ir(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Re(e),e instanceof Mt?t2(this._delegate,e):!1}set(e,t){t=ST("DocumentReference.set",t);try{return t?ox(this._delegate,e,t):ox(this._delegate,e)}catch(r){throw ir(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?lx(this._delegate,e):lx(this._delegate,e,t,...r)}catch(i){throw ir(i,"updateDoc()","DocumentReference.update()")}}delete(){return uK(this._delegate)}onSnapshot(...e){const t=b2(e),r=w2(e,i=>new Of(this.firestore,new Xs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return g2(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=iK(this._delegate):(e==null?void 0:e.source)==="server"?t=sK(this._delegate):t=rK(this._delegate),t.then(r=>new Of(this.firestore,new Xs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ni(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ir(n,e,t){return n.message=n.message.replace(e,t),n}function b2(n){for(const e of n)if(typeof e=="object"&&!fb(e))return e;return{}}function w2(n,e){var t,r;let i;return fb(n[0])?i=n[0]:fb(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Of{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ni(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return m2(this._delegate,e._delegate)}}class kf extends Of{data(e){const t=this._delegate.data(e);return this._delegate._converter||f8(t!==void 0),t}}class rr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new p_(e)}where(e,t,r){try{return new rr(this.firestore,Ga(this._delegate,KG(e,t,r)))}catch(i){throw ir(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rr(this.firestore,Ga(this._delegate,WG(e,t)))}catch(r){throw ir(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rr(this.firestore,Ga(this._delegate,YG(e)))}catch(t){throw ir(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rr(this.firestore,Ga(this._delegate,QG(e)))}catch(t){throw ir(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rr(this.firestore,Ga(this._delegate,XG(...e)))}catch(t){throw ir(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rr(this.firestore,Ga(this._delegate,ZG(...e)))}catch(t){throw ir(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rr(this.firestore,Ga(this._delegate,JG(...e)))}catch(t){throw ir(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rr(this.firestore,Ga(this._delegate,eK(...e)))}catch(t){throw ir(t,"endAt()","Query.endAt()")}}isEqual(e){return n2(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=oK(this._delegate):(e==null?void 0:e.source)==="server"?t=lK(this._delegate):t=aK(this._delegate),t.then(r=>new pb(this.firestore,new _o(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=b2(e),r=w2(e,i=>new pb(this.firestore,new _o(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return g2(this._delegate,t,r)}withConverter(e){return new rr(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class IK{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new kf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new kf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new IK(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new kf(this._firestore,r))})}isEqual(e){return m2(this._delegate,e._delegate)}}class Mc extends rr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ni(this.firestore,e):null}doc(e){try{return e===void 0?new ni(this.firestore,ny(this._delegate)):new ni(this.firestore,ny(this._delegate,e))}catch(t){throw ir(t,"doc()","CollectionReference.doc()")}}add(e){return cK(this._delegate,e).then(t=>new ni(this.firestore,t))}isEqual(e){return t2(this._delegate,e._delegate)}withConverter(e){return new Mc(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function vl(n){return nt(n,Mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(...e){this._delegate=new yo(...e)}static documentId(){return new AT(At.keyField().canonicalString())}isEqual(e){return e=Re(e),e instanceof yo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static serverTimestamp(){const e=_K();return e._methodName="FieldValue.serverTimestamp",new pl(e)}static delete(){const e=yK();return e._methodName="FieldValue.delete",new pl(e)}static arrayUnion(...e){const t=vK(...e);return t._methodName="FieldValue.arrayUnion",new pl(t)}static arrayRemove(...e){const t=EK(...e);return t._methodName="FieldValue.arrayRemove",new pl(t)}static increment(e){const t=bK(e);return t._methodName="FieldValue.increment",new pl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK={Firestore:_2,GeoPoint:s_,Timestamp:It,Blob:y2,Transaction:v2,WriteBatch:E2,DocumentReference:ni,DocumentSnapshot:Of,Query:rr,QueryDocumentSnapshot:kf,QuerySnapshot:pb,CollectionReference:Mc,FieldPath:AT,FieldValue:pl,setLogLevel:RK,CACHE_SIZE_UNLIMITED:DG};function xK(n,e){n.INTERNAL.registerComponent(new si("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},CK)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(n){xK(n,(e,t)=>new _2(e,t,new AK)),n.registerVersion(wK,TK)}PK(jl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebasestorage.googleapis.com",S2="storageBucket",OK=2*60*1e3,kK=10*60*1e3,DK=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends Wn{constructor(e,t,r=0){super(oE(e),`Firebase Storage: ${t} (${oE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return oE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function oE(n){return"storage/"+n}function RT(){const n="An unknown error occurred, please check the error payload for server response.";return new Ut(bt.UNKNOWN,n)}function NK(n){return new Ut(bt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function MK(n){return new Ut(bt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VK(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut(bt.UNAUTHENTICATED,n)}function LK(){return new Ut(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function UK(n){return new Ut(bt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function A2(){return new Ut(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R2(){return new Ut(bt.CANCELED,"User canceled the upload/download.")}function BK(n){return new Ut(bt.INVALID_URL,"Invalid URL '"+n+"'.")}function FK(n){return new Ut(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function jK(){return new Ut(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+S2+"' property when initializing the app?")}function I2(){return new Ut(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zK(){return new Ut(bt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function qK(){return new Ut(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HK(n){return new Ut(bt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lc(n){return new Ut(bt.INVALID_ARGUMENT,n)}function C2(){return new Ut(bt.APP_DELETED,"The Firebase app was deleted.")}function x2(n){return new Ut(bt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rf(n,e){return new Ut(bt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Od(n){throw new Ut(bt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Kn.makeFromUrl(e,t)}catch{return new Kn(e,"")}if(r.path==="")return r;throw FK(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${g}/b/${i}/o${v}`,"i"),w={bucket:1,path:3},R=t===T2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",U=new RegExp(`^https?://${R}/${i}/${C}`,"i"),B=[{regex:c,indices:d,postModify:o},{regex:T,indices:w,postModify:f},{regex:U,indices:{bucket:1,path:2},postModify:f}];for(let H=0;H<B.length;H++){const j=B[H],$=j.regex.exec(e);if($){const M=$[j.indices.bucket];let x=$[j.indices.path];x||(x=""),r=new Kn(M,x),j.postModify(r);break}}if(r==null)throw BK(e);return r}}class $K{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(n,e,t){let r=1,i=null,o=null,l=!1,c=0;function d(){return c===2}let f=!1;function g(...C){f||(f=!0,e.apply(null,C))}function _(C){i=setTimeout(()=>{i=null,n(T,d())},C)}function v(){o&&clearTimeout(o)}function T(C,...U){if(f){v();return}if(C){v(),g.call(null,C,...U);return}if(d()||l){v(),g.call(null,C,...U);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,_(B)}let w=!1;function R(C){w||(w=!0,v(),!f&&(i!==null?(C||(c=2),clearTimeout(i),_(0)):C||(c=1)))}return _(0),o=setTimeout(()=>{l=!0,R(!0)},t),R}function KK(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(n){return n!==void 0}function YK(n){return typeof n=="function"}function QK(n){return typeof n=="object"&&!Array.isArray(n)}function m_(n){return typeof n=="string"||n instanceof String}function hx(n){return IT()&&n instanceof Blob}function IT(){return typeof Blob<"u"}function mb(n,e,t,r){if(r<e)throw lc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw lc(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function P2(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Sl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Sl||(Sl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,t,r,i,o,l,c,d,f,g,_,v=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=_,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,w)=>{this.resolve_=T,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Hm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Sl.NO_ERROR,d=o.getStatus();if(!c||O2(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Sl.ABORT;r(!1,new Hm(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Hm(f,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());WK(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=RT();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?C2():R2();l(d)}else{const d=A2();l(d)}};this.canceled_?t(!1,new Hm(!1,null,!0)):this.backoffId_=GK(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function ZK(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function JK(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function tW(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function nW(n,e,t,r,i,o,l=!0){const c=P2(n.urlParams),d=n.url+c,f=Object.assign({},n.headers);return eW(f,e),ZK(f,t),JK(f,o),tW(f,r),new XK(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iW(...n){const e=rW();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(IT())return new Blob(n);throw new Ut(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sW(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(n){if(typeof atob>"u")throw HK("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lE{constructor(e,t){this.data=e,this.contentType=t||null}}function k2(n,e){switch(n){case ri.RAW:return new lE(D2(e));case ri.BASE64:case ri.BASE64URL:return new lE(N2(n,e));case ri.DATA_URL:return new lE(lW(e),uW(e))}throw RT()}function D2(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oW(n){let e;try{e=decodeURIComponent(n)}catch{throw rf(ri.DATA_URL,"Malformed data URL.")}return D2(e)}function N2(n,e){switch(n){case ri.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw rf(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw rf(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=aW(e)}catch(i){throw i.message.includes("polyfill")?i:rf(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class M2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw rf(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=cW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lW(n){const e=new M2(n);return e.base64?N2(ri.BASE64,e.rest):oW(e.rest)}function uW(n){return new M2(n).contentType}function cW(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){let r=0,i="";hx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(hx(this.data_)){const r=this.data_,i=sW(r,e,t);return i===null?null:new Us(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Us(r,!0)}}static getBlob(...e){if(IT()){const t=e.map(r=>r instanceof Us?r.data_:r);return new Us(iW.apply(null,t))}else{const t=e.map(l=>m_(l)?k2(ri.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new Us(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n){let e;try{e=JSON.parse(n)}catch{return null}return QK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function dW(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function V2(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(n,e){return e}class nr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||fW}}let $m=null;function pW(n){return!m_(n)||n.length<2?n:V2(n)}function g_(){if($m)return $m;const n=[];n.push(new nr("bucket")),n.push(new nr("generation")),n.push(new nr("metageneration")),n.push(new nr("name","fullPath",!0));function e(o,l){return pW(l)}const t=new nr("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const i=new nr("size");return i.xform=r,n.push(i),n.push(new nr("timeCreated")),n.push(new nr("updated")),n.push(new nr("md5Hash",null,!0)),n.push(new nr("cacheControl",null,!0)),n.push(new nr("contentDisposition",null,!0)),n.push(new nr("contentEncoding",null,!0)),n.push(new nr("contentLanguage",null,!0)),n.push(new nr("contentType",null,!0)),n.push(new nr("metadata","customMetadata",!0)),$m=n,$m}function mW(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new Kn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function gW(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return mW(r,n),r}function L2(n,e,t){const r=CT(e);return r===null?null:gW(n,r,t)}function yW(n,e,t,r){const i=CT(e);if(i===null||!m_(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const g=n.bucket,_=n.fullPath,v="/b/"+l(g)+"/o/"+l(_),T=Io(v,t,r),w=P2({alt:"media",token:f});return T+w})[0]}function xT(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="prefixes",fx="items";function _W(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[dx])for(const i of t[dx]){const o=i.replace(/\/$/,""),l=n._makeStorageReference(new Kn(e,o));r.prefixes.push(l)}if(t[fx])for(const i of t[fx]){const o=n._makeStorageReference(new Kn(e,i.name));r.items.push(o)}return r}function vW(n,e,t){const r=CT(t);return r===null?null:_W(n,e,r)}class aa{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n){if(!n)throw RT()}function y_(n,e){function t(r,i){const o=L2(n,i,e);return ts(o!==null),o}return t}function EW(n,e){function t(r,i){const o=vW(n,e,i);return ts(o!==null),o}return t}function bW(n,e){function t(r,i){const o=L2(n,i,e);return ts(o!==null),yW(o,i,n.host,n._protocol)}return t}function th(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=LK():i=VK():t.getStatus()===402?i=MK(n.bucket):t.getStatus()===403?i=UK(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function __(n){const e=th(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=NK(n.path)),o.serverResponse=i.serverResponse,o}return t}function U2(n,e,t){const r=e.fullServerUrl(),i=Io(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new aa(i,o,y_(n,t),l);return c.errorHandler=__(e),c}function wW(n,e,t,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);const l=e.bucketOnlyServerUrl(),c=Io(l,n.host,n._protocol),d="GET",f=n.maxOperationRetryTime,g=new aa(c,d,EW(n,e.bucket),f);return g.urlParams=o,g.errorHandler=th(e),g}function TW(n,e,t){const r=e.fullServerUrl(),i=Io(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new aa(i,o,bW(n,t),l);return c.errorHandler=__(e),c}function SW(n,e,t,r){const i=e.fullServerUrl(),o=Io(i,n.host,n._protocol),l="PATCH",c=xT(t,r),d={"Content-Type":"application/json; charset=utf-8"},f=n.maxOperationRetryTime,g=new aa(o,l,y_(n,r),f);return g.headers=d,g.body=c,g.errorHandler=__(e),g}function AW(n,e){const t=e.fullServerUrl(),r=Io(t,n.host,n._protocol),i="DELETE",o=n.maxOperationRetryTime;function l(d,f){}const c=new aa(r,i,l,o);return c.successCodes=[200,204],c.errorHandler=__(e),c}function RW(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function B2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=RW(null,e)),r}function IW(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let B="";for(let H=0;H<2;H++)B=B+Math.random().toString().slice(2);return B}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const f=B2(e,r,i),g=xT(f,t),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",T=Us.getBlob(_,r,v);if(T===null)throw I2();const w={name:f.fullPath},R=Io(o,n.host,n._protocol),C="POST",U=n.maxUploadRetryTime,L=new aa(R,C,y_(n,t),U);return L.urlParams=w,L.headers=l,L.body=T.uploadData(),L.errorHandler=th(e),L}class iy{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function PT(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ts(!1)}return ts(!!t&&(e||["active"]).indexOf(t)!==-1),t}function CW(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l=B2(e,r,i),c={name:l.fullPath},d=Io(o,n.host,n._protocol),f="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},_=xT(l,t),v=n.maxUploadRetryTime;function T(R){PT(R);let C;try{C=R.getResponseHeader("X-Goog-Upload-URL")}catch{ts(!1)}return ts(m_(C)),C}const w=new aa(d,f,T,v);return w.urlParams=c,w.headers=g,w.body=_,w.errorHandler=th(e),w}function xW(n,e,t,r){const i={"X-Goog-Upload-Command":"query"};function o(f){const g=PT(f,["active","final"]);let _=null;try{_=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ts(!1)}_||ts(!1);const v=Number(_);return ts(!isNaN(v)),new iy(v,r.size(),g==="final")}const l="POST",c=n.maxUploadRetryTime,d=new aa(t,l,o,c);return d.headers=i,d.errorHandler=th(e),d}const px=256*1024;function PW(n,e,t,r,i,o,l,c){const d=new iy(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw zK();const f=d.total-d.current;let g=f;i>0&&(g=Math.min(g,i));const _=d.current,v=_+g;let T="";g===0?T="finalize":f===g?T="upload, finalize":T="upload";const w={"X-Goog-Upload-Command":T,"X-Goog-Upload-Offset":`${d.current}`},R=r.slice(_,v);if(R===null)throw I2();function C(H,j){const $=PT(H,["active","final"]),M=d.current+g,x=r.size();let I;return $==="final"?I=y_(e,o)(H,j):I=null,new iy(M,x,$==="final",I)}const U="POST",L=e.maxUploadRetryTime,B=new aa(t,U,C,L);return B.headers=w,B.body=R.uploadData(),B.progressCallback=c||null,B.errorHandler=th(n),B}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW={STATE_CHANGED:"state_changed"},sr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uE(n){switch(n){case"running":case"pausing":case"canceling":return sr.RUNNING;case"paused":return sr.PAUSED;case"success":return sr.SUCCESS;case"canceled":return sr.CANCELED;case"error":return sr.ERROR;default:return sr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e,t,r){if(YK(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class DW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Od("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Od("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Od("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Od("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Od("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class NW extends DW{initXhr(){this.xhr_.responseType="text"}}function Ki(){return new NW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=g_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(bt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(O2(i.status,[]))if(o)i=A2();else{this.sleepTime=Math.max(this.sleepTime*2,DK),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(bt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=CW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ki,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=xW(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ki,t,r);this._request=o,o.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=px*this._chunkMultiplier,t=new iy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let l;try{l=PW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const c=this._ref.storage._makeRequest(l,Ki,i,o,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){px*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=U2(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ki,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=IW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ki,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=R2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=uE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const o=new kW(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(uE(this._state)){case sr.SUCCESS:Ku(this._resolve.bind(null,this.snapshot))();break;case sr.CANCELED:case sr.ERROR:const t=this._reject;Ku(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(uE(this._state)){case sr.RUNNING:case sr.PAUSED:e.next&&Ku(e.next.bind(e,this.snapshot))();break;case sr.SUCCESS:e.complete&&Ku(e.complete.bind(e))();break;case sr.CANCELED:case sr.ERROR:e.error&&Ku(e.error.bind(e,this._error))();break;default:e.error&&Ku(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t){this._service=e,t instanceof Kn?this._location=t:this._location=Kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ul(e,t)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V2(this._location.path)}get storage(){return this._service}get parent(){const e=hW(this._location.path);if(e===null)return null;const t=new Kn(this._location.bucket,e);return new Ul(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw x2(e)}}function MW(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new F2(n,new Us(e),t)}function VW(n){const e={prefixes:[],items:[]};return j2(n,e).then(()=>e)}async function j2(n,e,t){const i=await z2(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await j2(n,e,i.nextPageToken)}function z2(n,e){e!=null&&typeof e.maxResults=="number"&&mb("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=wW(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ki)}function LW(n){n._throwIfRoot("getMetadata");const e=U2(n.storage,n._location,g_());return n.storage.makeRequestWithTokens(e,Ki)}function UW(n,e){n._throwIfRoot("updateMetadata");const t=SW(n.storage,n._location,e,g_());return n.storage.makeRequestWithTokens(t,Ki)}function BW(n){n._throwIfRoot("getDownloadURL");const e=TW(n.storage,n._location,g_());return n.storage.makeRequestWithTokens(e,Ki).then(t=>{if(t===null)throw qK();return t})}function FW(n){n._throwIfRoot("deleteObject");const e=AW(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ki)}function q2(n,e){const t=dW(n._location.path,e),r=new Kn(n._location.bucket,t);return new Ul(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(n){return/^[A-Za-z]+:\/\//.test(n)}function zW(n,e){return new Ul(n,e)}function H2(n,e){if(n instanceof OT){const t=n;if(t._bucket==null)throw jK();const r=new Ul(t,t._bucket);return e!=null?H2(r,e):r}else return e!==void 0?q2(n,e):n}function qW(n,e){if(e&&jW(e)){if(n instanceof OT)return zW(n,e);throw lc("To use ref(service, url), the first argument must be a Storage instance.")}else return H2(n,e)}function mx(n,e){const t=e==null?void 0:e[S2];return t==null?null:Kn.makeFromBucketSpec(t,n)}function HW(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:pO(i,n.app.options.projectId))}class OT{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=T2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OK,this._maxUploadRetryTime=kK,this._requests=new Set,i!=null?this._bucket=Kn.makeFromBucketSpec(i,this._host):this._bucket=mx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=mx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ul(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new $K(C2());{const l=nW(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const gx="@firebase/storage",yx="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W="storage";function GW(n,e,t){return n=Re(n),MW(n,e,t)}function KW(n){return n=Re(n),LW(n)}function WW(n,e){return n=Re(n),UW(n,e)}function YW(n,e){return n=Re(n),z2(n,e)}function QW(n){return n=Re(n),VW(n)}function XW(n){return n=Re(n),BW(n)}function ZW(n){return n=Re(n),FW(n)}function _x(n,e){return n=Re(n),qW(n,e)}function JW(n,e){return q2(n,e)}function eY(n,e,t,r={}){HW(n,e,t,r)}function tY(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new OT(t,r,i,e,Js)}function nY(){Ks(new si($W,tY,"PUBLIC").setMultipleInstances(!0)),Vr(gx,yx,""),Vr(gx,yx,"esm2017")}nY();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Gm(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Gm(r,this,this._ref))},t)}on(e,t,r,i){let o;return t&&(typeof t=="function"?o=l=>t(new Gm(l,this,this._ref)):o={next:t.next?l=>t.next(new Gm(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class Ex{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Hs(e,this._service))}get items(){return this._delegate.items.map(e=>new Hs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=JW(this._delegate,e);return new Hs(t,this.storage)}get root(){return new Hs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Hs(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new vx(GW(this._delegate,e,t),this)}putString(e,t=ri.RAW,r){this._throwIfRoot("putString");const i=k2(t,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new vx(new F2(this._delegate,new Us(i.data,!0),o),this)}listAll(){return QW(this._delegate).then(e=>new Ex(e,this.storage))}list(e){return YW(this._delegate,e||void 0).then(t=>new Ex(t,this.storage))}getMetadata(){return KW(this._delegate)}updateMetadata(e){return WW(this._delegate,e)}getDownloadURL(){return XW(this._delegate)}delete(){return this._throwIfRoot("delete"),ZW(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw x2(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bx(e))throw lc("ref() expected a child path but got a URL, use refFromURL instead.");return new Hs(_x(this._delegate,e),this)}refFromURL(e){if(!bx(e))throw lc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Kn.makeFromUrl(e,this._delegate.host)}catch{throw lc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hs(_x(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){eY(this._delegate,e,t,r)}}function bx(n){return/^[A-Za-z]+:\/\//.test(n)}const rY="@firebase/storage-compat",iY="0.3.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY="storage-compat";function aY(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new $2(t,r)}function oY(n){const e={TaskState:sr,TaskEvent:OW,StringFormat:ri,Storage:$2,Reference:Hs};n.INTERNAL.registerComponent(new si(sY,aY,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(rY,iY)}oY(jl);const lY={apiKey:"AIzaSyCB2i8dRMwHg6uOQ6QiKw-d4N2M2IuIoMs",authDomain:"clone-3147d.firebaseapp.com",projectId:"clone-3147d",storageBucket:"clone-3147d.firebasestorage.app",messagingSenderId:"35126180913",appId:"1:35126180913:web:da8ccefe263fecb9b7e910"},kT=jl.initializeApp(lY),sy=wH(kT),G2=kT.firestore();kT.storage();const uY=()=>{var i;const[{user:n,basket:e},t]=W.useContext(Zs),r=e.reduce((o,l)=>l.amount+o,0);return V.jsxs("div",{className:Ui.outer_wrapper,children:[V.jsx("section",{children:V.jsxs("div",{className:Ui.header_container,children:[V.jsxs("div",{className:Ui.logo_container,children:[V.jsx(yi,{to:"/",children:V.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),V.jsxs("div",{className:Ui.delivery,children:[V.jsx("span",{children:V.jsx(E3,{})}),V.jsxs("div",{children:[V.jsx("p",{children:" Delivered to"}),V.jsx("span",{children:" Ethiopia "})]})]})]}),V.jsxs("div",{className:Ui.search,children:[V.jsx("select",{name:"",id:"",children:V.jsx("option",{value:"",children:"All"})}),V.jsx("input",{type:"text"}),V.jsx(b3,{size:37})]}),V.jsxs("div",{className:Ui.order_container,children:[V.jsxs(yi,{to:"",className:Ui.language,children:[V.jsx("img",{src:" https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:"US flag"}),V.jsx("select",{name:"",id:"",children:V.jsx("option",{value:"",children:"EN"})})]}),V.jsxs(yi,{to:!n&&"/auth",children:[" ",V.jsx("div",{children:n?V.jsxs(V.Fragment,{children:[V.jsxs("p",{children:[" Hello ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]," "]}),V.jsx("span",{onClick:()=>sy.signOut(),children:"Sign Out "})]}):V.jsxs(V.Fragment,{children:[V.jsx("p",{children:" Hello, Sign In"}),V.jsx("span",{children:"Account & Lists"})]})})]}),V.jsxs(yi,{to:"/orders",children:[V.jsx("p",{children:"Returns"}),V.jsx("span",{children:"& Orders"})]}),V.jsxs(yi,{to:"/cart",className:Ui.cart,children:[V.jsx(w3,{size:25}),V.jsx("span",{children:r})]})]})]})}),V.jsx(S3,{})]})};function cY(n){return Bl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(n)}const hY="_footer_1j704_1",dY="_backToTop_1j704_17",fY="_footerLinks_1j704_39",pY="_column_1j704_53",mY="_footer__container_1j704_103",gY="_bottomFooter_1j704_119",yY="_amazonLogoLink_1j704_137",_Y="_options_1j704_157",vY="_btn__language_1j704_187",EY="_usd_1j704_201",bY="_country_1j704_203",wY="_flag_1j704_233",qn={footer:hY,backToTop:dY,footerLinks:fY,column:pY,footer__container:mY,bottomFooter:gY,amazonLogoLink:yY,options:_Y,btn__language:vY,usd:EY,country:bY,flag:wY},TY=()=>V.jsxs("footer",{className:qn.footer,children:[V.jsx("div",{className:qn.backToTop,children:V.jsx("a",{href:"#top",children:"Back to top"})}),V.jsxs("div",{className:qn.footerLinks,children:[V.jsxs("div",{className:qn.column,children:[V.jsx("h4",{children:"Get to Know Us"}),V.jsx("a",{href:"#",children:"Careers"}),V.jsx("a",{href:"#",children:"Blog"}),V.jsx("a",{href:"#",children:"About Amazon"}),V.jsx("a",{href:"#",children:"Investor Relations"}),V.jsx("a",{href:"#",children:"Amazon Devices"}),V.jsx("a",{href:"#",children:"Amazon Science"})]}),V.jsxs("div",{className:qn.column,children:[V.jsx("h4",{children:"Make Money with Us"}),V.jsx("a",{href:"#",children:"Sell on Amazon"}),V.jsx("a",{href:"#",children:"Sell on Amazon Business"}),V.jsx("a",{href:"#",children:"Sell apps on Amazon "}),V.jsx("a",{href:"#",children:"Become an Affiliate"}),V.jsx("a",{href:"#",children:"Advertise Your Products"}),V.jsx("a",{href:"#",children:"Self-Publish with Us"}),V.jsx("a",{href:"#",children:"Host an Amazon Hub"}),V.jsx("a",{href:"#",children:"See More"})]}),V.jsxs("div",{className:qn.column,children:[V.jsx("h4",{children:"Amazon Payment Products"}),V.jsx("a",{href:"#",children:"Amazon Business Card"}),V.jsx("a",{href:"#",children:"Shop with Points"}),V.jsx("a",{href:"#",children:"Reload Your Balance"}),V.jsx("a",{href:"#",children:"Amazon Currency Converter"})]}),V.jsxs("div",{className:qn.column,children:[V.jsx("h4",{children:"Let Us Help You"}),V.jsx("a",{href:"#",children:"Amazon and COVID-19"}),V.jsx("a",{href:"#",children:"Your Account"}),V.jsx("a",{href:"#",children:"Your Orders"}),V.jsx("a",{href:"#",children:"Shipping Rates & Policies"}),V.jsx("a",{href:"#",children:"Returns & Replacements"}),V.jsx("a",{href:"#",children:"Manage Your Content and Devices"}),V.jsx("a",{href:"#",children:"Help"})]})]}),V.jsx("div",{className:qn.footer__container,children:V.jsxs("div",{className:qn.bottomFooter,children:[V.jsx("a",{href:"/",className:qn.amazonLogoLink,children:V.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:""})}),V.jsxs("div",{className:qn.options,children:[V.jsxs("button",{className:qn.btn__language,children:[" ",V.jsx(cY,{size:15,className:qn.svg})," ",V.jsx("span",{children:" English"})]}),V.jsx("button",{className:qn.usd,children:" $ USD - U.S. Dollar"}),V.jsxs("button",{className:qn.country,children:[V.jsx("img",{src:"https://flagcdn.com/w40/us.png",alt:"United States Flag",className:qn.flag}),V.jsx("span",{children:" United States"})]})]})]})})]}),nh=({children:n})=>V.jsxs("div",{children:[V.jsx(uY,{}),n,V.jsx(TY,{})]}),SY=()=>V.jsxs(nh,{children:[V.jsx(RU,{}),V.jsx(kU,{}),V.jsx(n3,{})]}),AY="_payment_header_tpe3i_1",RY="_payment_tpe3i_1",IY="_flex_tpe3i_19",CY="_payment__card__container_tpe3i_47",xY="_payment__price_tpe3i_55",PY="_payment__details_tpe3i_71",OY="_loader_tpe3i_95",Ms={payment_header:AY,payment:RY,flex:IY,payment__card__container:CY,payment__price:xY,payment__details:PY,loader:OY};function wx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(t),!0).forEach(function(r){K2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vg=function(e){return typeof e}:vg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(n)}function K2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W2(n,e){return kY(n)||DY(n,e)||NY(n,e)||MY()}function kY(n){if(Array.isArray(n))return n}function DY(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,l,c;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}return r}}function NY(n,e){if(n){if(typeof n=="string")return Sx(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sx(n,e)}}function Sx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function MY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Cr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var l=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,o])},gb=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},Vc=function(e){return e!==null&&vg(e)==="object"},VY=function(e){return Vc(e)&&typeof e.then=="function"},LY=function(e){return Vc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Ax="[object Object]",UY=function n(e,t){if(!Vc(e)||!Vc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===Ax,l=Object.prototype.toString.call(t)===Ax;if(o!==l)return!1;if(!o&&!r)return e===t;var c=Object.keys(e),d=Object.keys(t);if(c.length!==d.length)return!1;for(var f={},g=0;g<c.length;g+=1)f[c[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==c.length)return!1;var T=e,w=t,R=function(U){return n(T[U],w[U])};return v.every(R)},Y2=function(e,t,r){return Vc(e)?Object.keys(e).reduce(function(i,o){var l=!Vc(t)||!UY(e[o],t[o]);return r.includes(o)?(l&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):l?Tx(Tx({},i||{}),{},K2({},o,e[o])):i},null):null},Q2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Rx=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q2;if(e===null||LY(e))return e;throw new Error(t)},BY=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q2;if(VY(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return Rx(i,t)})};var r=Rx(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},FY=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.1.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},v_=Ke.createContext(null);v_.displayName="ElementsContext";var X2=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Z2=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return BY(t)},[t]),l=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),c=W2(l,2),d=c[0],f=c[1];Ke.useEffect(function(){var v=!0,T=function(R){f(function(C){return C.stripe?C:{stripe:R,elements:R.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&T(w)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){v=!1}},[o,d,r]);var g=gb(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=gb(r);return Ke.useEffect(function(){if(d.elements){var v=Y2(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Ke.useEffect(function(){FY(d.stripe)},[d.stripe]),Ke.createElement(v_.Provider,{value:d},i)};Z2.propTypes={stripe:Dt.any,options:Dt.object};var jY=function(e){var t=Ke.useContext(v_);return X2(t,e)},zY=function(){var e=jY("calls useElements()"),t=e.elements;return t};Dt.func.isRequired;var J2=Ke.createContext(null);J2.displayName="CheckoutSdkContext";var qY=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},HY=Ke.createContext(null);HY.displayName="CheckoutContext";Dt.any,Dt.shape({clientSecret:Dt.string.isRequired,elementsOptions:Dt.object}).isRequired;var yb=function(e){var t=Ke.useContext(J2),r=Ke.useContext(v_);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?qY(t,e):X2(r,e)},$Y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ln=function(e,t){var r="".concat($Y(e),"Element"),i=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,T=d.onBlur,w=d.onFocus,R=d.onReady,C=d.onChange,U=d.onEscape,L=d.onClick,B=d.onLoadError,H=d.onLoaderStart,j=d.onNetworksChange,$=d.onConfirm,M=d.onCancel,x=d.onShippingAddressChange,I=d.onShippingRateChange,b=yb("mounts <".concat(r,">")),P="elements"in b?b.elements:null,O="checkoutSdk"in b?b.checkoutSdk:null,k=Ke.useState(null),te=W2(k,2),F=te[0],ee=te[1],ie=Ke.useRef(null),ue=Ke.useRef(null);Cr(F,"blur",T),Cr(F,"focus",w),Cr(F,"escape",U),Cr(F,"click",L),Cr(F,"loaderror",B),Cr(F,"loaderstart",H),Cr(F,"networkschange",j),Cr(F,"confirm",$),Cr(F,"cancel",M),Cr(F,"shippingaddresschange",x),Cr(F,"shippingratechange",I),Cr(F,"change",C);var Te;R&&(e==="expressCheckout"?Te=R:Te=function(){R(F)}),Cr(F,"ready",Te),Ke.useLayoutEffect(function(){if(ie.current===null&&ue.current!==null&&(P||O)){var ae=null;O?ae=O.createElement(e,v):P&&(ae=P.create(e,v)),ie.current=ae,ee(ae),ae&&ae.mount(ue.current)}},[P,O,v]);var q=gb(v);return Ke.useEffect(function(){if(ie.current){var ae=Y2(v,q,["paymentRequest"]);ae&&"update"in ie.current&&ie.current.update(ae)}},[v,q]),Ke.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),Ke.createElement("div",{id:f,className:g,ref:ue})},o=function(d){yb("mounts <".concat(r,">"));var f=d.id,g=d.className;return Ke.createElement("div",{id:f,className:g})},l=t?o:i;return l.propTypes={id:Dt.string,className:Dt.string,onChange:Dt.func,onBlur:Dt.func,onFocus:Dt.func,onReady:Dt.func,onEscape:Dt.func,onClick:Dt.func,onLoadError:Dt.func,onLoaderStart:Dt.func,onNetworksChange:Dt.func,onConfirm:Dt.func,onCancel:Dt.func,onShippingAddressChange:Dt.func,onShippingRateChange:Dt.func,options:Dt.object},l.displayName=r,l.__elementType=e,l},un=typeof window>"u",GY=Ke.createContext(null);GY.displayName="EmbeddedCheckoutProviderContext";var KY=function(){var e=yb("calls useStripe()"),t=e.stripe;return t};ln("auBankAccount",un);var Ix=ln("card",un);ln("cardNumber",un);ln("cardExpiry",un);ln("cardCvc",un);ln("fpxBank",un);ln("iban",un);ln("idealBank",un);ln("p24Bank",un);ln("epsBank",un);ln("payment",un);ln("expressCheckout",un);ln("currencySelector",un);ln("paymentRequestButton",un);ln("linkAuthentication",un);ln("address",un);ln("shippingAddress",un);ln("paymentMethodMessaging",un);ln("affirmMessage",un);ln("afterpayClearpayMessage",un);const WY=Ct.create({baseURL:" https://amazon-api-deployment-ojd9.onrender.com/"}),YY=()=>{const[{user:n,basket:e},t]=W.useContext(Zs),r=e==null?void 0:e.reduce((w,R)=>R.amount+w,0),i=e.reduce((w,R)=>R.price*R.amount+w,0),[o,l]=W.useState(null),[c,d]=W.useState(!1),f=KY(),g=zY(),_=oy(),v=w=>{var R,C;console.log(w),(R=w==null?void 0:w.error)!=null&&R.message?l((C=w==null?void 0:w.error)==null?void 0:C.message):l("")},T=async w=>{var R;w.preventDefault();try{d(!0);const U=(R=(await WY({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:R.clientSecret,{paymentIntent:L}=await f.confirmCardPayment(U,{payment_method:{card:g.getElement(Ix)}});console.log(L),await G2.collection("users").doc(n.uid).collection("orders").doc(L.id).set({basket:e,amount:L.amount,created:L.created}),t({type:Wi.EMPTY_BASKET}),d(!1),_("/orders",{state:{img:"You have placed new order"}})}catch(C){console.log(C),d(!1)}};return V.jsxs(nh,{children:[V.jsxs("div",{className:Ms.payment_header,children:["Checkout (",r,") items"," "]}),V.jsxs("section",{className:Ms.payment,children:[V.jsxs("div",{className:Ms.flex,children:[V.jsx("h3",{children:" Delivery Address"}),V.jsxs("div",{children:[V.jsx("div",{children:n==null?void 0:n.email}),V.jsx("div",{children:"123 Tabor Sub-City"}),V.jsx("div",{children:" Hawassa, Ethiopia"})]})]}),V.jsx("hr",{}),V.jsxs("div",{className:Ms.flex,children:[V.jsx("h3",{children:" Review Items and delivery"}),V.jsx("div",{children:e==null?void 0:e.map(w=>V.jsx(zc,{product:w,flex:!0}))})]}),V.jsx("hr",{}),V.jsxs("div",{className:Ms.flex,children:[V.jsx("h3",{children:" Payment Method"}),V.jsx("div",{className:Ms.payment__card__container,children:V.jsx("div",{className:Ms.payment__details,children:V.jsxs("form",{onSubmit:T,children:[o&&V.jsxs("small",{style:{color:"red"},children:[o," "]}),V.jsx(Ix,{onChange:v}),V.jsxs("div",{className:Ms.payment__price,children:[V.jsx("div",{children:V.jsxs("span",{style:{display:"flex",gap:"5px"},children:[V.jsx("p",{children:" Total Order | "})," ",V.jsx(jb,{amount:i})]})}),V.jsx("button",{type:"submit",children:c?V.jsxs("div",{className:Ms.loader,children:[V.jsx(IE,{color:"gray",size:12}),V.jsx("p",{children:" Please wait ..."})]}):"Pay Now"})]})]})})})]})]})]})},QY="_container_1kvdt_1",XY="_order__container_1kvdt_9",Cx={container:QY,order__container:XY},ZY=()=>{const[{user:n},e]=W.useContext(Zs),[t,r]=W.useState([]);return W.useEffect(()=>{n?G2.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),V.jsx(nh,{children:V.jsx("section",{className:`${Cx.container}`,children:V.jsxs("div",{className:`${Cx.order__container}`,children:[V.jsx("h2",{children:"Your Orders "}),(t==null?void 0:t.length)==0&&V.jsx("div",{children:" You don't have orders. "}),V.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var l,c;return V.jsxs("div",{children:[V.jsx("hr",{}),V.jsxs("p",{children:[" Order ID: ",i==null?void 0:i.id]}),(c=(l=i==null?void 0:i.data)==null?void 0:l.basket)==null?void 0:c.map(d=>V.jsx(zc,{product:d,flex:!0},d.id))]},o)})})]})})})},JY="_cart_container_1hzhp_1",eQ="_cart_items_1hzhp_25",tQ="_cart_total_1hzhp_59",nQ="_cart_product_1hzhp_121",rQ="_btn_container_1hzhp_143",iQ="_btn_1hzhp_143",al={cart_container:JY,cart_items:eQ,cart_total:tQ,cart_product:nQ,btn_container:rQ,btn:iQ};function sQ(n){return Bl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function aQ(n){return Bl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}const oQ=()=>{const[{basket:n,user:e},t]=W.useContext(Zs),r=n.reduce((l,c)=>c.price*c.amount+l,0),i=l=>{t({type:Wi.ADD_TO_BASKET,item:l})},o=l=>{t({type:Wi.REMOVE_FROM_BASKET,id:l})};return V.jsx(nh,{children:V.jsxs("section",{className:al.cart_container,children:[V.jsxs("div",{className:al.cart_items,children:[V.jsx("h2",{children:" Hello "}),V.jsx("h3",{children:" Your shopping basket "}),V.jsx("hr",{}),(n==null?void 0:n.length)===0?V.jsx("h3",{children:" Your basket is empty "}):n==null?void 0:n.map(l=>V.jsxs("section",{className:al.cart_product,children:[V.jsx(zc,{product:l,renderDesc:!0,renderAdd:!1,flex:!0},l.id),V.jsxs("div",{className:al.btn_container,children:[V.jsx("button",{className:al.btn,onClick:()=>i(l),children:V.jsx(aQ,{size:20})}),V.jsx("span",{children:l.amount}),V.jsx("button",{className:al.btn,onClick:()=>o(l.id),children:V.jsx(sQ,{size:20})})]})]}))]}),(n==null?void 0:n.length)!==0&&V.jsxs("div",{className:al.cart_total,children:[V.jsxs("div",{children:[V.jsxs("p",{children:[" Subtotal (",n==null?void 0:n.length," items)"]}),V.jsx(jb,{amount:r})]}),V.jsxs("span",{children:[V.jsx("input",{type:"checkbox"}),V.jsx("small",{children:" This order contains a gift "})]}),V.jsx(yi,{to:"/Payment",children:" Continue to checkout "})]})]})})},eM="https://fakestoreapi.com",lQ=()=>{const{productId:n}=zx(),[e,t]=W.useState({}),[r,i]=W.useState(!1);return W.useEffect(()=>{console.log("Fetching product data for ID:",n),!(!n||e.id)&&(i(!0),Ct.get(`${eM}/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.error("Error fetching product:",o)}).finally(()=>{i(!1)}))},[n,e.id]),V.jsx(nh,{children:r?V.jsx(qb,{}):e&&e.id?V.jsx(zc,{product:e,flex:!0,renderDesc:!0,renderAdd:!0}):V.jsx("p",{children:"Product not found"})})},uQ="_products_container_j1yg8_1",cQ={products_container:uQ},hQ=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(!1),{categoryName:i}=zx();return W.useEffect(()=>{r(!0),Ct.get(`${eM}/products/category/${i}`).then(o=>{e(o.data),r(!1),console.log(o)}).catch(o=>{console.log(o),r(!1)})},[]),V.jsx(nh,{children:t?V.jsx(qb,{}):V.jsxs("div",{children:[V.jsx("h1",{style:{padding:"30px"},children:" Results"}),V.jsxs("p",{style:{padding:"30px"},children:[" Category/",i]}),V.jsx("hr",{}),V.jsx("div",{className:cQ.products_container,children:n==null?void 0:n.map(o=>V.jsx(zc,{product:o,renderDesc:!1,renderAdd:!0},o.id))})]})})},dQ="_login_6m4hi_9",fQ="_login_container_6m4hi_35",pQ="_btn_signIn_6m4hi_121",mQ="_terms_links_6m4hi_145",gQ="_help_6m4hi_179",yQ="_help_hr_6m4hi_203",_Q="_buying_for_work_6m4hi_209",vQ="_newToAmazon_container_6m4hi_245",EQ="_newToAmazon_6m4hi_245",bQ="_btn_createAccount_6m4hi_291",wQ="_create_account_hr_6m4hi_345",TQ="_footer_links_container_6m4hi_359",SQ="_copy_right_6m4hi_407",dr={login:dQ,login_container:fQ,btn_signIn:pQ,terms_links:mQ,help:gQ,help_hr:yQ,buying_for_work:_Q,newToAmazon_container:vQ,newToAmazon:EQ,btn_createAccount:bQ,create_account_hr:wQ,footer_links_container:TQ,copy_right:SQ};function xx(){var T;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[l,c]=W.useState({signIn:!1,signUp:!1}),[{user:d},f]=W.useContext(Zs),g=oy(),_=Eo();console.log(d);const v=async w=>{c({...l,signIn:!0}),w.preventDefault(),console.log(w.target.name),w.target.name==="Signin"?hk(sy,n,t).then(R=>{var C;console.log(R),f({type:"SET_USER",user:R.user}),c({...l,signIn:!1}),g(((C=_==null?void 0:_.state)==null?void 0:C.redirect)||"/")}).catch(R=>{o(R.message),c({...l,signIn:!1})}):(c({...l,signUp:!0}),ck(sy,n,t).then(R=>{var C;o(err.message),f({type:Type.SET_USER,user:R.user}),c({...l,signUp:!1}),g(((C=_==null?void 0:_.state)==null?void 0:C.redirect)||"/")}).catch(R=>{o(R.message),c({...l,signUp:!1})}))};return V.jsxs("section",{className:dr.login,children:[V.jsx(yi,{to:"/",children:V.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon Logo",className:dr.logo})}),V.jsxs("div",{className:dr.login_container,children:[V.jsx("h1",{children:" Sign in"}),((T=_==null?void 0:_.state)==null?void 0:T.msg)&&V.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:_.state.msg}),V.jsxs("form",{action:"",children:[V.jsxs("div",{children:[V.jsx("label",{htmlFor:"email",children:" Email"}),V.jsx("input",{value:n,onChange:w=>e(w.target.value),type:"email",id:"email",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"password",children:" Password"}),V.jsx("input",{value:t,onChange:w=>r(w.target.value),type:"password",id:"password",required:!0})]}),V.jsx("button",{type:"submit",name:"Signin",onClick:v,className:dr.btn_signIn,children:l.signIn?V.jsx(IE,{color:"#007185",size:20}):"Sign In"})]}),V.jsxs("p",{className:dr.terms_links,children:["By continuing, you agree to Amazon's Fake",V.jsx("a",{href:"#",style:{textDecoration:"underline",color:"#007185"},children:"  Conditions of Use "}),"and ",V.jsx("a",{href:"#",style:{textDecoration:"underline",color:"#007185"},children:" Privacy Notice"})]}),V.jsx("a",{children:V.jsx("p",{className:dr.help,children:" Need help?"})}),V.jsx("hr",{className:dr.help_hr}),V.jsxs("p",{className:dr.buying_for_work,children:[" Buying for Work?",V.jsx("br",{}),V.jsx("a",{children:" Shop on Amazon Business"})]})]}),V.jsx("div",{className:dr.newToAmazon_container,children:V.jsx("span",{className:dr.newToAmazon,children:" New to Amazon? "})}),V.jsx("button",{type:"submit",name:"SignUp",onClick:v,className:dr.btn_createAccount,children:l.signUp?V.jsx(IE,{color:"#007185",size:20}):" Create your Amazon Account"}),i&&V.jsxs("small",{style:{paddingTop:"7px",color:"red"},children:[" ",i," "]}),V.jsx("hr",{className:dr.create_account_hr}),V.jsxs("div",{className:dr.footer_links_container,children:[V.jsxs("div",{children:[" ",V.jsx("a",{children:" condition of Use"})]}),V.jsxs("div",{children:[" ",V.jsx("a",{children:" Privacy Notice"})]}),V.jsxs("div",{children:[" ",V.jsx("a",{children:" Help"})]})]}),V.jsx("p",{className:dr.copy_right,children:"© 1996-2025, Amazon.com, Inc. or its affiliates"})]})}var tM="https://js.stripe.com",AQ="".concat(tM,"/v3"),RQ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,IQ=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var CQ=function(e){return RQ.test(e)||IQ.test(e)},xQ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(tM,'"]')),t=0;t<e.length;t++){var r=e[t];if(CQ(r.src))return r}return null},Px=function(e){var t="",r=document.createElement("script");r.src="".concat(AQ).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},PQ=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.7.0",startTime:t})},kd=null,Km=null,Wm=null,OQ=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},kQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},DQ=function(e){return kd!==null?kd:(kd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=xQ();if(!(i&&e)){if(!i)i=Px(e);else if(i&&Wm!==null&&Km!==null){var o;i.removeEventListener("load",Wm),i.removeEventListener("error",Km),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=Px(e)}}Wm=kQ(t,r),Km=OQ(r),i.addEventListener("load",Wm),i.addEventListener("error",Km)}catch(l){r(l);return}}),kd.catch(function(t){return kd=null,Promise.reject(t)}))},NQ=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return PQ(i,r),i},Dd,nM=!1,rM=function(){return Dd||(Dd=DQ(null).catch(function(e){return Dd=null,Promise.reject(e)}),Dd)};Promise.resolve().then(function(){return rM()}).catch(function(n){nM||console.warn(n)});var MQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];nM=!0;var i=Date.now();return rM().then(function(o){return NQ(o,t,i)})};const Ox=({children:n,msg:e,redirect:t})=>{const r=oy(),[{user:i},o]=W.useContext(Zs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},VQ=MQ("pk_test_51QwkXDAwsVVf7WtstCLULoxsyCWHFPiotYWv4mLAaj4WUHNxJLDVq9mpxJ4Ve3lsygIAliYPSnCDIzHehN0FHVk000c8WRuJxC"),LQ=()=>V.jsx(XL,{children:V.jsxs(IL,{children:[V.jsx(Vs,{path:"/",element:V.jsx(SY,{})}),V.jsx(Vs,{path:"/auth",element:V.jsx(xx,{})}),V.jsx(Vs,{path:"/payment",element:V.jsx(Ox,{msg:"You must login to pay",redirect:"/payment",children:V.jsx(Z2,{stripe:VQ,children:V.jsx(YY,{})})})}),V.jsx(Vs,{path:"/orders",element:V.jsx(Ox,{msg:"You must login to see your orders",redirect:"/orders",children:V.jsx(ZY,{})})}),V.jsx(Vs,{path:"/cart",element:V.jsx(oQ,{})}),V.jsx(Vs,{path:"/category/:categoryName",element:V.jsx(hQ,{})}),V.jsx(Vs,{path:"/products/:productId",element:V.jsx(lQ,{})}),V.jsx(Vs,{path:"signup",element:V.jsx(xx,{})})]})});function UQ(){const[{user:n},e]=W.useContext(Zs);return W.useEffect(()=>{sy.onAuthStateChanged(t=>{e(t?{type:Wi.SET_USER,user:t}:{type:Wi.SET_USER,user:null})})},[]),V.jsx(V.Fragment,{children:V.jsx(LQ,{})})}LV.createRoot(document.getElementById("root")).render(V.jsx(V.Fragment,{children:V.jsx(Kj,{reducer:Gj,initialState:$j,children:V.jsx(UQ,{})})}));

function AV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function yb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var y0={exports:{}},ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function RV(){if(DR)return ad;DR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return ad.Fragment=e,ad.jsx=t,ad.jsxs=t,ad}var NR;function IV(){return NR||(NR=1,y0.exports=RV()),y0.exports}var V=IV(),_0={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR;function CV(){if(MR)return Le;MR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function x(q,ae,be){this.props=q,this.context=ae,this.refs=R,this.updater=be||T}x.prototype.isReactComponent={},x.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function B(){}B.prototype=x.prototype;function L(q,ae,be){this.props=q,this.context=ae,this.refs=R,this.updater=be||T}var U=L.prototype=new B;U.constructor=L,w(U,x.prototype),U.isPureReactComponent=!0;var H=Array.isArray,j={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function M(q,ae,be,ve,ye,Oe){return be=Oe.ref,{$$typeof:n,type:q,key:ae,ref:be!==void 0?be:null,props:Oe}}function C(q,ae){return M(q.type,ae,void 0,void 0,void 0,q.props)}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function b(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(be){return ae[be]})}var P=/\/+/g;function O(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?b(""+q.key):ae.toString(36)}function k(){}function te(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(k,k):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function F(q,ae,be,ve,ye){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var ke=!1;if(q===null)ke=!0;else switch(Oe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(q.$$typeof){case n:case e:ke=!0;break;case g:return ke=q._init,F(ke(q._payload),ae,be,ve,ye)}}if(ke)return ye=ye(q),ke=ve===""?"."+O(q,0):ve,H(ye)?(be="",ke!=null&&(be=ke.replace(P,"$&/")+"/"),F(ye,ae,be,"",function(_t){return _t})):ye!=null&&(I(ye)&&(ye=C(ye,be+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+ke)),ae.push(ye)),1;ke=0;var xt=ve===""?".":ve+":";if(H(q))for(var ze=0;ze<q.length;ze++)ve=q[ze],Oe=xt+O(ve,ze),ke+=F(ve,ae,be,Oe,ye);else if(ze=v(q),typeof ze=="function")for(q=ze.call(q),ze=0;!(ve=q.next()).done;)ve=ve.value,Oe=xt+O(ve,ze++),ke+=F(ve,ae,be,Oe,ye);else if(Oe==="object"){if(typeof q.then=="function")return F(te(q),ae,be,ve,ye);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ee(q,ae,be){if(q==null)return q;var ve=[],ye=0;return F(q,ve,"","",function(Oe){return ae.call(be,Oe,ye++)}),ve}function ie(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(be){(q._status===0||q._status===-1)&&(q._status=1,q._result=be)},function(be){(q._status===0||q._status===-1)&&(q._status=2,q._result=be)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Te(){}return Le.Children={map:ee,forEach:function(q,ae,be){ee(q,function(){ae.apply(this,arguments)},be)},count:function(q){var ae=0;return ee(q,function(){ae++}),ae},toArray:function(q){return ee(q,function(ae){return ae})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=L,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cloneElement=function(q,ae,be){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=w({},q.props),ye=q.key,Oe=void 0;if(ae!=null)for(ke in ae.ref!==void 0&&(Oe=void 0),ae.key!==void 0&&(ye=""+ae.key),ae)!$.call(ae,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ae.ref===void 0||(ve[ke]=ae[ke]);var ke=arguments.length-2;if(ke===1)ve.children=be;else if(1<ke){for(var xt=Array(ke),ze=0;ze<ke;ze++)xt[ze]=arguments[ze+2];ve.children=xt}return M(q.type,ye,void 0,void 0,Oe,ve)},Le.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,ae,be){var ve,ye={},Oe=null;if(ae!=null)for(ve in ae.key!==void 0&&(Oe=""+ae.key),ae)$.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ye[ve]=ae[ve]);var ke=arguments.length-2;if(ke===1)ye.children=be;else if(1<ke){for(var xt=Array(ke),ze=0;ze<ke;ze++)xt[ze]=arguments[ze+2];ye.children=xt}if(q&&q.defaultProps)for(ve in ke=q.defaultProps,ke)ye[ve]===void 0&&(ye[ve]=ke[ve]);return M(q,Oe,void 0,void 0,null,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:h,render:q}},Le.isValidElement=I,Le.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ie}},Le.memo=function(q,ae){return{$$typeof:f,type:q,compare:ae===void 0?null:ae}},Le.startTransition=function(q){var ae=j.T,be={};j.T=be;try{var ve=q(),ye=j.S;ye!==null&&ye(be,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Te,ue)}catch(Oe){ue(Oe)}finally{j.T=ae}},Le.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Le.use=function(q){return j.H.use(q)},Le.useActionState=function(q,ae,be){return j.H.useActionState(q,ae,be)},Le.useCallback=function(q,ae){return j.H.useCallback(q,ae)},Le.useContext=function(q){return j.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,ae){return j.H.useDeferredValue(q,ae)},Le.useEffect=function(q,ae){return j.H.useEffect(q,ae)},Le.useId=function(){return j.H.useId()},Le.useImperativeHandle=function(q,ae,be){return j.H.useImperativeHandle(q,ae,be)},Le.useInsertionEffect=function(q,ae){return j.H.useInsertionEffect(q,ae)},Le.useLayoutEffect=function(q,ae){return j.H.useLayoutEffect(q,ae)},Le.useMemo=function(q,ae){return j.H.useMemo(q,ae)},Le.useOptimistic=function(q,ae){return j.H.useOptimistic(q,ae)},Le.useReducer=function(q,ae,be){return j.H.useReducer(q,ae,be)},Le.useRef=function(q){return j.H.useRef(q)},Le.useState=function(q){return j.H.useState(q)},Le.useSyncExternalStore=function(q,ae,be){return j.H.useSyncExternalStore(q,ae,be)},Le.useTransition=function(){return j.H.useTransition()},Le.version="19.0.0",Le}var VR;function _o(){return VR||(VR=1,_0.exports=CV()),_0.exports}var X=_o();const Ke=yb(X),uE=AV({__proto__:null,default:Ke},[X]);var v0={exports:{}},od={},E0={exports:{}},b0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR;function xV(){return LR||(LR=1,function(n){function e(ee,ie){var ue=ee.length;ee.push(ie);e:for(;0<ue;){var Te=ue-1>>>1,q=ee[Te];if(0<i(q,ie))ee[Te]=ie,ee[ue]=q,ue=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ue=ee.pop();if(ue!==ie){ee[0]=ue;e:for(var Te=0,q=ee.length,ae=q>>>1;Te<ae;){var be=2*(Te+1)-1,ve=ee[be],ye=be+1,Oe=ee[ye];if(0>i(ve,ue))ye<q&&0>i(Oe,ve)?(ee[Te]=Oe,ee[ye]=ue,Te=ye):(ee[Te]=ve,ee[be]=ue,Te=be);else if(ye<q&&0>i(Oe,ue))ee[Te]=Oe,ee[ye]=ue,Te=ye;else break e}}return ie}function i(ee,ie){var ue=ee.sortIndex-ie.sortIndex;return ue!==0?ue:ee.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,T=!1,w=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function U(ee){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=ee)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function H(ee){if(R=!1,U(ee),!w)if(t(d)!==null)w=!0,te();else{var ie=t(f);ie!==null&&F(H,ie.startTime-ee)}}var j=!1,$=-1,M=5,C=-1;function I(){return!(n.unstable_now()-C<M)}function b(){if(j){var ee=n.unstable_now();C=ee;var ie=!0;try{e:{w=!1,R&&(R=!1,B($),$=-1),T=!0;var ue=v;try{t:{for(U(ee),_=t(d);_!==null&&!(_.expirationTime>ee&&I());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,v=_.priorityLevel;var q=Te(_.expirationTime<=ee);if(ee=n.unstable_now(),typeof q=="function"){_.callback=q,U(ee),ie=!0;break t}_===t(d)&&r(d),U(ee)}else r(d);_=t(d)}if(_!==null)ie=!0;else{var ae=t(f);ae!==null&&F(H,ae.startTime-ee),ie=!1}}break e}finally{_=null,v=ue,T=!1}ie=void 0}}finally{ie?P():j=!1}}}var P;if(typeof L=="function")P=function(){L(b)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,k=O.port2;O.port1.onmessage=b,P=function(){k.postMessage(null)}}else P=function(){x(b,0)};function te(){j||(j=!0,P())}function F(ee,ie){$=x(function(){ee(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,te())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ue=v;v=ie;try{return ee()}finally{v=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=v;v=ee;try{return ie()}finally{v=ue}},n.unstable_scheduleCallback=function(ee,ie,ue){var Te=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Te+ue:Te):ue=Te,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,ee={id:g++,callback:ie,priorityLevel:ee,startTime:ue,expirationTime:q,sortIndex:-1},ue>Te?(ee.sortIndex=ue,e(f,ee),t(d)===null&&ee===t(f)&&(R?(B($),$=-1):R=!0,F(H,ue-Te))):(ee.sortIndex=q,e(d,ee),w||T||(w=!0,te())),ee},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(ee){var ie=v;return function(){var ue=v;v=ie;try{return ee.apply(this,arguments)}finally{v=ue}}}}(b0)),b0}var UR;function PV(){return UR||(UR=1,E0.exports=xV()),E0.exports}var w0={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR;function OV(){if(BR)return jn;BR=1;var n=_o();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},jn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},jn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jn.requestFormReset=function(d){r.d.r(d)},jn.unstable_batchedUpdates=function(d,f){return d(f)},jn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},jn.useFormStatus=function(){return u.H.useHostTransitionStatus()},jn.version="19.0.0",jn}var FR;function xx(){if(FR)return w0.exports;FR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),w0.exports=OV(),w0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR;function kV(){if(jR)return od;jR=1;var n=PV(),e=_o(),t=xx();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),T=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function C(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case f:return"StrictMode";case R:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case T:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case w:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return a=s.displayName||null,a!==null?a:C(s.type)||"Memo";case L:a=s._payload,s=s._init;try{return C(s(a))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.assign,P,O;function k(s){if(P===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||"",O=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+s+O}var te=!1;function F(s,a){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var J=le}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(le){J=le}s.call(fe.prototype)}}else{try{throw Error()}catch(le){J=le}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&J&&typeof le.stack=="string")return[le.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],D=y[1];if(A&&D){var z=A.split(`
`),K=D.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===K.length)for(c=z.length-1,m=K.length-1;1<=c&&0<=m&&z[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==K[m]){var ce=`
`+z[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?k(l):""}function ee(s){switch(s.tag){case 26:case 27:case 5:return k(s.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return s=F(s.type,!1),s;case 11:return s=F(s.type.render,!1),s;case 1:return s=F(s.type,!0),s;default:return""}}function ie(s){try{var a="";do a+=ee(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ue(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function Te(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function q(s){if(ue(s)!==s)throw Error(r(188))}function ae(s){var a=s.alternate;if(!a){if(a=ue(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return q(m),s;if(y===c)return q(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,D=m.child;D;){if(D===l){A=!0,l=m,c=y;break}if(D===c){A=!0,c=m,l=y;break}D=D.sibling}if(!A){for(D=y.child;D;){if(D===l){A=!0,l=y,c=m;break}if(D===c){A=!0,c=y,l=m;break}D=D.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function be(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=be(s),a!==null)return a;s=s.sibling}return null}var ve=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},ke=[],xt=-1;function ze(s){return{current:s}}function _t(s){0>xt||(s.current=ke[xt],ke[xt]=null,xt--)}function $e(s,a){xt++,ke[xt]=s.current,s.current=a}var wt=ze(null),Ze=ze(null),at=ze(null),en=ze(null);function vr(s,a){switch($e(at,a),$e(Ze,s),$e(wt,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?lR(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=lR(s),a=uR(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}_t(wt),$e(wt,a)}function Ln(){_t(wt),_t(Ze),_t(at)}function Ur(s){s.memoizedState!==null&&$e(en,s);var a=wt.current,l=uR(a,s.type);a!==l&&($e(Ze,s),$e(wt,l))}function Un(s){Ze.current===s&&(_t(wt),_t(Ze)),en.current===s&&(_t(en),td._currentValue=Oe)}var lr=Object.prototype.hasOwnProperty,li=n.unstable_scheduleCallback,Kl=n.unstable_cancelCallback,v_=n.unstable_shouldYield,nh=n.unstable_requestPaint,ur=n.unstable_now,sp=n.unstable_getCurrentPriorityLevel,cn=n.unstable_ImmediatePriority,_n=n.unstable_UserBlockingPriority,os=n.unstable_NormalPriority,ap=n.unstable_LowPriority,rh=n.unstable_IdlePriority,E_=n.log,Io=n.unstable_setDisableYieldValue,oa=null,Bn=null;function ih(s){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(oa,s,void 0,(s.current.flags&128)===128)}catch{}}function Ei(s){if(typeof E_=="function"&&Io(s),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(oa,s)}catch{}}var Xn=Math.clz32?Math.clz32:lp,sh=Math.log,op=Math.LN2;function lp(s){return s>>>=0,s===0?32:31-(sh(s)/op|0)|0}var bi=128,la=4194304;function ui(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Br(s,a){var l=s.pendingLanes;if(l===0)return 0;var c=0,m=s.suspendedLanes,y=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var D=l&134217727;return D!==0?(l=D&~m,l!==0?c=ui(l):(y&=D,y!==0?c=ui(y):s||(A=D&~A,A!==0&&(c=ui(A))))):(D=l&~m,D!==0?c=ui(D):y!==0?c=ui(y):s||(A=l&~A,A!==0&&(c=ui(A)))),c===0?0:a!==0&&a!==c&&!(a&m)&&(m=c&-c,A=a&-a,m>=A||m===32&&(A&4194176)!==0)?a:c}function ua(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Wl(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ah(){var s=bi;return bi<<=1,!(bi&4194176)&&(bi=128),s}function ca(){var s=la;return la<<=1,!(la&62914560)&&(la=4194304),s}function Yl(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Kt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function up(s,a,l,c,m,y){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var D=s.entanglements,z=s.expirationTimes,K=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-Xn(l),fe=1<<ce;D[ce]=0,z[ce]=-1;var J=K[ce];if(J!==null)for(K[ce]=null,ce=0;ce<J.length;ce++){var le=J[ce];le!==null&&(le.lane&=-536870913)}l&=~fe}c!==0&&ha(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function ha(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Xn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194218}function da(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Xn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function cp(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function hp(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:IR(s.type))}function fa(s,a){var l=ye.p;try{return ye.p=s,a()}finally{ye.p=l}}var wi=Math.random().toString(36).slice(2),vn="__reactFiber$"+wi,hn="__reactProps$"+wi,ls="__reactContainer$"+wi,Co="__reactEvents$"+wi,Ql="__reactListeners$"+wi,Ti="__reactHandles$"+wi,oh="__reactResources$"+wi,pa="__reactMarker$"+wi;function xo(s){delete s[vn],delete s[hn],delete s[Co],delete s[Ql],delete s[Ti]}function ci(s){var a=s[vn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[ls]||l[vn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=dR(s);s!==null;){if(l=s[vn])return l;s=dR(s)}return a}s=l,l=s.parentNode}return null}function us(s){if(s=s[vn]||s[ls]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ma(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function ga(s){var a=s[oh];return a||(a=s[oh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(s){s[pa]=!0}var lh=new Set,Xl={};function Er(s,a){cr(s,a),cr(s+"Capture",a)}function cr(s,a){for(Xl[s]=a,s=0;s<a.length;s++)lh.add(a[s])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uh={},ch={};function dp(s){return lr.call(ch,s)?!0:lr.call(uh,s)?!1:b_.test(s)?ch[s]=!0:(uh[s]=!0,!1)}function ya(s,a,l){if(dp(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function _a(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Fr(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}function Zn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fp(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function w_(s){var a=fp(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Po(s){s._valueTracker||(s._valueTracker=w_(s))}function hh(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=fp(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Zl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var cs=/[\n"\\]/g;function Ut(s){return s.replace(cs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function va(s,a,l,c,m,y,A,D){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Zn(a)):s.value!==""+Zn(a)&&(s.value=""+Zn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Jl(s,A,Zn(a)):l!=null?Jl(s,A,Zn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+Zn(D):s.removeAttribute("name")}function Oo(s,a,l,c,m,y,A,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Zn(l):"",a=a!=null?""+Zn(a):l,D||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=D?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Jl(s,a,l){a==="number"&&Zl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Je(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Zn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ko(s,a,l){if(a!=null&&(a=""+Zn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Zn(l):""}function Ea(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Zn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function jr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var T_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dh(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||T_.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function pp(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&dh(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&dh(s,y,a[y])}function fh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Si(s){return A_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var zr=null;function eu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var hs=null,ds=null;function fs(s){var a=us(s);if(a&&(s=a.stateNode)){var l=s[hn]||null;e:switch(s=a.stateNode,a.type){case"input":if(va(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ut(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[hn]||null;if(!m)throw Error(r(90));va(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&hh(c)}break e;case"textarea":ko(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Je(s,!!l.multiple,a,!1)}}}var ph=!1;function mp(s,a,l){if(ph)return s(a,l);ph=!0;try{var c=s(a);return c}finally{if(ph=!1,(hs!==null||ds!==null)&&(am(),hs&&(a=hs,s=ds,ds=hs=null,fs(a),s)))for(a=0;a<s.length;a++)fs(s[a])}}function Do(s,a){var l=s.stateNode;if(l===null)return null;var c=l[hn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var qr=!1;if(br)try{var No={};Object.defineProperty(No,"passive",{get:function(){qr=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{qr=!1}var Ai=null,ba=null,ps=null;function mh(){if(ps)return ps;var s,a=ba,l=a.length,c,m="value"in Ai?Ai.value:Ai.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var A=l-s;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return ps=m.slice(s,1<c?1-c:void 0)}function Ri(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ii(){return!0}function gh(){return!1}function En(s){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ii:gh,this.isPropagationStopped=gh,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=En(st),Mo=b({},st,{view:0,detail:0}),gp=En(Mo),nu,ru,Ci,Vo=b({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ci&&(Ci&&s.type==="mousemove"?(nu=s.screenX-Ci.screenX,ru=s.screenY-Ci.screenY):ru=nu=0,Ci=s),nu)},movementY:function(s){return"movementY"in s?s.movementY:ru}}),Hr=En(Vo),yp=b({},Vo,{dataTransfer:0}),R_=En(yp),Lo=b({},Mo,{relatedTarget:0}),iu=En(Lo),yh=b({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),su=En(yh),_p=b({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),au=En(_p),I_=b({},st,{data:0}),_h=En(I_),Uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ep[s])?!!a[s]:!1}function Bo(){return vh}var bp=b({},Mo,{key:function(s){if(s.key){var a=Uo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ri(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(s){return s.type==="keypress"?Ri(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ri(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ou=En(bp),wp=b({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=En(wp),ms=b({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),Tp=En(ms),Sp=b({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ap=En(Sp),Rp=b({},Vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lu=En(Rp),Jn=b({},st,{newState:0,oldState:0}),Ip=En(Jn),Cp=[9,13,27,32],xi=br&&"CompositionEvent"in window,p=null;br&&"documentMode"in document&&(p=document.documentMode);var E=br&&"TextEvent"in window&&!p,S=br&&(!xi||p&&8<p&&11>=p),N=" ",Y=!1;function re(s,a){switch(s){case"keyup":return Cp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function dn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Y=!0,N);case"textInput":return s=a.data,s===N&&Y?null:s;default:return null}}function Ye(s,a){if(We)return s==="compositionend"||!xi&&re(s,a)?(s=mh(),ps=ba=Ai=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!bn[s.type]:a==="textarea"}function gs(s,a,l,c){hs?ds?ds.push(c):ds=[c]:hs=c,a=hm(a,"onChange"),0<a.length&&(l=new tu("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var xn=null,Pi=null;function bh(s){rR(s,0)}function xp(s){var a=ma(s);if(hh(a))return s}function kT(s,a){if(s==="change")return a}var DT=!1;if(br){var C_;if(br){var x_="oninput"in document;if(!x_){var NT=document.createElement("div");NT.setAttribute("oninput","return;"),x_=typeof NT.oninput=="function"}C_=x_}else C_=!1;DT=C_&&(!document.documentMode||9<document.documentMode)}function MT(){xn&&(xn.detachEvent("onpropertychange",VT),Pi=xn=null)}function VT(s){if(s.propertyName==="value"&&xp(Pi)){var a=[];gs(a,Pi,s,eu(s)),mp(bh,a)}}function tM(s,a,l){s==="focusin"?(MT(),xn=a,Pi=l,xn.attachEvent("onpropertychange",VT)):s==="focusout"&&MT()}function nM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xp(Pi)}function rM(s,a){if(s==="click")return xp(a)}function iM(s,a){if(s==="input"||s==="change")return xp(a)}function sM(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var wr=typeof Object.is=="function"?Object.is:sM;function wh(s,a){if(wr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!lr.call(a,m)||!wr(s[m],a[m]))return!1}return!0}function LT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function UT(s,a){var l=LT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=LT(l)}}function BT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?BT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function FT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Zl(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Zl(s.document)}return a}function P_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function aM(s,a){var l=FT(a);a=s.focusedElem;var c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&BT(a.ownerDocument.documentElement,a)){if(c!==null&&P_(a)){if(s=c.start,l=c.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!l.extend&&y>c&&(m=c,c=y,y=m),m=UT(a,y);var A=UT(a,c);m&&A&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),l.removeAllRanges(),y>c?(l.addRange(s),l.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var oM=br&&"documentMode"in document&&11>=document.documentMode,uu=null,O_=null,Th=null,k_=!1;function jT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;k_||uu==null||uu!==Zl(c)||(c=uu,"selectionStart"in c&&P_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Th&&wh(Th,c)||(Th=c,c=hm(O_,"onSelect"),0<c.length&&(a=new tu("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=uu)))}function Fo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var cu={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},D_={},zT={};br&&(zT=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function jo(s){if(D_[s])return D_[s];if(!cu[s])return s;var a=cu[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in zT)return D_[s]=a[l];return s}var qT=jo("animationend"),HT=jo("animationiteration"),$T=jo("animationstart"),lM=jo("transitionrun"),uM=jo("transitionstart"),cM=jo("transitioncancel"),GT=jo("transitionend"),KT=new Map,WT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function hi(s,a){KT.set(s,a),Er(a,[s])}var $r=[],hu=0,N_=0;function Pp(){for(var s=hu,a=N_=hu=0;a<s;){var l=$r[a];$r[a++]=null;var c=$r[a];$r[a++]=null;var m=$r[a];$r[a++]=null;var y=$r[a];if($r[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&YT(l,m,y)}}function Op(s,a,l,c){$r[hu++]=s,$r[hu++]=a,$r[hu++]=l,$r[hu++]=c,N_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function M_(s,a,l,c){return Op(s,a,l,c),kp(s)}function wa(s,a){return Op(s,null,null,a),kp(s)}function YT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-Xn(l),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=l|536870912)}function kp(s){if(50<Wh)throw Wh=0,jv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var du={},QT=new WeakMap;function Gr(s,a){if(typeof s=="object"&&s!==null){var l=QT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ie(a)},QT.set(s,a),a)}return{value:s,source:a,stack:ie(a)}}var fu=[],pu=0,Dp=null,Np=0,Kr=[],Wr=0,zo=null,ys=1,_s="";function qo(s,a){fu[pu++]=Np,fu[pu++]=Dp,Dp=s,Np=a}function XT(s,a,l){Kr[Wr++]=ys,Kr[Wr++]=_s,Kr[Wr++]=zo,zo=s;var c=ys;s=_s;var m=32-Xn(c)-1;c&=~(1<<m),l+=1;var y=32-Xn(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,ys=1<<32-Xn(a)+m|l<<m|c,_s=y+s}else ys=1<<y|l<<m|c,_s=s}function V_(s){s.return!==null&&(qo(s,1),XT(s,1,0))}function L_(s){for(;s===Dp;)Dp=fu[--pu],fu[pu]=null,Np=fu[--pu],fu[pu]=null;for(;s===zo;)zo=Kr[--Wr],Kr[Wr]=null,_s=Kr[--Wr],Kr[Wr]=null,ys=Kr[--Wr],Kr[Wr]=null}var er=null,Pn=null,et=!1,di=null,Oi=!1,U_=Error(r(519));function Ho(s){var a=Error(r(418,""));throw Rh(Gr(a,s)),U_}function ZT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[vn]=s,a[hn]=c,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<Qh.length;l++)Ge(Qh[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),Oo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Po(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),Ea(a,c.value,c.defaultValue,c.children),Po(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||oR(a.textContent,l)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=dm),a=!0):a=!1,a||Ho(s)}function JT(s){for(er=s.return;er;)switch(er.tag){case 3:case 27:Oi=!0;return;case 5:case 13:Oi=!1;return;default:er=er.return}}function Sh(s){if(s!==er)return!1;if(!et)return JT(s),et=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||i0(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&Pn&&Ho(s),JT(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Pn=pi(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Pn=null}}else Pn=er?pi(s.stateNode.nextSibling):null;return!0}function Ah(){Pn=er=null,et=!1}function Rh(s){di===null?di=[s]:di.push(s)}var Ih=Error(r(460)),eS=Error(r(474)),B_={then:function(){}};function tS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Mp(){}function nS(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Mp,Mp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Ih?Error(r(483)):s;default:if(typeof a.status=="string")a.then(Mp,Mp);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Ih?Error(r(483)):s}throw Ch=a,Ih}}var Ch=null;function rS(){if(Ch===null)throw Error(r(459));var s=Ch;return Ch=null,s}var mu=null,xh=0;function Vp(s){var a=xh;return xh+=1,mu===null&&(mu=[]),nS(mu,s,a)}function Ph(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Lp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function iS(s){var a=s._init;return a(s._payload)}function sS(s){function a(W,G){if(s){var Z=W.deletions;Z===null?(W.deletions=[G],W.flags|=16):Z.push(G)}}function l(W,G){if(!s)return null;for(;G!==null;)a(W,G),G=G.sibling;return null}function c(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function m(W,G){return W=Na(W,G),W.index=0,W.sibling=null,W}function y(W,G,Z){return W.index=Z,s?(Z=W.alternate,Z!==null?(Z=Z.index,Z<G?(W.flags|=33554434,G):Z):(W.flags|=33554434,G)):(W.flags|=1048576,G)}function A(W){return s&&W.alternate===null&&(W.flags|=33554434),W}function D(W,G,Z,he){return G===null||G.tag!==6?(G=Dv(Z,W.mode,he),G.return=W,G):(G=m(G,Z),G.return=W,G)}function z(W,G,Z,he){var Se=Z.type;return Se===d?ce(W,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===L&&iS(Se)===G.type)?(G=m(G,Z.props),Ph(G,Z),G.return=W,G):(G=tm(Z.type,Z.key,Z.props,null,W.mode,he),Ph(G,Z),G.return=W,G)}function K(W,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Nv(Z,W.mode,he),G.return=W,G):(G=m(G,Z.children||[]),G.return=W,G)}function ce(W,G,Z,he,Se){return G===null||G.tag!==7?(G=el(Z,W.mode,he,Se),G.return=W,G):(G=m(G,Z),G.return=W,G)}function fe(W,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Dv(""+G,W.mode,Z),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return Z=tm(G.type,G.key,G.props,null,W.mode,Z),Ph(Z,G),Z.return=W,Z;case h:return G=Nv(G,W.mode,Z),G.return=W,G;case L:var he=G._init;return G=he(G._payload),fe(W,G,Z)}if(ve(G)||$(G))return G=el(G,W.mode,Z,null),G.return=W,G;if(typeof G.then=="function")return fe(W,Vp(G),Z);if(G.$$typeof===T)return fe(W,Zp(W,G),Z);Lp(W,G)}return null}function J(W,G,Z,he){var Se=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:D(W,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case u:return Z.key===Se?z(W,G,Z,he):null;case h:return Z.key===Se?K(W,G,Z,he):null;case L:return Se=Z._init,Z=Se(Z._payload),J(W,G,Z,he)}if(ve(Z)||$(Z))return Se!==null?null:ce(W,G,Z,he,null);if(typeof Z.then=="function")return J(W,G,Vp(Z),he);if(Z.$$typeof===T)return J(W,G,Zp(W,Z),he);Lp(W,Z)}return null}function le(W,G,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return W=W.get(Z)||null,D(G,W,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return W=W.get(he.key===null?Z:he.key)||null,z(G,W,he,Se);case h:return W=W.get(he.key===null?Z:he.key)||null,K(G,W,he,Se);case L:var Be=he._init;return he=Be(he._payload),le(W,G,Z,he,Se)}if(ve(he)||$(he))return W=W.get(Z)||null,ce(G,W,he,Se,null);if(typeof he.then=="function")return le(W,G,Z,Vp(he),Se);if(he.$$typeof===T)return le(W,G,Z,Zp(G,he),Se);Lp(G,he)}return null}function Ie(W,G,Z,he){for(var Se=null,Be=null,xe=G,Pe=G=0,Sn=null;xe!==null&&Pe<Z.length;Pe++){xe.index>Pe?(Sn=xe,xe=null):Sn=xe.sibling;var tt=J(W,xe,Z[Pe],he);if(tt===null){xe===null&&(xe=Sn);break}s&&xe&&tt.alternate===null&&a(W,xe),G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt,xe=Sn}if(Pe===Z.length)return l(W,xe),et&&qo(W,Pe),Se;if(xe===null){for(;Pe<Z.length;Pe++)xe=fe(W,Z[Pe],he),xe!==null&&(G=y(xe,G,Pe),Be===null?Se=xe:Be.sibling=xe,Be=xe);return et&&qo(W,Pe),Se}for(xe=c(xe);Pe<Z.length;Pe++)Sn=le(xe,W,Pe,Z[Pe],he),Sn!==null&&(s&&Sn.alternate!==null&&xe.delete(Sn.key===null?Pe:Sn.key),G=y(Sn,G,Pe),Be===null?Se=Sn:Be.sibling=Sn,Be=Sn);return s&&xe.forEach(function(ja){return a(W,ja)}),et&&qo(W,Pe),Se}function Ne(W,G,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,Be=null,xe=G,Pe=G=0,Sn=null,tt=Z.next();xe!==null&&!tt.done;Pe++,tt=Z.next()){xe.index>Pe?(Sn=xe,xe=null):Sn=xe.sibling;var ja=J(W,xe,tt.value,he);if(ja===null){xe===null&&(xe=Sn);break}s&&xe&&ja.alternate===null&&a(W,xe),G=y(ja,G,Pe),Be===null?Se=ja:Be.sibling=ja,Be=ja,xe=Sn}if(tt.done)return l(W,xe),et&&qo(W,Pe),Se;if(xe===null){for(;!tt.done;Pe++,tt=Z.next())tt=fe(W,tt.value,he),tt!==null&&(G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return et&&qo(W,Pe),Se}for(xe=c(xe);!tt.done;Pe++,tt=Z.next())tt=le(xe,W,Pe,tt.value,he),tt!==null&&(s&&tt.alternate!==null&&xe.delete(tt.key===null?Pe:tt.key),G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return s&&xe.forEach(function(SV){return a(W,SV)}),et&&qo(W,Pe),Se}function jt(W,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===d&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case u:e:{for(var Se=Z.key;G!==null;){if(G.key===Se){if(Se=Z.type,Se===d){if(G.tag===7){l(W,G.sibling),he=m(G,Z.props.children),he.return=W,W=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===L&&iS(Se)===G.type){l(W,G.sibling),he=m(G,Z.props),Ph(he,Z),he.return=W,W=he;break e}l(W,G);break}else a(W,G);G=G.sibling}Z.type===d?(he=el(Z.props.children,W.mode,he,Z.key),he.return=W,W=he):(he=tm(Z.type,Z.key,Z.props,null,W.mode,he),Ph(he,Z),he.return=W,W=he)}return A(W);case h:e:{for(Se=Z.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){l(W,G.sibling),he=m(G,Z.children||[]),he.return=W,W=he;break e}else{l(W,G);break}else a(W,G);G=G.sibling}he=Nv(Z,W.mode,he),he.return=W,W=he}return A(W);case L:return Se=Z._init,Z=Se(Z._payload),jt(W,G,Z,he)}if(ve(Z))return Ie(W,G,Z,he);if($(Z)){if(Se=$(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Ne(W,G,Z,he)}if(typeof Z.then=="function")return jt(W,G,Vp(Z),he);if(Z.$$typeof===T)return jt(W,G,Zp(W,Z),he);Lp(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(l(W,G.sibling),he=m(G,Z),he.return=W,W=he):(l(W,G),he=Dv(Z,W.mode,he),he.return=W,W=he),A(W)):l(W,G)}return function(W,G,Z,he){try{xh=0;var Se=jt(W,G,Z,he);return mu=null,Se}catch(xe){if(xe===Ih)throw xe;var Be=Zr(29,xe,null,W.mode);return Be.lanes=he,Be.return=W,Be}finally{}}}var $o=sS(!0),aS=sS(!1),gu=ze(null),Up=ze(0);function oS(s,a){s=xs,$e(Up,s),$e(gu,a),xs=s|a.baseLanes}function F_(){$e(Up,xs),$e(gu,gu.current)}function j_(){xs=Up.current,_t(gu),_t(Up)}var Yr=ze(null),ki=null;function Ta(s){var a=s.alternate;$e(pn,pn.current&1),$e(Yr,s),ki===null&&(a===null||gu.current!==null||a.memoizedState!==null)&&(ki=s)}function lS(s){if(s.tag===22){if($e(pn,pn.current),$e(Yr,s),ki===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ki=s)}}else Sa()}function Sa(){$e(pn,pn.current),$e(Yr,Yr.current)}function vs(s){_t(Yr),ki===s&&(ki=null),_t(pn)}var pn=ze(0);function Bp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var hM=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},dM=n.unstable_scheduleCallback,fM=n.unstable_NormalPriority,mn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z_(){return{controller:new hM,data:new Map,refCount:0}}function Oh(s){s.refCount--,s.refCount===0&&dM(fM,function(){s.controller.abort()})}var kh=null,q_=0,yu=0,_u=null;function pM(s,a){if(kh===null){var l=kh=[];q_=0,yu=Yv(),_u={status:"pending",value:void 0,then:function(c){l.push(c)}}}return q_++,a.then(uS,uS),a}function uS(){if(--q_===0&&kh!==null){_u!==null&&(_u.status="fulfilled");var s=kh;kh=null,yu=0,_u=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function mM(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var cS=I.S;I.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&pM(s,a),cS!==null&&cS(s,a)};var Go=ze(null);function H_(){var s=Go.current;return s!==null?s:mt.pooledCache}function Fp(s,a){a===null?$e(Go,Go.current):$e(Go,a.pool)}function hS(){var s=H_();return s===null?null:{parent:mn._currentValue,pool:s}}var Aa=0,Ue=null,ut=null,tn=null,jp=!1,vu=!1,Ko=!1,zp=0,Dh=0,Eu=null,gM=0;function Wt(){throw Error(r(321))}function $_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!wr(s[l],a[l]))return!1;return!0}function G_(s,a,l,c,m,y){return Aa=y,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,I.H=s===null||s.memoizedState===null?Wo:Ra,Ko=!1,y=l(c,m),Ko=!1,vu&&(y=fS(a,l,c,m)),dS(s),y}function dS(s){I.H=Di;var a=ut!==null&&ut.next!==null;if(Aa=0,tn=ut=Ue=null,jp=!1,Dh=0,Eu=null,a)throw Error(r(300));s===null||wn||(s=s.dependencies,s!==null&&Xp(s)&&(wn=!0))}function fS(s,a,l,c){Ue=s;var m=0;do{if(vu&&(Eu=null),Dh=0,vu=!1,25<=m)throw Error(r(301));if(m+=1,tn=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=Yo,y=a(l,c)}while(vu);return y}function yM(){var s=I.H,a=s.useState()[0];return a=typeof a.then=="function"?Nh(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ue.flags|=1024),a}function K_(){var s=zp!==0;return zp=0,s}function W_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Y_(s){if(jp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}jp=!1}Aa=0,tn=ut=Ue=null,vu=!1,Dh=zp=0,Eu=null}function hr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ue.memoizedState=tn=s:tn=tn.next=s,tn}function nn(){if(ut===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=tn===null?Ue.memoizedState:tn.next;if(a!==null)tn=a,ut=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},tn===null?Ue.memoizedState=tn=s:tn=tn.next=s}return tn}var qp;qp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Nh(s){var a=Dh;return Dh+=1,Eu===null&&(Eu=[]),s=nS(Eu,s,a),a=Ue,(tn===null?a.memoizedState:tn.next)===null&&(a=a.alternate,I.H=a===null||a.memoizedState===null?Wo:Ra),s}function Hp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Nh(s);if(s.$$typeof===T)return Fn(s)}throw Error(r(438,String(s)))}function Q_(s){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=qp(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=H;return a.index++,l}function Es(s,a){return typeof a=="function"?a(s):a}function $p(s){var a=nn();return X_(a,ut,s)}function X_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var D=A=null,z=null,K=a,ce=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Qe&fe)===fe:(Aa&fe)===fe){var J=K.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===yu&&(ce=!0);else if((Aa&J)===J){K=K.next,J===yu&&(ce=!0);continue}else fe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(D=z=fe,A=y):z=z.next=fe,Ue.lanes|=J,Ma|=J;fe=K.action,Ko&&l(y,fe),y=K.hasEagerState?K.eagerState:l(y,fe)}else J={lane:fe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(D=z=J,A=y):z=z.next=J,Ue.lanes|=fe,Ma|=fe;K=K.next}while(K!==null&&K!==a);if(z===null?A=y:z.next=D,!wr(y,s.memoizedState)&&(wn=!0,ce&&(l=_u,l!==null)))throw l;s.memoizedState=y,s.baseState=A,s.baseQueue=z,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Z_(s){var a=nn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);wr(y,a.memoizedState)||(wn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function pS(s,a,l){var c=Ue,m=nn(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!wr((ut||m).memoizedState,l);if(A&&(m.memoizedState=l,wn=!0),m=m.queue,tv(yS.bind(null,c,m,s),[s]),m.getSnapshot!==a||A||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,bu(9,gS.bind(null,c,m,l,a),{destroy:void 0},null),mt===null)throw Error(r(349));y||Aa&60||mS(c,a,l)}return l}function mS(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=qp(),Ue.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function gS(s,a,l,c){a.value=l,a.getSnapshot=c,_S(a)&&vS(s)}function yS(s,a,l){return l(function(){_S(a)&&vS(s)})}function _S(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!wr(s,l)}catch{return!0}}function vS(s){var a=wa(s,2);a!==null&&tr(a,s,2)}function J_(s){var a=hr();if(typeof s=="function"){var l=s;if(s=l(),Ko){Ei(!0);try{l()}finally{Ei(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:s},a}function ES(s,a,l,c){return s.baseState=l,X_(s,ut,typeof c=="function"?c:Es)}function _M(s,a,l,c,m){if(Wp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};I.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,bS(a,y)):(y.next=l.next,a.pending=l.next=y)}}function bS(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=I.T,A={};I.T=A;try{var D=l(m,c),z=I.S;z!==null&&z(A,D),wS(s,a,D)}catch(K){ev(s,a,K)}finally{I.T=y}}else try{y=l(m,c),wS(s,a,y)}catch(K){ev(s,a,K)}}function wS(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){TS(s,a,c)},function(c){return ev(s,a,c)}):TS(s,a,l)}function TS(s,a,l){a.status="fulfilled",a.value=l,SS(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,bS(s,l)))}function ev(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,SS(a),a=a.next;while(a!==c)}s.action=null}function SS(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function AS(s,a){return a}function RS(s,a){if(et){var l=mt.formState;if(l!==null){e:{var c=Ue;if(et){if(Pn){t:{for(var m=Pn,y=Oi;m.nodeType!==8;){if(!y){m=null;break t}if(m=pi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Pn=pi(m.nextSibling),c=m.data==="F!";break e}}Ho(c)}c=!1}c&&(a=l[0])}}return l=hr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AS,lastRenderedState:a},l.queue=c,l=HS.bind(null,Ue,c),c.dispatch=l,c=J_(!1),y=av.bind(null,Ue,!1,c.queue),c=hr(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=_M.bind(null,Ue,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function IS(s){var a=nn();return CS(a,ut,s)}function CS(s,a,l){a=X_(s,a,AS)[0],s=$p(Es)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Nh(a):a;var c=nn(),m=c.queue,y=m.dispatch;return l!==c.memoizedState&&(Ue.flags|=2048,bu(9,vM.bind(null,m,l),{destroy:void 0},null)),[a,y,s]}function vM(s,a){s.action=a}function xS(s){var a=nn(),l=ut;if(l!==null)return CS(a,l,s);nn(),a=a.memoizedState,l=nn();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function bu(s,a,l,c){return s={tag:s,create:a,inst:l,deps:c,next:null},a=Ue.updateQueue,a===null&&(a=qp(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function PS(){return nn().memoizedState}function Gp(s,a,l,c){var m=hr();Ue.flags|=s,m.memoizedState=bu(1|a,l,{destroy:void 0},c===void 0?null:c)}function Kp(s,a,l,c){var m=nn();c=c===void 0?null:c;var y=m.memoizedState.inst;ut!==null&&c!==null&&$_(c,ut.memoizedState.deps)?m.memoizedState=bu(a,l,y,c):(Ue.flags|=s,m.memoizedState=bu(1|a,l,y,c))}function OS(s,a){Gp(8390656,8,s,a)}function tv(s,a){Kp(2048,8,s,a)}function kS(s,a){return Kp(4,2,s,a)}function DS(s,a){return Kp(4,4,s,a)}function NS(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function MS(s,a,l){l=l!=null?l.concat([s]):null,Kp(4,4,NS.bind(null,a,s),l)}function nv(){}function VS(s,a){var l=nn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&$_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function LS(s,a){var l=nn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&$_(a,c[1]))return c[0];if(c=s(),Ko){Ei(!0);try{s()}finally{Ei(!1)}}return l.memoizedState=[c,a],c}function rv(s,a,l){return l===void 0||Aa&1073741824?s.memoizedState=a:(s.memoizedState=l,s=BA(),Ue.lanes|=s,Ma|=s,l)}function US(s,a,l,c){return wr(l,a)?l:gu.current!==null?(s=rv(s,l,c),wr(s,a)||(wn=!0),s):Aa&42?(s=BA(),Ue.lanes|=s,Ma|=s,a):(wn=!0,s.memoizedState=l)}function BS(s,a,l,c,m){var y=ye.p;ye.p=y!==0&&8>y?y:8;var A=I.T,D={};I.T=D,av(s,!1,a,l);try{var z=m(),K=I.S;if(K!==null&&K(D,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=mM(z,c);Mh(s,a,ce,Rr(s))}else Mh(s,a,c,Rr(s))}catch(fe){Mh(s,a,{then:function(){},status:"rejected",reason:fe},Rr())}finally{ye.p=y,I.T=A}}function EM(){}function iv(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=FS(s).queue;BS(s,m,a,Oe,l===null?EM:function(){return jS(s),l(c)})}function FS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:Oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function jS(s){var a=FS(s).next.queue;Mh(s,a,{},Rr())}function sv(){return Fn(td)}function zS(){return nn().memoizedState}function qS(){return nn().memoizedState}function bM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Rr();s=xa(l);var c=Pa(a,s,l);c!==null&&(tr(c,a,l),Uh(c,a,l)),a={cache:z_()},s.payload=a;return}a=a.return}}function wM(s,a,l){var c=Rr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Wp(s)?$S(a,l):(l=M_(s,a,l,c),l!==null&&(tr(l,s,c),GS(l,a,c)))}function HS(s,a,l){var c=Rr();Mh(s,a,l,c)}function Mh(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wp(s))$S(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,D=y(A,l);if(m.hasEagerState=!0,m.eagerState=D,wr(D,A))return Op(s,a,m,0),mt===null&&Pp(),!1}catch{}finally{}if(l=M_(s,a,m,c),l!==null)return tr(l,s,c),GS(l,a,c),!0}return!1}function av(s,a,l,c){if(c={lane:2,revertLane:Yv(),action:c,hasEagerState:!1,eagerState:null,next:null},Wp(s)){if(a)throw Error(r(479))}else a=M_(s,l,c,2),a!==null&&tr(a,s,2)}function Wp(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function $S(s,a){vu=jp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function GS(s,a,l){if(l&4194176){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,da(s,l)}}var Di={readContext:Fn,use:Hp,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt};Di.useCacheRefresh=Wt,Di.useMemoCache=Wt,Di.useHostTransitionStatus=Wt,Di.useFormState=Wt,Di.useActionState=Wt,Di.useOptimistic=Wt;var Wo={readContext:Fn,use:Hp,useCallback:function(s,a){return hr().memoizedState=[s,a===void 0?null:a],s},useContext:Fn,useEffect:OS,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Gp(4194308,4,NS.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Gp(4194308,4,s,a)},useInsertionEffect:function(s,a){Gp(4,2,s,a)},useMemo:function(s,a){var l=hr();a=a===void 0?null:a;var c=s();if(Ko){Ei(!0);try{s()}finally{Ei(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=hr();if(l!==void 0){var m=l(a);if(Ko){Ei(!0);try{l(a)}finally{Ei(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=wM.bind(null,Ue,s),[c.memoizedState,s]},useRef:function(s){var a=hr();return s={current:s},a.memoizedState=s},useState:function(s){s=J_(s);var a=s.queue,l=HS.bind(null,Ue,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:nv,useDeferredValue:function(s,a){var l=hr();return rv(l,s,a)},useTransition:function(){var s=J_(!1);return s=BS.bind(null,Ue,s.queue,!0,!1),hr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ue,m=hr();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),mt===null)throw Error(r(349));Qe&60||mS(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,OS(yS.bind(null,c,y,s),[s]),c.flags|=2048,bu(9,gS.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var s=hr(),a=mt.identifierPrefix;if(et){var l=_s,c=ys;l=(c&~(1<<32-Xn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=zp++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=gM++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return hr().memoizedState=bM.bind(null,Ue)}};Wo.useMemoCache=Q_,Wo.useHostTransitionStatus=sv,Wo.useFormState=RS,Wo.useActionState=RS,Wo.useOptimistic=function(s){var a=hr();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=av.bind(null,Ue,!0,l),l.dispatch=a,[s,a]};var Ra={readContext:Fn,use:Hp,useCallback:VS,useContext:Fn,useEffect:tv,useImperativeHandle:MS,useInsertionEffect:kS,useLayoutEffect:DS,useMemo:LS,useReducer:$p,useRef:PS,useState:function(){return $p(Es)},useDebugValue:nv,useDeferredValue:function(s,a){var l=nn();return US(l,ut.memoizedState,s,a)},useTransition:function(){var s=$p(Es)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:Nh(s),a]},useSyncExternalStore:pS,useId:zS};Ra.useCacheRefresh=qS,Ra.useMemoCache=Q_,Ra.useHostTransitionStatus=sv,Ra.useFormState=IS,Ra.useActionState=IS,Ra.useOptimistic=function(s,a){var l=nn();return ES(l,ut,s,a)};var Yo={readContext:Fn,use:Hp,useCallback:VS,useContext:Fn,useEffect:tv,useImperativeHandle:MS,useInsertionEffect:kS,useLayoutEffect:DS,useMemo:LS,useReducer:Z_,useRef:PS,useState:function(){return Z_(Es)},useDebugValue:nv,useDeferredValue:function(s,a){var l=nn();return ut===null?rv(l,s,a):US(l,ut.memoizedState,s,a)},useTransition:function(){var s=Z_(Es)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:Nh(s),a]},useSyncExternalStore:pS,useId:zS};Yo.useCacheRefresh=qS,Yo.useMemoCache=Q_,Yo.useHostTransitionStatus=sv,Yo.useFormState=xS,Yo.useActionState=xS,Yo.useOptimistic=function(s,a){var l=nn();return ut!==null?ES(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])};function ov(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var lv={isMounted:function(s){return(s=s._reactInternals)?ue(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Rr(),m=xa(c);m.payload=a,l!=null&&(m.callback=l),a=Pa(s,m,c),a!==null&&(tr(a,s,c),Uh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Rr(),m=xa(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Pa(s,m,c),a!==null&&(tr(a,s,c),Uh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Rr(),c=xa(l);c.tag=2,a!=null&&(c.callback=a),a=Pa(s,c,l),a!==null&&(tr(a,s,l),Uh(a,s,l))}};function KS(s,a,l,c,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!wh(l,c)||!wh(m,y):!0}function WS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&lv.enqueueReplaceState(a,a.state,null)}function Qo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Yp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function YS(s){Yp(s)}function QS(s){console.error(s)}function XS(s){Yp(s)}function Qp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function ZS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function uv(s,a,l){return l=xa(l),l.tag=3,l.payload={element:null},l.callback=function(){Qp(s,a)},l}function JS(s){return s=xa(s),s.tag=3,s}function eA(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){ZS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){ZS(a,l,c),typeof m!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function TM(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Lh(a,l,m,!0),l=Yr.current,l!==null){switch(l.tag){case 13:return ki===null?Hv():l.alternate===null&&Ft===0&&(Ft=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===B_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Gv(s,c,m)),!1;case 22:return l.flags|=65536,c===B_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Gv(s,c,m)),!1}throw Error(r(435,l.tag))}return Gv(s,c,m),Hv(),!1}if(et)return a=Yr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==U_&&(s=Error(r(422),{cause:c}),Rh(Gr(s,l)))):(c!==U_&&(a=Error(r(423),{cause:c}),Rh(Gr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Gr(c,l),m=uv(s.stateNode,c,m),Sv(s,m),Ft!==4&&(Ft=2)),!1;var y=Error(r(520),{cause:c});if(y=Gr(y,l),Gh===null?Gh=[y]:Gh.push(y),Ft!==4&&(Ft=2),a===null)return!0;c=Gr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=uv(l.stateNode,c,s),Sv(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Va===null||!Va.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=JS(m),eA(m,s,l,c),Sv(l,m),!1}l=l.return}while(l!==null);return!1}var tA=Error(r(461)),wn=!1;function On(s,a,l,c){a.child=s===null?aS(a,null,l,c):$o(a,s.child,l,c)}function nA(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var D in c)D!=="ref"&&(A[D]=c[D])}else A=c;return Zo(a),c=G_(s,a,l,A,y,m),D=K_(),s!==null&&!wn?(W_(s,a,m),bs(s,a,m)):(et&&D&&V_(a),a.flags|=1,On(s,a,c,m),a.child)}function rA(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!kv(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,iA(s,a,y,c,m)):(s=tm(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!_v(s,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:wh,l(A,c)&&s.ref===a.ref)return bs(s,a,m)}return a.flags|=1,s=Na(y,c),s.ref=a.ref,s.return=a,a.child=s}function iA(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(wh(y,c)&&s.ref===a.ref)if(wn=!1,a.pendingProps=c=y,_v(s,m))s.flags&131072&&(wn=!0);else return a.lanes=s.lanes,bs(s,a,m)}return cv(s,a,l,c,m)}function sA(s,a,l){var c=a.pendingProps,m=c.children,y=(a.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(Vh(s,a),c.mode==="hidden"||y){if(a.flags&128){if(c=A!==null?A.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return aA(s,a,c,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Fp(a,A!==null?A.cachePool:null),A!==null?oS(a,A):F_(),lS(a);else return a.lanes=a.childLanes=536870912,aA(s,a,A!==null?A.baseLanes|l:l,l)}else A!==null?(Fp(a,A.cachePool),oS(a,A),Sa(),a.memoizedState=null):(s!==null&&Fp(a,null),F_(),Sa());return On(s,a,m,l),a.child}function aA(s,a,l,c){var m=H_();return m=m===null?null:{parent:mn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Fp(a,null),F_(),lS(a),s!==null&&Lh(s,a,c,!0),null}function Vh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function cv(s,a,l,c,m){return Zo(a),l=G_(s,a,l,c,void 0,m),c=K_(),s!==null&&!wn?(W_(s,a,m),bs(s,a,m)):(et&&c&&V_(a),a.flags|=1,On(s,a,l,m),a.child)}function oA(s,a,l,c,m,y){return Zo(a),a.updateQueue=null,l=fS(a,c,l,m),dS(s),c=K_(),s!==null&&!wn?(W_(s,a,y),bs(s,a,y)):(et&&c&&V_(a),a.flags|=1,On(s,a,l,y),a.child)}function lA(s,a,l,c,m){if(Zo(a),a.stateNode===null){var y=du,A=l.contextType;typeof A=="object"&&A!==null&&(y=Fn(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=lv,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},wv(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Fn(A):du,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(ov(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&lv.enqueueReplaceState(y,y.state,null),Fh(a,c,y,m),Bh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var D=a.memoizedProps,z=Qo(l,D);y.props=z;var K=y.context,ce=l.contextType;A=du,typeof ce=="object"&&ce!==null&&(A=Fn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||K!==A)&&WS(a,y,c,A),Ca=!1;var J=a.memoizedState;y.state=J,Fh(a,c,y,m),Bh(),K=a.memoizedState,D||J!==K||Ca?(typeof fe=="function"&&(ov(a,l,fe,c),K=a.memoizedState),(z=Ca||KS(a,l,z,c,J,K,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),y.props=c,y.state=K,y.context=A,c=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,Tv(s,a),A=a.memoizedProps,ce=Qo(l,A),y.props=ce,fe=a.pendingProps,J=y.context,K=l.contextType,z=du,typeof K=="object"&&K!==null&&(z=Fn(K)),D=l.getDerivedStateFromProps,(K=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||J!==z)&&WS(a,y,c,z),Ca=!1,J=a.memoizedState,y.state=J,Fh(a,c,y,m),Bh();var le=a.memoizedState;A!==fe||J!==le||Ca||s!==null&&s.dependencies!==null&&Xp(s.dependencies)?(typeof D=="function"&&(ov(a,l,D,c),le=a.memoizedState),(ce=Ca||KS(a,l,ce,c,J,le,z)||s!==null&&s.dependencies!==null&&Xp(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=le),y.props=c,y.state=le,y.context=z,c=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Vh(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=$o(a,s.child,null,m),a.child=$o(a,null,l,m)):On(s,a,l,m),a.memoizedState=y.state,s=a.child):s=bs(s,a,m),s}function uA(s,a,l,c){return Ah(),a.flags|=256,On(s,a,l,c),a.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function dv(s){return{baseLanes:s,cachePool:hS()}}function fv(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Jr),s}function cA(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(pn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?Ta(a):Sa(),et){var D=Pn,z;if(z=D){e:{for(z=D,D=Oi;z.nodeType!==8;){if(!D){D=null;break e}if(z=pi(z.nextSibling),z===null){D=null;break e}}D=z}D!==null?(a.memoizedState={dehydrated:D,treeContext:zo!==null?{id:ys,overflow:_s}:null,retryLane:536870912},z=Zr(18,null,null,0),z.stateNode=D,z.return=a,a.child=z,er=a,Pn=null,z=!0):z=!1}z||Ho(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?a.lanes=16:a.lanes=536870912,null;vs(a)}return D=c.children,c=c.fallback,m?(Sa(),m=a.mode,D=mv({mode:"hidden",children:D},m),c=el(c,m,l,null),D.return=a,c.return=a,D.sibling=c,a.child=D,m=a.child,m.memoizedState=dv(l),m.childLanes=fv(s,A,l),a.memoizedState=hv,c):(Ta(a),pv(a,D))}if(z=s.memoizedState,z!==null&&(D=z.dehydrated,D!==null)){if(y)a.flags&256?(Ta(a),a.flags&=-257,a=gv(s,a,l)):a.memoizedState!==null?(Sa(),a.child=s.child,a.flags|=128,a=null):(Sa(),m=c.fallback,D=a.mode,c=mv({mode:"visible",children:c.children},D),m=el(m,D,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,$o(a,s.child,null,l),c=a.child,c.memoizedState=dv(l),c.childLanes=fv(s,A,l),a.memoizedState=hv,a=m);else if(Ta(a),D.data==="$!"){if(A=D.nextSibling&&D.nextSibling.dataset,A)var K=A.dgst;A=K,c=Error(r(419)),c.stack="",c.digest=A,Rh({value:c,source:null,stack:null}),a=gv(s,a,l)}else if(wn||Lh(s,a,l,!1),A=(l&s.childLanes)!==0,wn||A){if(A=mt,A!==null){if(c=l&-l,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(A.suspendedLanes|l)?0:c,c!==0&&c!==z.retryLane)throw z.retryLane=c,wa(s,c),tr(A,s,c),tA}D.data==="$?"||Hv(),a=gv(s,a,l)}else D.data==="$?"?(a.flags|=128,a.child=s.child,a=UM.bind(null,s),D._reactRetry=a,a=null):(s=z.treeContext,Pn=pi(D.nextSibling),er=a,et=!0,di=null,Oi=!1,s!==null&&(Kr[Wr++]=ys,Kr[Wr++]=_s,Kr[Wr++]=zo,ys=s.id,_s=s.overflow,zo=a),a=pv(a,c.children),a.flags|=4096);return a}return m?(Sa(),m=c.fallback,D=a.mode,z=s.child,K=z.sibling,c=Na(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&31457280,K!==null?m=Na(K,m):(m=el(m,D,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,D=s.child.memoizedState,D===null?D=dv(l):(z=D.cachePool,z!==null?(K=mn._currentValue,z=z.parent!==K?{parent:K,pool:K}:z):z=hS(),D={baseLanes:D.baseLanes|l,cachePool:z}),m.memoizedState=D,m.childLanes=fv(s,A,l),a.memoizedState=hv,c):(Ta(a),l=s.child,s=l.sibling,l=Na(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function pv(s,a){return a=mv({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function mv(s,a){return VA(s,a,0,null)}function gv(s,a,l){return $o(a,s.child,null,l),s=pv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function hA(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),Ev(s.return,a,l)}function yv(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function dA(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(On(s,a,c.children,l),c=pn.current,c&2)c=c&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hA(s,l,a);else if(s.tag===19)hA(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch($e(pn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Bp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),yv(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Bp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}yv(a,!0,l,null,y);break;case"together":yv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function bs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ma|=a.lanes,!(l&a.childLanes))if(s!==null){if(Lh(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=Na(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Na(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function _v(s,a){return s.lanes&a?!0:(s=s.dependencies,!!(s!==null&&Xp(s)))}function SM(s,a,l){switch(a.tag){case 3:vr(a,a.stateNode.containerInfo),Ia(a,mn,s.memoizedState.cache),Ah();break;case 27:case 5:Ur(a);break;case 4:vr(a,a.stateNode.containerInfo);break;case 10:Ia(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ta(a),a.flags|=128,null):l&a.child.childLanes?cA(s,a,l):(Ta(a),s=bs(s,a,l),s!==null?s.sibling:null);Ta(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Lh(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return dA(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(pn,pn.current),c)break;return null;case 22:case 23:return a.lanes=0,sA(s,a,l);case 24:Ia(a,mn,s.memoizedState.cache)}return bs(s,a,l)}function fA(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)wn=!0;else{if(!_v(s,l)&&!(a.flags&128))return wn=!1,SM(s,a,l);wn=!!(s.flags&131072)}else wn=!1,et&&a.flags&1048576&&XT(a,Np,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")kv(c)?(s=Qo(c,s),a.tag=1,a=lA(null,a,c,s,l)):(a.tag=0,a=cv(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===w){a.tag=11,a=nA(null,a,c,s,l);break e}else if(m===B){a.tag=14,a=rA(null,a,c,s,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return cv(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Qo(c,a.pendingProps),lA(s,a,c,m,l);case 3:e:{if(vr(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,c=m.element,Tv(s,a),Fh(a,y,null,l);var A=a.memoizedState;if(y=A.cache,Ia(a,mn,y),y!==m.cache&&bv(a,[mn],l,!0),Bh(),y=A.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=uA(s,a,y,l);break e}else if(y!==c){c=Gr(Error(r(424)),a),Rh(c),a=uA(s,a,y,l);break e}else for(Pn=pi(a.stateNode.containerInfo.firstChild),er=a,et=!0,di=null,Oi=!0,l=aS(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ah(),y===c){a=bs(s,a,l);break e}On(s,a,y,l)}a=a.child}return a;case 26:return Vh(s,a),s===null?(l=gR(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=fm(at.current).createElement(l),c[vn]=a,c[hn]=s,kn(c,l,s),Pt(c),a.stateNode=c):a.memoizedState=gR(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ur(a),s===null&&et&&(c=a.stateNode=fR(a.type,a.pendingProps,at.current),er=a,Oi=!0,Pn=pi(c.firstChild)),c=a.pendingProps.children,s!==null||et?On(s,a,c,l):a.child=$o(a,null,c,l),Vh(s,a),a.child;case 5:return s===null&&et&&((m=c=Pn)&&(c=eV(c,a.type,a.pendingProps,Oi),c!==null?(a.stateNode=c,er=a,Pn=pi(c.firstChild),Oi=!1,m=!0):m=!1),m||Ho(a)),Ur(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,c=y.children,i0(m,y)?c=null:A!==null&&i0(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=G_(s,a,yM,null,null,l),td._currentValue=m),Vh(s,a),On(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Pn)&&(l=tV(l,a.pendingProps,Oi),l!==null?(a.stateNode=l,er=a,Pn=null,s=!0):s=!1),s||Ho(a)),null;case 13:return cA(s,a,l);case 4:return vr(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=$o(a,null,c,l):On(s,a,c,l),a.child;case 11:return nA(s,a,a.type,a.pendingProps,l);case 7:return On(s,a,a.pendingProps,l),a.child;case 8:return On(s,a,a.pendingProps.children,l),a.child;case 12:return On(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ia(a,a.type,c.value),On(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Zo(a),m=Fn(m),c=c(m),a.flags|=1,On(s,a,c,l),a.child;case 14:return rA(s,a,a.type,a.pendingProps,l);case 15:return iA(s,a,a.type,a.pendingProps,l);case 19:return dA(s,a,l);case 22:return sA(s,a,l);case 24:return Zo(a),c=Fn(mn),s===null?(m=H_(),m===null&&(m=mt,y=z_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},wv(a),Ia(a,mn,m)):(s.lanes&l&&(Tv(s,a),Fh(a,null,null,l),Bh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ia(a,mn,c)):(c=y.cache,Ia(a,mn,c),c!==m.cache&&bv(a,[mn],l,!0))),On(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var vv=ze(null),Xo=null,ws=null;function Ia(s,a,l){$e(vv,a._currentValue),a._currentValue=l}function Ts(s){s._currentValue=vv.current,_t(vv)}function Ev(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function bv(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=m;for(var z=0;z<a.length;z++)if(D.context===a[z]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),Ev(y.return,l,s),c||(A=null);break e}y=D.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),Ev(A,l,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Lh(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var D=m.type;wr(m.pendingProps.value,A.value)||(s!==null?s.push(D):s=[D])}}else if(m===en.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(td):s=[td])}m=m.return}s!==null&&bv(a,s,l,c),a.flags|=262144}function Xp(s){for(s=s.firstContext;s!==null;){if(!wr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Zo(s){Xo=s,ws=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Fn(s){return pA(Xo,s)}function Zp(s,a){return Xo===null&&Zo(s),pA(s,a)}function pA(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ws===null){if(s===null)throw Error(r(308));ws=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ws=ws.next=a;return l}var Ca=!1;function wv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Pa(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,kt&2){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=kp(s),YT(s,null,l),a}return Op(s,c,a,l),kp(s)}function Uh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,da(s,l)}}function Sv(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Av=!1;function Bh(){if(Av){var s=_u;if(s!==null)throw s}}function Fh(s,a,l,c){Av=!1;var m=s.updateQueue;Ca=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var z=D,K=z.next;z.next=null,A===null?y=K:A.next=K,A=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==A&&(D===null?ce.firstBaseUpdate=K:D.next=K,ce.lastBaseUpdate=z))}if(y!==null){var fe=m.baseState;A=0,ce=K=z=null,D=y;do{var J=D.lane&-536870913,le=J!==D.lane;if(le?(Qe&J)===J:(c&J)===J){J!==0&&J===yu&&(Av=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ie=s,Ne=D;J=a;var jt=l;switch(Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){fe=Ie.call(jt,fe,J);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,J=typeof Ie=="function"?Ie.call(jt,fe,J):Ie,J==null)break e;fe=b({},fe,J);break e;case 2:Ca=!0}}J=D.callback,J!==null&&(s.flags|=64,le&&(s.flags|=8192),le=m.callbacks,le===null?m.callbacks=[J]:le.push(J))}else le={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(K=ce=le,z=fe):ce=ce.next=le,A|=J;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;le=D,D=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ce===null&&(z=fe),m.baseState=z,m.firstBaseUpdate=K,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),Ma|=A,s.lanes=A,s.memoizedState=fe}}function mA(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function gA(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)mA(l[s],a)}function jh(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(D){dt(a,a.return,D)}}function Oa(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var A=c.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,m=a;var z=l;try{D()}catch(K){dt(m,z,K)}}}c=c.next}while(c!==y)}}catch(K){dt(a,a.return,K)}}function yA(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{gA(a,l)}catch(c){dt(s,s.return,c)}}}function _A(s,a,l){l.props=Qo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){dt(s,a,c)}}function Jo(s,a){try{var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?s.refCleanup=l(m):l.current=m}}catch(y){dt(s,a,y)}}function Tr(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){dt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(s,a,m)}else l.current=null}function vA(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){dt(s,s.return,m)}}function EA(s,a,l){try{var c=s.stateNode;YM(c,s.type,l,a),c[hn]=a}catch(m){dt(s,s.return,m)}}function bA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Rv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||bA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Iv(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=dm));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Iv(s,a,l),s=s.sibling;s!==null;)Iv(s,a,l),s=s.sibling}function Jp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Jp(s,a,l),s=s.sibling;s!==null;)Jp(s,a,l),s=s.sibling}var Ss=!1,Bt=!1,Cv=!1,wA=typeof WeakSet=="function"?WeakSet:Set,Tn=null,TA=!1;function AM(s,a){if(s=s.containerInfo,n0=vm,s=FT(s),P_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,D=-1,z=-1,K=0,ce=0,fe=s,J=null;t:for(;;){for(var le;fe!==l||m!==0&&fe.nodeType!==3||(D=A+m),fe!==y||c!==0&&fe.nodeType!==3||(z=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(le=fe.firstChild)!==null;)J=fe,fe=le;for(;;){if(fe===s)break t;if(J===l&&++K===m&&(D=A),J===y&&++ce===c&&(z=A),(le=fe.nextSibling)!==null)break;fe=J,J=fe.parentNode}fe=le}l=D===-1||z===-1?null:{start:D,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(r0={focusedElem:s,selectionRange:l},vm=!1,Tn=a;Tn!==null;)if(a=Tn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Tn=s;else for(;Tn!==null;){switch(a=Tn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ie=Qo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ie,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){dt(l,l.return,Ne)}}break;case 3:if(s&1024){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)o0(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":o0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Tn=s;break}Tn=a.return}return Ie=TA,TA=!1,Ie}function SA(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Rs(s,l),c&4&&jh(5,l);break;case 1:if(Rs(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(D){dt(l,l.return,D)}else{var m=Qo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(D){dt(l,l.return,D)}}c&64&&yA(l),c&512&&Jo(l,l.return);break;case 3:if(Rs(s,l),c&64&&(c=l.updateQueue,c!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{gA(c,s)}catch(D){dt(l,l.return,D)}}break;case 26:Rs(s,l),c&512&&Jo(l,l.return);break;case 27:case 5:Rs(s,l),a===null&&c&4&&vA(l),c&512&&Jo(l,l.return);break;case 12:Rs(s,l);break;case 13:Rs(s,l),c&4&&IA(s,l);break;case 22:if(m=l.memoizedState!==null||Ss,!m){a=a!==null&&a.memoizedState!==null||Bt;var y=Ss,A=Bt;Ss=m,(Bt=a)&&!A?ka(s,l,(l.subtreeFlags&8772)!==0):Rs(s,l),Ss=y,Bt=A}c&512&&(l.memoizedProps.mode==="manual"?Jo(l,l.return):Tr(l,l.return));break;default:Rs(s,l)}}function AA(s){var a=s.alternate;a!==null&&(s.alternate=null,AA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&xo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var rn=null,Sr=!1;function As(s,a,l){for(l=l.child;l!==null;)RA(s,a,l),l=l.sibling}function RA(s,a,l){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(oa,l)}catch{}switch(l.tag){case 26:Bt||Tr(l,a),As(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||Tr(l,a);var c=rn,m=Sr;for(rn=l.stateNode,As(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);xo(l),rn=c,Sr=m;break;case 5:Bt||Tr(l,a);case 6:m=rn;var y=Sr;if(rn=null,As(s,a,l),rn=m,Sr=y,rn!==null)if(Sr)try{s=rn,c=l.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(A){dt(l,a,A)}else try{rn.removeChild(l.stateNode)}catch(A){dt(l,a,A)}break;case 18:rn!==null&&(Sr?(a=rn,l=l.stateNode,a.nodeType===8?a0(a.parentNode,l):a.nodeType===1&&a0(a,l),sd(a)):a0(rn,l.stateNode));break;case 4:c=rn,m=Sr,rn=l.stateNode.containerInfo,Sr=!0,As(s,a,l),rn=c,Sr=m;break;case 0:case 11:case 14:case 15:Bt||Oa(2,l,a),Bt||Oa(4,l,a),As(s,a,l);break;case 1:Bt||(Tr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&_A(l,a,c)),As(s,a,l);break;case 21:As(s,a,l);break;case 22:Bt||Tr(l,a),Bt=(c=Bt)||l.memoizedState!==null,As(s,a,l),Bt=c;break;default:As(s,a,l)}}function IA(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sd(s)}catch(l){dt(a,a.return,l)}}function RM(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new wA),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new wA),a;default:throw Error(r(435,s.tag))}}function xv(s,a){var l=RM(s);a.forEach(function(c){var m=BM.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function Qr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,A=a,D=A;e:for(;D!==null;){switch(D.tag){case 27:case 5:rn=D.stateNode,Sr=!1;break e;case 3:rn=D.stateNode.containerInfo,Sr=!0;break e;case 4:rn=D.stateNode.containerInfo,Sr=!0;break e}D=D.return}if(rn===null)throw Error(r(160));RA(y,A,m),rn=null,Sr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)CA(a,s),a=a.sibling}var fi=null;function CA(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qr(a,s),Xr(s),c&4&&(Oa(3,s,s.return),jh(3,s),Oa(5,s,s.return));break;case 1:Qr(a,s),Xr(s),c&512&&(Bt||l===null||Tr(l,l.return)),c&64&&Ss&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=fi;if(Qr(a,s),Xr(s),c&512&&(Bt||l===null||Tr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[pa]||y[vn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),kn(y,c,l),y[vn]=s,Pt(y),c=y;break e;case"link":var A=vR("link","href",m).get(c+(l.href||""));if(A){for(var D=0;D<A.length;D++)if(y=A[D],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(D,1);break t}}y=m.createElement(c),kn(y,c,l),m.head.appendChild(y);break;case"meta":if(A=vR("meta","content",m).get(c+(l.content||""))){for(D=0;D<A.length;D++)if(y=A[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(D,1);break t}}y=m.createElement(c),kn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[vn]=s,Pt(y),c=y}s.stateNode=c}else ER(m,s.type,s.stateNode);else s.stateNode=_R(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?ER(m,s.type,s.stateNode):_R(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&EA(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var z=m.firstChild;z;){var K=z.nextSibling,ce=z.nodeName;z[pa]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&z.rel.toLowerCase()==="stylesheet"||m.removeChild(z),z=K}for(var fe=s.type,J=m.attributes;J.length;)m.removeAttributeNode(J[0]);kn(m,fe,y),m[vn]=s,m[hn]=y}catch(Ie){dt(s,s.return,Ie)}}case 5:if(Qr(a,s),Xr(s),c&512&&(Bt||l===null||Tr(l,l.return)),s.flags&32){m=s.stateNode;try{jr(m,"")}catch(Ie){dt(s,s.return,Ie)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,EA(s,m,l!==null?l.memoizedProps:m)),c&1024&&(Cv=!0);break;case 6:if(Qr(a,s),Xr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Ie){dt(s,s.return,Ie)}}break;case 3:if(gm=null,m=fi,fi=pm(a.containerInfo),Qr(a,s),fi=m,Xr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{sd(a.containerInfo)}catch(Ie){dt(s,s.return,Ie)}Cv&&(Cv=!1,xA(s));break;case 4:c=fi,fi=pm(s.stateNode.containerInfo),Qr(a,s),Xr(s),fi=c;break;case 12:Qr(a,s),Xr(s);break;case 13:Qr(a,s),Xr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Uv=ur()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,xv(s,c)));break;case 22:if(c&512&&(Bt||l===null||Tr(l,l.return)),z=s.memoizedState!==null,K=l!==null&&l.memoizedState!==null,ce=Ss,fe=Bt,Ss=ce||z,Bt=fe||K,Qr(a,s),Bt=fe,Ss=ce,Xr(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=z?a._visibility&-2:a._visibility|1,z&&(a=Ss||Bt,l===null||K||a||wu(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){K=l=a;try{if(m=K.stateNode,z)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode,D=K.memoizedProps.style;var le=D!=null&&D.hasOwnProperty("display")?D.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ie){dt(K,K.return,Ie)}}}else if(a.tag===6){if(l===null){K=a;try{K.stateNode.nodeValue=z?"":K.memoizedProps}catch(Ie){dt(K,K.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,xv(s,l))));break;case 19:Qr(a,s),Xr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,xv(s,c)));break;case 21:break;default:Qr(a,s),Xr(s)}}function Xr(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(bA(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,y=Rv(s);Jp(s,y,m);break;case 5:var A=c.stateNode;c.flags&32&&(jr(A,""),c.flags&=-33);var D=Rv(s);Jp(s,D,A);break;case 3:case 4:var z=c.stateNode.containerInfo,K=Rv(s);Iv(s,K,z);break;default:throw Error(r(161))}}}catch(ce){dt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function xA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;xA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Rs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)SA(s,a.alternate,a),a=a.sibling}function wu(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Oa(4,a,a.return),wu(a);break;case 1:Tr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&_A(a,a.return,l),wu(a);break;case 26:case 27:case 5:Tr(a,a.return),wu(a);break;case 22:Tr(a,a.return),a.memoizedState===null&&wu(a);break;default:wu(a)}s=s.sibling}}function ka(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:ka(m,y,l),jh(4,y);break;case 1:if(ka(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){dt(c,c.return,K)}if(c=y,m=c.updateQueue,m!==null){var D=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)mA(z[m],D)}catch(K){dt(c,c.return,K)}}l&&A&64&&yA(y),Jo(y,y.return);break;case 26:case 27:case 5:ka(m,y,l),l&&c===null&&A&4&&vA(y),Jo(y,y.return);break;case 12:ka(m,y,l);break;case 13:ka(m,y,l),l&&A&4&&IA(m,y);break;case 22:y.memoizedState===null&&ka(m,y,l),Jo(y,y.return);break;default:ka(m,y,l)}a=a.sibling}}function Pv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Oh(l))}function Ov(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Oh(s))}function Da(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PA(s,a,l,c),a=a.sibling}function PA(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Da(s,a,l,c),m&2048&&jh(9,a);break;case 3:Da(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Oh(s)));break;case 12:if(m&2048){Da(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,D=y.onPostCommit;typeof D=="function"&&D(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){dt(a,a.return,z)}}else Da(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Da(s,a,l,c):zh(s,a):y._visibility&4?Da(s,a,l,c):(y._visibility|=4,Tu(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&Pv(a.alternate,a);break;case 24:Da(s,a,l,c),m&2048&&Ov(a.alternate,a);break;default:Da(s,a,l,c)}}function Tu(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,D=l,z=c,K=A.flags;switch(A.tag){case 0:case 11:case 15:Tu(y,A,D,z,m),jh(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?Tu(y,A,D,z,m):zh(y,A):(ce._visibility|=4,Tu(y,A,D,z,m)),m&&K&2048&&Pv(A.alternate,A);break;case 24:Tu(y,A,D,z,m),m&&K&2048&&Ov(A.alternate,A);break;default:Tu(y,A,D,z,m)}a=a.sibling}}function zh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:zh(l,c),m&2048&&Pv(c.alternate,c);break;case 24:zh(l,c),m&2048&&Ov(c.alternate,c);break;default:zh(l,c)}a=a.sibling}}var qh=8192;function Su(s){if(s.subtreeFlags&qh)for(s=s.child;s!==null;)OA(s),s=s.sibling}function OA(s){switch(s.tag){case 26:Su(s),s.flags&qh&&s.memoizedState!==null&&pV(fi,s.memoizedState,s.memoizedProps);break;case 5:Su(s);break;case 3:case 4:var a=fi;fi=pm(s.stateNode.containerInfo),Su(s),fi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=qh,qh=16777216,Su(s),qh=a):Su(s));break;default:Su(s)}}function kA(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Hh(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Tn=c,NA(c,s)}kA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)DA(s),s=s.sibling}function DA(s){switch(s.tag){case 0:case 11:case 15:Hh(s),s.flags&2048&&Oa(9,s,s.return);break;case 3:Hh(s);break;case 12:Hh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,em(s)):Hh(s);break;default:Hh(s)}}function em(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Tn=c,NA(c,s)}kA(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Oa(8,a,a.return),em(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,em(a));break;default:em(a)}s=s.sibling}}function NA(s,a){for(;Tn!==null;){var l=Tn;switch(l.tag){case 0:case 11:case 15:Oa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Oh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Tn=c;else e:for(l=s;Tn!==null;){c=Tn;var m=c.sibling,y=c.return;if(AA(c),c===l){Tn=null;break e}if(m!==null){m.return=y,Tn=m;break e}Tn=y}}}function IM(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(s,a,l,c){return new IM(s,a,l,c)}function kv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Na(s,a){var l=s.alternate;return l===null?(l=Zr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function MA(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function tm(s,a,l,c,m,y){var A=0;if(c=s,typeof s=="function")kv(s)&&(A=1);else if(typeof s=="string")A=dV(s,l,wt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return el(l.children,m,y,a);case f:A=8,m|=24;break;case g:return s=Zr(12,l,a,m|2),s.elementType=g,s.lanes=y,s;case R:return s=Zr(13,l,a,m),s.elementType=R,s.lanes=y,s;case x:return s=Zr(19,l,a,m),s.elementType=x,s.lanes=y,s;case U:return VA(l,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case T:A=10;break e;case v:A=9;break e;case w:A=11;break e;case B:A=14;break e;case L:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=Zr(A,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function el(s,a,l,c){return s=Zr(7,s,c,a),s.lanes=l,s}function VA(s,a,l,c){s=Zr(22,s,c,a),s.elementType=U,s.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var A=wa(y,2);A!==null&&(m._pendingVisibility|=2,tr(A,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if(m._pendingVisibility&2){var A=wa(y,2);A!==null&&(m._pendingVisibility&=-3,tr(A,y,2))}}};return s.stateNode=m,s}function Dv(s,a,l){return s=Zr(6,s,null,a),s.lanes=l,s}function Nv(s,a,l){return a=Zr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Is(s){s.flags|=4}function LA(s,a){if(a.type!=="stylesheet"||a.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!bR(a)){if(a=Yr.current,a!==null&&((Qe&4194176)===Qe?ki!==null:(Qe&62914560)!==Qe&&!(Qe&536870912)||a!==ki))throw Ch=B_,eS;s.flags|=8192}}function nm(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ca():536870912,s.lanes|=a,Ru|=a)}function $h(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Ot(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function CM(s,a,l){var c=a.pendingProps;switch(L_(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(a),null;case 1:return Ot(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ts(mn),Ln(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Sh(a)?Is(a):s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,di!==null&&(zv(di),di=null))),Ot(a),null;case 26:return l=a.memoizedState,s===null?(Is(a),l!==null?(Ot(a),LA(a,l)):(Ot(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Is(a),Ot(a),LA(a,l)):(Ot(a),a.flags&=-16777217):(s.memoizedProps!==c&&Is(a),Ot(a),a.flags&=-16777217),null;case 27:Un(a),l=at.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Is(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Ot(a),null}s=wt.current,Sh(a)?ZT(a):(s=fR(m,c,l),a.stateNode=s,Is(a))}return Ot(a),null;case 5:if(Un(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Is(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Ot(a),null}if(s=wt.current,Sh(a))ZT(a);else{switch(m=fm(at.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[vn]=a,s[hn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(kn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Is(a)}}return Ot(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&Is(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=at.current,Sh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=er,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[vn]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||oR(s.nodeValue,l)),s||Ho(a)}else s=fm(s).createTextNode(c),s[vn]=a,a.stateNode=s}return Ot(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Sh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[vn]=a}else Ah(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Ot(a),m=!1}else di!==null&&(zv(di),di=null),m=!0;if(!m)return a.flags&256?(vs(a),a):(vs(a),null)}if(vs(a),a.flags&128)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),nm(a,a.updateQueue),Ot(a),null;case 4:return Ln(),s===null&&Jv(a.stateNode.containerInfo),Ot(a),null;case 10:return Ts(a.type),Ot(a),null;case 19:if(_t(pn),m=a.memoizedState,m===null)return Ot(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)$h(m,!1);else{if(Ft!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(y=Bp(s),y!==null){for(a.flags|=128,$h(m,!1),s=y.updateQueue,a.updateQueue=s,nm(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)MA(l,s),l=l.sibling;return $e(pn,pn.current&1|2),a.child}s=s.sibling}m.tail!==null&&ur()>rm&&(a.flags|=128,c=!0,$h(m,!1),a.lanes=4194304)}else{if(!c)if(s=Bp(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,nm(a,s),$h(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Ot(a),null}else 2*ur()-m.renderingStartTime>rm&&l!==536870912&&(a.flags|=128,c=!0,$h(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ur(),a.sibling=null,s=pn.current,$e(pn,c?s&1|2:s&1),a):(Ot(a),null);case 22:case 23:return vs(a),j_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?l&536870912&&!(a.flags&128)&&(Ot(a),a.subtreeFlags&6&&(a.flags|=8192)):Ot(a),l=a.updateQueue,l!==null&&nm(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&_t(Go),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ts(mn),Ot(a),null;case 25:return null}throw Error(r(156,a.tag))}function xM(s,a){switch(L_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ts(mn),Ln(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Un(a),null;case 13:if(vs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ah()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(pn),null;case 4:return Ln(),null;case 10:return Ts(a.type),null;case 22:case 23:return vs(a),j_(),s!==null&&_t(Go),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ts(mn),null;case 25:return null;default:return null}}function UA(s,a){switch(L_(a),a.tag){case 3:Ts(mn),Ln();break;case 26:case 27:case 5:Un(a);break;case 4:Ln();break;case 13:vs(a);break;case 19:_t(pn);break;case 10:Ts(a.type);break;case 22:case 23:vs(a),j_(),s!==null&&_t(Go);break;case 24:Ts(mn)}}var PM={getCacheForType:function(s){var a=Fn(mn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},OM=typeof WeakMap=="function"?WeakMap:Map,kt=0,mt=null,Fe=null,Qe=0,gt=0,Ar=null,Cs=!1,Au=!1,Mv=!1,xs=0,Ft=0,Ma=0,tl=0,Vv=0,Jr=0,Ru=0,Gh=null,Ni=null,Lv=!1,Uv=0,rm=1/0,im=null,Va=null,sm=!1,nl=null,Kh=0,Bv=0,Fv=null,Wh=0,jv=null;function Rr(){if(kt&2&&Qe!==0)return Qe&-Qe;if(I.T!==null){var s=yu;return s!==0?s:Yv()}return hp()}function BA(){Jr===0&&(Jr=!(Qe&536870912)||et?ah():536870912);var s=Yr.current;return s!==null&&(s.flags|=32),Jr}function tr(s,a,l){(s===mt&&gt===2||s.cancelPendingCommit!==null)&&(Iu(s,0),Ps(s,Qe,Jr,!1)),Kt(s,l),(!(kt&2)||s!==mt)&&(s===mt&&(!(kt&2)&&(tl|=l),Ft===4&&Ps(s,Qe,Jr,!1)),Mi(s))}function FA(s,a,l){if(kt&6)throw Error(r(327));var c=!l&&(a&60)===0&&(a&s.expiredLanes)===0||ua(s,a),m=c?NM(s,a):$v(s,a,!0),y=c;do{if(m===0){Au&&!c&&Ps(s,a,0,!1);break}else if(m===6)Ps(s,a,0,!Cs);else{if(l=s.current.alternate,y&&!kM(l)){m=$v(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var D=s;m=Gh;var z=D.current.memoizedState.isDehydrated;if(z&&(Iu(D,A).flags|=256),A=$v(D,A,!1),A!==2){if(Mv&&!z){D.errorRecoveryDisabledLanes|=y,tl|=y,m=4;break e}y=Ni,Ni=m,y!==null&&zv(y)}m=A}if(y=!1,m!==2)continue}}if(m===1){Iu(s,0),Ps(s,a,0,!0);break}e:{switch(c=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Ps(c,a,Jr,!Cs);break e}break;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=Uv+300-ur(),10<y)){if(Ps(c,a,Jr,!Cs),Br(c,0)!==0)break e;c.timeoutHandle=cR(jA.bind(null,c,l,Ni,im,Lv,a,Jr,tl,Ru,Cs,2,-0,0),y);break e}jA(c,l,Ni,im,Lv,a,Jr,tl,Ru,Cs,0,-0,0)}}break}while(!0);Mi(s)}function zv(s){Ni===null?Ni=s:Ni.push.apply(Ni,s)}function jA(s,a,l,c,m,y,A,D,z,K,ce,fe,J){var le=a.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(ed={stylesheets:null,count:0,unsuspend:fV},OA(a),a=mV(),a!==null)){s.cancelPendingCommit=a(WA.bind(null,s,l,c,m,A,D,z,1,fe,J)),Ps(s,y,A,!K);return}WA(s,l,c,m,A,D,z,ce,fe,J)}function kM(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!wr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(s,a,l,c){a&=~Vv,a&=~tl,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-Xn(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&ha(s,l,a)}function am(){return kt&6?!0:(Yh(0),!1)}function qv(){if(Fe!==null){if(gt===0)var s=Fe.return;else s=Fe,ws=Xo=null,Y_(s),mu=null,xh=0,s=Fe;for(;s!==null;)UA(s.alternate,s),s=s.return;Fe=null}}function Iu(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,XM(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),qv(),mt=s,Fe=l=Na(s.current,null),Qe=a,gt=0,Ar=null,Cs=!1,Au=ua(s,a),Mv=!1,Ru=Jr=Vv=tl=Ma=Ft=0,Ni=Gh=null,Lv=!1,a&8&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Xn(c),y=1<<m;a|=s[m],c&=~y}return xs=a,Pp(),l}function zA(s,a){Ue=null,I.H=Di,a===Ih?(a=rS(),gt=3):a===eS?(a=rS(),gt=4):gt=a===tA?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ar=a,Fe===null&&(Ft=1,Qp(s,Gr(a,s.current)))}function qA(){var s=I.H;return I.H=Di,s===null?Di:s}function HA(){var s=I.A;return I.A=PM,s}function Hv(){Ft=4,Cs||(Qe&4194176)!==Qe&&Yr.current!==null||(Au=!0),!(Ma&134217727)&&!(tl&134217727)||mt===null||Ps(mt,Qe,Jr,!1)}function $v(s,a,l){var c=kt;kt|=2;var m=qA(),y=HA();(mt!==s||Qe!==a)&&(im=null,Iu(s,a)),a=!1;var A=Ft;e:do try{if(gt!==0&&Fe!==null){var D=Fe,z=Ar;switch(gt){case 8:qv(),A=6;break e;case 3:case 2:case 6:Yr.current===null&&(a=!0);var K=gt;if(gt=0,Ar=null,Cu(s,D,z,K),l&&Au){A=0;break e}break;default:K=gt,gt=0,Ar=null,Cu(s,D,z,K)}}DM(),A=Ft;break}catch(ce){zA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ws=Xo=null,kt=c,I.H=m,I.A=y,Fe===null&&(mt=null,Qe=0,Pp()),A}function DM(){for(;Fe!==null;)$A(Fe)}function NM(s,a){var l=kt;kt|=2;var c=qA(),m=HA();mt!==s||Qe!==a?(im=null,rm=ur()+500,Iu(s,a)):Au=ua(s,a);e:do try{if(gt!==0&&Fe!==null){a=Fe;var y=Ar;t:switch(gt){case 1:gt=0,Ar=null,Cu(s,a,y,1);break;case 2:if(tS(y)){gt=0,Ar=null,GA(a);break}a=function(){gt===2&&mt===s&&(gt=7),Mi(s)},y.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:tS(y)?(gt=0,Ar=null,GA(a)):(gt=0,Ar=null,Cu(s,a,y,7));break;case 5:var A=null;switch(Fe.tag){case 26:A=Fe.memoizedState;case 5:case 27:var D=Fe;if(!A||bR(A)){gt=0,Ar=null;var z=D.sibling;if(z!==null)Fe=z;else{var K=D.return;K!==null?(Fe=K,om(K)):Fe=null}break t}}gt=0,Ar=null,Cu(s,a,y,5);break;case 6:gt=0,Ar=null,Cu(s,a,y,6);break;case 8:qv(),Ft=6;break e;default:throw Error(r(462))}}MM();break}catch(ce){zA(s,ce)}while(!0);return ws=Xo=null,I.H=c,I.A=m,kt=l,Fe!==null?0:(mt=null,Qe=0,Pp(),Ft)}function MM(){for(;Fe!==null&&!v_();)$A(Fe)}function $A(s){var a=fA(s.alternate,s,xs);s.memoizedProps=s.pendingProps,a===null?om(s):Fe=a}function GA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=oA(l,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=oA(l,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:Y_(a);default:UA(l,a),a=Fe=MA(a,xs),a=fA(l,a,xs)}s.memoizedProps=s.pendingProps,a===null?om(s):Fe=a}function Cu(s,a,l,c){ws=Xo=null,Y_(a),mu=null,xh=0;var m=a.return;try{if(TM(s,m,a,l,Qe)){Ft=1,Qp(s,Gr(l,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;Ft=1,Qp(s,Gr(l,s.current)),Fe=null;return}a.flags&32768?(et||c===1?s=!0:Au||Qe&536870912?s=!1:(Cs=s=!0,(c===2||c===3||c===6)&&(c=Yr.current,c!==null&&c.tag===13&&(c.flags|=16384))),KA(a,s)):om(a)}function om(s){var a=s;do{if(a.flags&32768){KA(a,Cs);return}s=a.return;var l=CM(a.alternate,a,xs);if(l!==null){Fe=l;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=s}while(a!==null);Ft===0&&(Ft=5)}function KA(s,a){do{var l=xM(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);Ft=6,Fe=null}function WA(s,a,l,c,m,y,A,D,z,K){var ce=I.T,fe=ye.p;try{ye.p=2,I.T=null,VM(s,a,l,c,fe,m,y,A,D,z,K)}finally{I.T=ce,ye.p=fe}}function VM(s,a,l,c,m,y,A,D){do xu();while(nl!==null);if(kt&6)throw Error(r(327));var z=s.finishedWork;if(c=s.finishedLanes,z===null)return null;if(s.finishedWork=null,s.finishedLanes=0,z===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var K=z.lanes|z.childLanes;if(K|=N_,up(s,c,K,y,A,D),s===mt&&(Fe=mt=null,Qe=0),!(z.subtreeFlags&10256)&&!(z.flags&10256)||sm||(sm=!0,Bv=K,Fv=l,FM(os,function(){return xu(),null})),l=(z.flags&15990)!==0,z.subtreeFlags&15990||l?(l=I.T,I.T=null,y=ye.p,ye.p=2,A=kt,kt|=4,AM(s,z),CA(z,s),aM(r0,s.containerInfo),vm=!!n0,r0=n0=null,s.current=z,SA(s,z.alternate,z),nh(),kt=A,ye.p=y,I.T=l):s.current=z,sm?(sm=!1,nl=s,Kh=c):YA(s,K),K=s.pendingLanes,K===0&&(Va=null),ih(z.stateNode),Mi(s),a!==null)for(m=s.onRecoverableError,z=0;z<a.length;z++)K=a[z],m(K.value,{componentStack:K.stack});return Kh&3&&xu(),K=s.pendingLanes,c&4194218&&K&42?s===jv?Wh++:(Wh=0,jv=s):Wh=0,Yh(0),null}function YA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Oh(a)))}function xu(){if(nl!==null){var s=nl,a=Bv;Bv=0;var l=cp(Kh),c=I.T,m=ye.p;try{if(ye.p=32>l?32:l,I.T=null,nl===null)var y=!1;else{l=Fv,Fv=null;var A=nl,D=Kh;if(nl=null,Kh=0,kt&6)throw Error(r(331));var z=kt;if(kt|=4,DA(A.current),PA(A,A.current,D,l),kt=z,Yh(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(oa,A)}catch{}y=!0}return y}finally{ye.p=m,I.T=c,YA(s,a)}}return!1}function QA(s,a,l){a=Gr(l,a),a=uv(s.stateNode,a,2),s=Pa(s,a,2),s!==null&&(Kt(s,2),Mi(s))}function dt(s,a,l){if(s.tag===3)QA(s,s,l);else for(;a!==null;){if(a.tag===3){QA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Va===null||!Va.has(c))){s=Gr(l,s),l=JS(2),c=Pa(a,l,2),c!==null&&(eA(l,c,a,s),Kt(c,2),Mi(c));break}}a=a.return}}function Gv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new OM;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Mv=!0,m.add(l),s=LM.bind(null,s,a,l),a.then(s,s))}function LM(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Qe&l)===l&&(Ft===4||Ft===3&&(Qe&62914560)===Qe&&300>ur()-Uv?!(kt&2)&&Iu(s,0):Vv|=l,Ru===Qe&&(Ru=0)),Mi(s)}function XA(s,a){a===0&&(a=ca()),s=wa(s,a),s!==null&&(Kt(s,a),Mi(s))}function UM(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),XA(s,l)}function BM(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),XA(s,l)}function FM(s,a){return li(s,a)}var lm=null,Pu=null,Kv=!1,um=!1,Wv=!1,rl=0;function Mi(s){s!==Pu&&s.next===null&&(Pu===null?lm=Pu=s:Pu=Pu.next=s),um=!0,Kv||(Kv=!0,zM(jM))}function Yh(s,a){if(!Wv&&um){Wv=!0;do for(var l=!1,c=lm;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,D=c.pingedLanes;y=(1<<31-Xn(42|s)+1)-1,y&=m&~(A&~D),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,eR(c,y))}else y=Qe,y=Br(c,c===mt?y:0),!(y&3)||ua(c,y)||(l=!0,eR(c,y));c=c.next}while(l);Wv=!1}}function jM(){um=Kv=!1;var s=0;rl!==0&&(QM()&&(s=rl),rl=0);for(var a=ur(),l=null,c=lm;c!==null;){var m=c.next,y=ZA(c,a);y===0?(c.next=null,l===null?lm=m:l.next=m,m===null&&(Pu=l)):(l=c,(s!==0||y&3)&&(um=!0)),c=m}Yh(s)}function ZA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Xn(y),D=1<<A,z=m[A];z===-1?(!(D&l)||D&c)&&(m[A]=Wl(D,a)):z<=a&&(s.expiredLanes|=D),y&=~D}if(a=mt,l=Qe,l=Br(s,s===a?l:0),c=s.callbackNode,l===0||s===a&&gt===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Kl(c),s.callbackNode=null,s.callbackPriority=0;if(!(l&3)||ua(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Kl(c),cp(l)){case 2:case 8:l=_n;break;case 32:l=os;break;case 268435456:l=rh;break;default:l=os}return c=JA.bind(null,s),l=li(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Kl(c),s.callbackPriority=2,s.callbackNode=null,2}function JA(s,a){var l=s.callbackNode;if(xu()&&s.callbackNode!==l)return null;var c=Qe;return c=Br(s,s===mt?c:0),c===0?null:(FA(s,c,a),ZA(s,ur()),s.callbackNode!=null&&s.callbackNode===l?JA.bind(null,s):null)}function eR(s,a){if(xu())return null;FA(s,a,!0)}function zM(s){ZM(function(){kt&6?li(cn,s):s()})}function Yv(){return rl===0&&(rl=ah()),rl}function tR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Si(""+s)}function nR(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function qM(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=tR((m[hn]||null).action),A=c.submitter;A&&(a=(a=A[hn]||null)?tR(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var D=new tu("action","action",null,c,m);s.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(rl!==0){var z=A?nR(m,A):new FormData(m);iv(l,{pending:!0,data:z,method:m.method,action:y},null,z)}}else typeof y=="function"&&(D.preventDefault(),z=A?nR(m,A):new FormData(m),iv(l,{pending:!0,data:z,method:m.method,action:y},y,z))},currentTarget:m}]})}}for(var Qv=0;Qv<WT.length;Qv++){var Xv=WT[Qv],HM=Xv.toLowerCase(),$M=Xv[0].toUpperCase()+Xv.slice(1);hi(HM,"on"+$M)}hi(qT,"onAnimationEnd"),hi(HT,"onAnimationIteration"),hi($T,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(lM,"onTransitionRun"),hi(uM,"onTransitionStart"),hi(cM,"onTransitionCancel"),hi(GT,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qh));function rR(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var D=c[A],z=D.instance,K=D.currentTarget;if(D=D.listener,z!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=K;try{y(m)}catch(ce){Yp(ce)}m.currentTarget=null,y=z}else for(A=0;A<c.length;A++){if(D=c[A],z=D.instance,K=D.currentTarget,D=D.listener,z!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=K;try{y(m)}catch(ce){Yp(ce)}m.currentTarget=null,y=z}}}}function Ge(s,a){var l=a[Co];l===void 0&&(l=a[Co]=new Set);var c=s+"__bubble";l.has(c)||(iR(a,s,2,!1),l.add(c))}function Zv(s,a,l){var c=0;a&&(c|=4),iR(l,s,c,a)}var cm="_reactListening"+Math.random().toString(36).slice(2);function Jv(s){if(!s[cm]){s[cm]=!0,lh.forEach(function(l){l!=="selectionchange"&&(GM.has(l)||Zv(l,!1,s),Zv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[cm]||(a[cm]=!0,Zv("selectionchange",!1,a))}}function iR(s,a,l,c){switch(IR(a)){case 2:var m=_V;break;case 8:m=vV;break;default:m=d0}l=m.bind(null,a,l,s),m=void 0,!qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function e0(s,a,l,c,m){var y=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var D=c.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(A===4)for(A=c.return;A!==null;){var z=A.tag;if((z===3||z===4)&&(z=A.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;A=A.return}for(;D!==null;){if(A=ci(D),A===null)return;if(z=A.tag,z===5||z===6||z===26||z===27){c=y=A;continue e}D=D.parentNode}}c=c.return}mp(function(){var K=y,ce=eu(l),fe=[];e:{var J=KT.get(s);if(J!==void 0){var le=tu,Ie=s;switch(s){case"keypress":if(Ri(l)===0)break e;case"keydown":case"keyup":le=ou;break;case"focusin":Ie="focus",le=iu;break;case"focusout":Ie="blur",le=iu;break;case"beforeblur":case"afterblur":le=iu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=R_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Tp;break;case qT:case HT:case $T:le=su;break;case GT:le=Ap;break;case"scroll":case"scrollend":le=gp;break;case"wheel":le=lu;break;case"copy":case"cut":case"paste":le=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Eh;break;case"toggle":case"beforetoggle":le=Ip}var Ne=(a&4)!==0,jt=!Ne&&(s==="scroll"||s==="scrollend"),W=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var G=K,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||W===null||(he=Do(G,W),he!=null&&Ne.push(Xh(G,he,Z))),jt)break;G=G.return}0<Ne.length&&(J=new le(J,Ie,null,l,ce),fe.push({event:J,listeners:Ne}))}}if(!(a&7)){e:{if(J=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",J&&l!==zr&&(Ie=l.relatedTarget||l.fromElement)&&(ci(Ie)||Ie[ls]))break e;if((le||J)&&(J=ce.window===ce?ce:(J=ce.ownerDocument)?J.defaultView||J.parentWindow:window,le?(Ie=l.relatedTarget||l.toElement,le=K,Ie=Ie?ci(Ie):null,Ie!==null&&(jt=ue(Ie),Ne=Ie.tag,Ie!==jt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ie=null)):(le=null,Ie=K),le!==Ie)){if(Ne=Hr,he="onMouseLeave",W="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=Eh,he="onPointerLeave",W="onPointerEnter",G="pointer"),jt=le==null?J:ma(le),Z=Ie==null?J:ma(Ie),J=new Ne(he,G+"leave",le,l,ce),J.target=jt,J.relatedTarget=Z,he=null,ci(ce)===K&&(Ne=new Ne(W,G+"enter",Ie,l,ce),Ne.target=Z,Ne.relatedTarget=jt,he=Ne),jt=he,le&&Ie)t:{for(Ne=le,W=Ie,G=0,Z=Ne;Z;Z=Ou(Z))G++;for(Z=0,he=W;he;he=Ou(he))Z++;for(;0<G-Z;)Ne=Ou(Ne),G--;for(;0<Z-G;)W=Ou(W),Z--;for(;G--;){if(Ne===W||W!==null&&Ne===W.alternate)break t;Ne=Ou(Ne),W=Ou(W)}Ne=null}else Ne=null;le!==null&&sR(fe,J,le,Ne,!1),Ie!==null&&jt!==null&&sR(fe,jt,Ie,Ne,!0)}}e:{if(J=K?ma(K):window,le=J.nodeName&&J.nodeName.toLowerCase(),le==="select"||le==="input"&&J.type==="file")var Se=kT;else if(fn(J))if(DT)Se=iM;else{Se=nM;var Be=tM}else le=J.nodeName,!le||le.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&fh(K.elementType)&&(Se=kT):Se=rM;if(Se&&(Se=Se(s,K))){gs(fe,Se,l,ce);break e}Be&&Be(s,J,K),s==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&Jl(J,"number",J.value)}switch(Be=K?ma(K):window,s){case"focusin":(fn(Be)||Be.contentEditable==="true")&&(uu=Be,O_=K,Th=null);break;case"focusout":Th=O_=uu=null;break;case"mousedown":k_=!0;break;case"contextmenu":case"mouseup":case"dragend":k_=!1,jT(fe,l,ce);break;case"selectionchange":if(oM)break;case"keydown":case"keyup":jT(fe,l,ce)}var xe;if(xi)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else We?re(s,l)&&(Pe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(S&&l.locale!=="ko"&&(We||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&We&&(xe=mh()):(Ai=ce,ba="value"in Ai?Ai.value:Ai.textContent,We=!0)),Be=hm(K,Pe),0<Be.length&&(Pe=new _h(Pe,s,null,l,ce),fe.push({event:Pe,listeners:Be}),xe?Pe.data=xe:(xe=ge(l),xe!==null&&(Pe.data=xe)))),(xe=E?dn(s,l):Ye(s,l))&&(Pe=hm(K,"onBeforeInput"),0<Pe.length&&(Be=new _h("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Be,listeners:Pe}),Be.data=xe)),qM(fe,s,K,l,ce)}rR(fe,a)})}function Xh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function hm(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Do(s,l),m!=null&&c.unshift(Xh(s,m,y)),m=Do(s,a),m!=null&&c.push(Xh(s,m,y))),s=s.return}return c}function Ou(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function sR(s,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var D=l,z=D.alternate,K=D.stateNode;if(D=D.tag,z!==null&&z===c)break;D!==5&&D!==26&&D!==27||K===null||(z=K,m?(K=Do(l,y),K!=null&&A.unshift(Xh(l,K,z))):m||(K=Do(l,y),K!=null&&A.push(Xh(l,K,z)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var KM=/\r\n?/g,WM=/\u0000|\uFFFD/g;function aR(s){return(typeof s=="string"?s:""+s).replace(KM,`
`).replace(WM,"")}function oR(s,a){return a=aR(a),aR(s)===a}function dm(){}function ct(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||jr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&jr(s,""+c);break;case"className":_a(s,"class",c);break;case"tabIndex":_a(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(s,l,c);break;case"style":pp(s,c,y);break;case"data":if(a!=="object"){_a(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Si(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ct(s,a,"name",m.name,m,null),ct(s,a,"formEncType",m.formEncType,m,null),ct(s,a,"formMethod",m.formMethod,m,null),ct(s,a,"formTarget",m.formTarget,m,null)):(ct(s,a,"encType",m.encType,m,null),ct(s,a,"method",m.method,m,null),ct(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Si(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=dm);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Si(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),ya(s,"popover",c);break;case"xlinkActuate":Fr(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Fr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Fr(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Fr(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Fr(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Fr(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ya(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=S_.get(l)||l,ya(s,l,c))}}function t0(s,a,l,c,m,y){switch(l){case"style":pp(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?jr(s,c):(typeof c=="number"||typeof c=="bigint")&&jr(s,""+c);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"onClick":c!=null&&(s.onclick=dm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[hn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):ya(s,l,c)}}}function kn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,y,A,l,null)}}m&&ct(s,a,"srcSet",l.srcSet,l,null),c&&ct(s,a,"src",l.src,l,null);return;case"input":Ge("invalid",s);var D=y=A=m=null,z=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":z=ce;break;case"defaultChecked":K=ce;break;case"value":y=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(s,a,c,ce,l,null)}}Oo(s,y,D,z,K,A,m,!1),Po(s);return;case"select":Ge("invalid",s),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(D=l[m],D!=null))switch(m){case"value":y=D;break;case"defaultValue":A=D;break;case"multiple":c=D;default:ct(s,a,m,D,l,null)}a=y,l=A,s.multiple=!!c,a!=null?Je(s,!!c,a,!1):l!=null&&Je(s,!!c,l,!0);return;case"textarea":Ge("invalid",s),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(D=l[A],D!=null))switch(A){case"value":c=D;break;case"defaultValue":m=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:ct(s,a,A,D,l,null)}Ea(s,c,m,y),Po(s);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(s,a,z,c,l,null)}return;case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(c=0;c<Qh.length;c++)Ge(Qh[c],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,K,c,l,null)}return;default:if(fh(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&t0(s,a,ce,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&ct(s,a,D,c,l,null))}function YM(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,D=null,z=null,K=null,ce=null;for(le in l){var fe=l[le];if(l.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":z=fe;default:c.hasOwnProperty(le)||ct(s,a,le,null,c,fe)}}for(var J in c){var le=c[J];if(fe=l[J],c.hasOwnProperty(J)&&(le!=null||fe!=null))switch(J){case"type":y=le;break;case"name":m=le;break;case"checked":K=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==fe&&ct(s,a,J,le,c,fe)}}va(s,A,D,z,K,ce,y,m);return;case"select":le=A=D=J=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":le=z;default:c.hasOwnProperty(y)||ct(s,a,y,null,c,z)}for(m in c)if(y=c[m],z=l[m],c.hasOwnProperty(m)&&(y!=null||z!=null))switch(m){case"value":J=y;break;case"defaultValue":D=y;break;case"multiple":A=y;default:y!==z&&ct(s,a,m,y,c,z)}a=D,l=A,c=le,J!=null?Je(s,!!l,J,!1):!!c!=!!l&&(a!=null?Je(s,!!l,a,!0):Je(s,!!l,l?[]:"",!1));return;case"textarea":le=J=null;for(D in l)if(m=l[D],l.hasOwnProperty(D)&&m!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ct(s,a,D,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":J=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ct(s,a,A,m,c,y)}ko(s,J,le);return;case"option":for(var Ie in l)if(J=l[Ie],l.hasOwnProperty(Ie)&&J!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:ct(s,a,Ie,null,c,J)}for(z in c)if(J=c[z],le=l[z],c.hasOwnProperty(z)&&J!==le&&(J!=null||le!=null))switch(z){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ct(s,a,z,J,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)J=l[Ne],l.hasOwnProperty(Ne)&&J!=null&&!c.hasOwnProperty(Ne)&&ct(s,a,Ne,null,c,J);for(K in c)if(J=c[K],le=l[K],c.hasOwnProperty(K)&&J!==le&&(J!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:ct(s,a,K,J,c,le)}return;default:if(fh(a)){for(var jt in l)J=l[jt],l.hasOwnProperty(jt)&&J!==void 0&&!c.hasOwnProperty(jt)&&t0(s,a,jt,void 0,c,J);for(ce in c)J=c[ce],le=l[ce],!c.hasOwnProperty(ce)||J===le||J===void 0&&le===void 0||t0(s,a,ce,J,c,le);return}}for(var W in l)J=l[W],l.hasOwnProperty(W)&&J!=null&&!c.hasOwnProperty(W)&&ct(s,a,W,null,c,J);for(fe in c)J=c[fe],le=l[fe],!c.hasOwnProperty(fe)||J===le||J==null&&le==null||ct(s,a,fe,J,c,le)}var n0=null,r0=null;function fm(s){return s.nodeType===9?s:s.ownerDocument}function lR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uR(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function i0(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var s0=null;function QM(){var s=window.event;return s&&s.type==="popstate"?s===s0?!1:(s0=s,!0):(s0=null,!1)}var cR=typeof setTimeout=="function"?setTimeout:void 0,XM=typeof clearTimeout=="function"?clearTimeout:void 0,hR=typeof Promise=="function"?Promise:void 0,ZM=typeof queueMicrotask=="function"?queueMicrotask:typeof hR<"u"?function(s){return hR.resolve(null).then(s).catch(JM)}:cR;function JM(s){setTimeout(function(){throw s})}function a0(s,a){var l=a,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){s.removeChild(m),sd(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);sd(a)}function o0(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":o0(l),xo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function eV(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[pa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=pi(s.nextSibling),s===null)break}return null}function tV(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=pi(s.nextSibling),s===null))return null;return s}function pi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function dR(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function fR(s,a,l){switch(a=fm(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var ei=new Map,pR=new Set;function pm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Os=ye.d;ye.d={f:nV,r:rV,D:iV,C:sV,L:aV,m:oV,X:uV,S:lV,M:cV};function nV(){var s=Os.f(),a=am();return s||a}function rV(s){var a=us(s);a!==null&&a.tag===5&&a.type==="form"?jS(a):Os.r(s)}var ku=typeof document>"u"?null:document;function mR(s,a,l){var c=ku;if(c&&typeof a=="string"&&a){var m=Ut(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),pR.has(m)||(pR.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),kn(a,"link",s),Pt(a),c.head.appendChild(a)))}}function iV(s){Os.D(s),mR("dns-prefetch",s,null)}function sV(s,a){Os.C(s,a),mR("preconnect",s,a)}function aV(s,a,l){Os.L(s,a,l);var c=ku;if(c&&s&&a){var m='link[rel="preload"][as="'+Ut(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Ut(l.imageSizes)+'"]')):m+='[href="'+Ut(s)+'"]';var y=m;switch(a){case"style":y=Du(s);break;case"script":y=Nu(s)}ei.has(y)||(s=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ei.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Zh(y))||a==="script"&&c.querySelector(Jh(y))||(a=c.createElement("link"),kn(a,"link",s),Pt(a),c.head.appendChild(a)))}}function oV(s,a){Os.m(s,a);var l=ku;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Ut(c)+'"][href="'+Ut(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Nu(s)}if(!ei.has(y)&&(s=b({rel:"modulepreload",href:s},a),ei.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jh(y)))return}c=l.createElement("link"),kn(c,"link",s),Pt(c),l.head.appendChild(c)}}}function lV(s,a,l){Os.S(s,a,l);var c=ku;if(c&&s){var m=ga(c).hoistableStyles,y=Du(s);a=a||"default";var A=m.get(y);if(!A){var D={loading:0,preload:null};if(A=c.querySelector(Zh(y)))D.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ei.get(y))&&l0(s,l);var z=A=c.createElement("link");Pt(z),kn(z,"link",s),z._p=new Promise(function(K,ce){z.onload=K,z.onerror=ce}),z.addEventListener("load",function(){D.loading|=1}),z.addEventListener("error",function(){D.loading|=2}),D.loading|=4,mm(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:D},m.set(y,A)}}}function uV(s,a){Os.X(s,a);var l=ku;if(l&&s){var c=ga(l).hoistableScripts,m=Nu(s),y=c.get(m);y||(y=l.querySelector(Jh(m)),y||(s=b({src:s,async:!0},a),(a=ei.get(m))&&u0(s,a),y=l.createElement("script"),Pt(y),kn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function cV(s,a){Os.M(s,a);var l=ku;if(l&&s){var c=ga(l).hoistableScripts,m=Nu(s),y=c.get(m);y||(y=l.querySelector(Jh(m)),y||(s=b({src:s,async:!0,type:"module"},a),(a=ei.get(m))&&u0(s,a),y=l.createElement("script"),Pt(y),kn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function gR(s,a,l,c){var m=(m=at.current)?pm(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Du(l.href),l=ga(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Du(l.href);var y=ga(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(Zh(s)))&&!y._p&&(A.instance=y,A.state.loading=5),ei.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ei.set(s,l),y||hV(m,s,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Nu(l),l=ga(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Du(s){return'href="'+Ut(s)+'"'}function Zh(s){return'link[rel="stylesheet"]['+s+"]"}function yR(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function hV(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),kn(a,"link",l),Pt(a),s.head.appendChild(a))}function Nu(s){return'[src="'+Ut(s)+'"]'}function Jh(s){return"script[async]"+s}function _R(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Ut(l.href)+'"]');if(c)return a.instance=c,Pt(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Pt(c),kn(c,"style",m),mm(c,l.precedence,s),a.instance=c;case"stylesheet":m=Du(l.href);var y=s.querySelector(Zh(m));if(y)return a.state.loading|=4,a.instance=y,Pt(y),y;c=yR(l),(m=ei.get(m))&&l0(c,m),y=(s.ownerDocument||s).createElement("link"),Pt(y);var A=y;return A._p=new Promise(function(D,z){A.onload=D,A.onerror=z}),kn(y,"link",c),a.state.loading|=4,mm(y,l.precedence,s),a.instance=y;case"script":return y=Nu(l.src),(m=s.querySelector(Jh(y)))?(a.instance=m,Pt(m),m):(c=l,(m=ei.get(y))&&(c=b({},l),u0(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Pt(m),kn(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,mm(c,l.precedence,s));return a.instance}function mm(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var D=c[A];if(D.dataset.precedence===a)y=D;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function l0(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function u0(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var gm=null;function vR(s,a,l){if(gm===null){var c=new Map,m=gm=new Map;m.set(l,c)}else m=gm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[pa]||y[vn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var D=c.get(A);D?D.push(y):c.set(A,[y])}}return c}function ER(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function dV(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function bR(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var ed=null;function fV(){}function pV(s,a,l){if(ed===null)throw Error(r(475));var c=ed;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=Du(l.href),y=s.querySelector(Zh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=ym.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Pt(y);return}y=s.ownerDocument||s,l=yR(l),(m=ei.get(m))&&l0(l,m),y=y.createElement("link"),Pt(y);var A=y;A._p=new Promise(function(D,z){A.onload=D,A.onerror=z}),kn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=ym.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function mV(){if(ed===null)throw Error(r(475));var s=ed;return s.stylesheets&&s.count===0&&c0(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&c0(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function ym(){if(this.count--,this.count===0){if(this.stylesheets)c0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var _m=null;function c0(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,_m=new Map,a.forEach(gV,s),_m=null,ym.call(s))}function gV(s,a){if(!(a.state.loading&4)){var l=_m.get(s);if(l)var c=l.get(null);else{l=new Map,_m.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=ym.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var td={$$typeof:T,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function yV(s,a,l,c,m,y,A,D){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.hiddenUpdates=Yl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function wR(s,a,l,c,m,y,A,D,z,K,ce,fe){return s=new yV(s,a,l,A,D,z,K,fe),a=1,y===!0&&(a|=24),y=Zr(3,null,null,a),s.current=y,y.stateNode=s,a=z_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},wv(y),s}function TR(s){return s?(s=du,s):du}function SR(s,a,l,c,m,y){m=TR(m),c.context===null?c.context=m:c.pendingContext=m,c=xa(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Pa(s,c,a),l!==null&&(tr(l,s,a),Uh(l,s,a))}function AR(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function h0(s,a){AR(s,a),(s=s.alternate)&&AR(s,a)}function RR(s){if(s.tag===13){var a=wa(s,67108864);a!==null&&tr(a,s,67108864),h0(s,67108864)}}var vm=!0;function _V(s,a,l,c){var m=I.T;I.T=null;var y=ye.p;try{ye.p=2,d0(s,a,l,c)}finally{ye.p=y,I.T=m}}function vV(s,a,l,c){var m=I.T;I.T=null;var y=ye.p;try{ye.p=8,d0(s,a,l,c)}finally{ye.p=y,I.T=m}}function d0(s,a,l,c){if(vm){var m=f0(c);if(m===null)e0(s,a,c,Em,l),CR(s,c);else if(bV(m,s,a,l,c))c.stopPropagation();else if(CR(s,c),a&4&&-1<EV.indexOf(s)){for(;m!==null;){var y=us(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ui(y.pendingLanes);if(A!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var z=1<<31-Xn(A);D.entanglements[1]|=z,A&=~z}Mi(y),!(kt&6)&&(rm=ur()+500,Yh(0))}}break;case 13:D=wa(y,2),D!==null&&tr(D,y,2),am(),h0(y,2)}if(y=f0(c),y===null&&e0(s,a,c,Em,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else e0(s,a,c,null,l)}}function f0(s){return s=eu(s),p0(s)}var Em=null;function p0(s){if(Em=null,s=ci(s),s!==null){var a=ue(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=Te(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Em=s,null}function IR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sp()){case cn:return 2;case _n:return 8;case os:case ap:return 32;case rh:return 268435456;default:return 32}default:return 32}}var m0=!1,La=null,Ua=null,Ba=null,nd=new Map,rd=new Map,Fa=[],EV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CR(s,a){switch(s){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":nd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(a.pointerId)}}function id(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=us(a),a!==null&&RR(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function bV(s,a,l,c,m){switch(a){case"focusin":return La=id(La,s,a,l,c,m),!0;case"dragenter":return Ua=id(Ua,s,a,l,c,m),!0;case"mouseover":return Ba=id(Ba,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return nd.set(y,id(nd.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,rd.set(y,id(rd.get(y)||null,s,a,l,c,m)),!0}return!1}function xR(s){var a=ci(s.target);if(a!==null){var l=ue(a);if(l!==null){if(a=l.tag,a===13){if(a=Te(l),a!==null){s.blockedOn=a,fa(s.priority,function(){if(l.tag===13){var c=Rr(),m=wa(l,c);m!==null&&tr(m,l,c),h0(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=f0(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);zr=c,l.target.dispatchEvent(c),zr=null}else return a=us(l),a!==null&&RR(a),s.blockedOn=l,!1;a.shift()}return!0}function PR(s,a,l){bm(s)&&l.delete(a)}function wV(){m0=!1,La!==null&&bm(La)&&(La=null),Ua!==null&&bm(Ua)&&(Ua=null),Ba!==null&&bm(Ba)&&(Ba=null),nd.forEach(PR),rd.forEach(PR)}function wm(s,a){s.blockedOn===a&&(s.blockedOn=null,m0||(m0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wV)))}var Tm=null;function OR(s){Tm!==s&&(Tm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tm===s&&(Tm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(p0(c||l)===null)continue;break}var y=us(l);y!==null&&(s.splice(a,3),a-=3,iv(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function sd(s){function a(z){return wm(z,s)}La!==null&&wm(La,s),Ua!==null&&wm(Ua,s),Ba!==null&&wm(Ba,s),nd.forEach(a),rd.forEach(a);for(var l=0;l<Fa.length;l++){var c=Fa[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Fa.length&&(l=Fa[0],l.blockedOn===null);)xR(l),l.blockedOn===null&&Fa.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[hn]||null;if(typeof y=="function")A||OR(l);else if(A){var D=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[hn]||null)D=A.formAction;else if(p0(m)!==null)continue}else D=A.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),OR(l)}}}function g0(s){this._internalRoot=s}Sm.prototype.render=g0.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Rr();SR(l,c,s,a,null,null)},Sm.prototype.unmount=g0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&xu(),SR(s.current,2,null,s,null,null),am(),a[ls]=null}};function Sm(s){this._internalRoot=s}Sm.prototype.unstable_scheduleHydration=function(s){if(s){var a=hp();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Fa.length&&a!==0&&a<Fa[l].priority;l++);Fa.splice(l,0,s),l===0&&xR(s)}};var kR=e.version;if(kR!=="19.0.0")throw Error(r(527,kR,"19.0.0"));ye.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ae(a),s=s!==null?be(s):null,s=s===null?null:s.stateNode,s};var TV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:ci,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Am.isDisabled&&Am.supportsFiber)try{oa=Am.inject(TV),Bn=Am}catch{}}return od.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=YS,y=QS,A=XS,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=wR(s,1,!1,null,null,l,c,m,y,A,D,null),s[ls]=a.current,Jv(s.nodeType===8?s.parentNode:s),new g0(a)},od.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=YS,A=QS,D=XS,z=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=wR(s,1,!0,a,l??null,c,m,y,A,D,z,K),a.context=TR(null),l=a.current,c=Rr(),m=xa(c),m.callback=null,Pa(l,m,c),a.current.lanes=c,Kt(a,c),Mi(a),s[ls]=a.current,Jv(s),new Sm(a)},od.version="19.0.0",od}var zR;function DV(){if(zR)return v0.exports;zR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),v0.exports=kV(),v0.exports}var NV=DV(),ld={},qR;function MV(){if(qR)return ld;qR=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.parse=u,ld.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const w=new o,R=v.length;if(R<2)return w;const x=(T==null?void 0:T.decode)||g;let B=0;do{const L=v.indexOf("=",B);if(L===-1)break;const U=v.indexOf(";",B),H=U===-1?R:U;if(L>H){B=v.lastIndexOf(";",L-1)+1;continue}const j=h(v,B,L),$=d(v,L,j),M=v.slice(j,$);if(w[M]===void 0){let C=h(v,L+1,H),I=d(v,H,C);const b=x(v.slice(C,I));w[M]=b}B=H+1}while(B<R);return w}function h(v,T,w){do{const R=v.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<w);return w}function d(v,T,w){for(;T>w;){const R=v.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return w}function f(v,T,w){const R=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=R(T);if(!e.test(x))throw new TypeError(`argument val is invalid: ${T}`);let B=v+"="+x;if(!w)return B;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);B+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);B+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);B+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);B+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(B+="; HttpOnly"),w.secure&&(B+="; Secure"),w.partitioned&&(B+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return B}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return ld}MV();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cE({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ny(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Px(n,e,t="/"){return VV(n,e,t,!1)}function VV(n,e,t,r){let i=typeof e=="string"?ny(e):e,o=Sl(i.pathname||"/",t);if(o==null)return null;let u=Ox(n);LV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=WV(o);h=GV(u[d],f,r)}return h}function Ox(n,e=[],t=[],r=""){let i=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Qt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Fs([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Qt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Ox(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:HV(f,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of kx(o.path))i(o,u,d)}),e}function kx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=kx(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function LV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$V(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var UV=/^:[\w-]+$/,BV=3,FV=2,jV=1,zV=10,qV=-2,HR=n=>n==="*";function HV(n,e){let t=n.split("/"),r=t.length;return t.some(HR)&&(r+=qV),e&&(r+=FV),t.filter(i=>!HR(i)).reduce((i,o)=>i+(UV.test(o)?BV:o===""?jV:zV),r)}function $V(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function GV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=gg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=gg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Fs([o,_.pathname]),pathnameBase:ZV(Fs([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Fs([o,_.pathnameBase]))}return u}function gg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=KV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function KV(n,e=!1,t=!0){qs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Sl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function YV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ny(n):n;return{pathname:t?t.startsWith("/")?t:QV(t,e):e,search:JV(r),hash:eL(i)}}function QV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function T0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dx(n){let e=XV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Nx(n,e,t,r=!1){let i;typeof n=="string"?i=ny(n):(i={...n},Qt(!i.pathname||!i.pathname.includes("?"),T0("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),T0("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),T0("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=YV(i,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Fs=n=>n.join("/").replace(/\/\/+/g,"/"),ZV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Mx=["POST","PUT","PATCH","DELETE"];new Set(Mx);var nL=["GET",...Mx];new Set(nL);var Lc=X.createContext(null);Lc.displayName="DataRouter";var ry=X.createContext(null);ry.displayName="DataRouterState";var Vx=X.createContext({isTransitioning:!1});Vx.displayName="ViewTransition";var rL=X.createContext(new Map);rL.displayName="Fetchers";var iL=X.createContext(null);iL.displayName="Await";var Xs=X.createContext(null);Xs.displayName="Navigation";var iy=X.createContext(null);iy.displayName="Location";var as=X.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var _b=X.createContext(null);_b.displayName="RouteError";function sL(n,{relative:e}={}){Qt(sy(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=X.useContext(Xs),{hash:i,pathname:o,search:u}=Of(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Fs([t,o])),r.createHref({pathname:h,search:u,hash:i})}function sy(){return X.useContext(iy)!=null}function vo(){return Qt(sy(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(iy).location}var Lx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ux(n){X.useContext(Xs).static||X.useLayoutEffect(n)}function ay(){let{isDataRoute:n}=X.useContext(as);return n?_L():aL()}function aL(){Qt(sy(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(Lc),{basename:e,navigator:t}=X.useContext(Xs),{matches:r}=X.useContext(as),{pathname:i}=vo(),o=JSON.stringify(Dx(r)),u=X.useRef(!1);return Ux(()=>{u.current=!0}),X.useCallback((d,f={})=>{if(qs(u.current,Lx),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=Nx(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Fs([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}X.createContext(null);function Bx(){let{matches:n}=X.useContext(as),e=n[n.length-1];return e?e.params:{}}function Of(n,{relative:e}={}){let{matches:t}=X.useContext(as),{pathname:r}=vo(),i=JSON.stringify(Dx(t));return X.useMemo(()=>Nx(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function oL(n,e){return Fx(n,e)}function Fx(n,e,t,r){var L;Qt(sy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=X.useContext(Xs),{matches:u}=X.useContext(as),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";jx(f,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=vo(),T;if(e){let U=typeof e=="string"?ny(e):e;Qt(g==="/"||((L=U.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=v;let w=T.pathname||"/",R=w;if(g!=="/"){let U=g.replace(/^\//,"").split("/");R="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:Px(n,{pathname:R});qs(_||x!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),qs(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=dL(x&&x.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Fs([g,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Fs([g,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,t,r);return e&&B?X.createElement(iy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},B):B}function lL(){let n=yL(),e=tL(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:o},"ErrorBoundary")," or"," ",X.createElement("code",{style:o},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:i},t):null,u)}var uL=X.createElement(lL,null),cL=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?X.createElement(as.Provider,{value:this.props.routeContext},X.createElement(_b.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hL({routeContext:n,match:e,children:t}){let r=X.useContext(Lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(as.Provider,{value:n},t)}function dL(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:g,errors:_}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let _,v=!1,T=null,w=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||uL,u&&(h<0&&g===0?(jx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===g&&(v=!0,w=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,g+1)),x=()=>{let B;return _?B=T:v?B=w:f.route.Component?B=X.createElement(f.route.Component,null):f.route.element?B=f.route.element:B=d,X.createElement(hL,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:B})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?X.createElement(cL,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:x(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):x()},null)}function vb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fL(n){let e=X.useContext(Lc);return Qt(e,vb(n)),e}function pL(n){let e=X.useContext(ry);return Qt(e,vb(n)),e}function mL(n){let e=X.useContext(as);return Qt(e,vb(n)),e}function Eb(n){let e=mL(n),t=e.matches[e.matches.length-1];return Qt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gL(){return Eb("useRouteId")}function yL(){var r;let n=X.useContext(_b),e=pL("useRouteError"),t=Eb("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function _L(){let{router:n}=fL("useNavigate"),e=Eb("useNavigate"),t=X.useRef(!1);return Ux(()=>{t.current=!0}),X.useCallback(async(i,o={})=>{qs(t.current,Lx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var $R={};function jx(n,e,t){!e&&!$R[n]&&($R[n]=!0,qs(!1,t))}X.memo(vL);function vL({routes:n,future:e,state:t}){return Fx(n,void 0,t,e)}function Ns(n){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EL({children:n,location:e}){return oL(hE(n),e)}function hE(n,e=[]){let t=[];return X.Children.forEach(n,(r,i)=>{if(!X.isValidElement(r))return;let o=[...e,i];if(r.type===X.Fragment){t.push.apply(t,hE(r.props.children,o));return}Qt(r.type===Ns,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=hE(r.props.children,o)),t.push(u)}),t}var $m="get",Gm="application/x-www-form-urlencoded";function oy(n){return n!=null&&typeof n.tagName=="string"}function bL(n){return oy(n)&&n.tagName.toLowerCase()==="button"}function wL(n){return oy(n)&&n.tagName.toLowerCase()==="form"}function TL(n){return oy(n)&&n.tagName.toLowerCase()==="input"}function SL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AL(n,e){return n.button===0&&(!e||e==="_self")&&!SL(n)}var Rm=null;function RL(){if(Rm===null)try{new FormData(document.createElement("form"),0),Rm=!1}catch{Rm=!0}return Rm}var IL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function S0(n){return n!=null&&!IL.has(n)?(qs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gm}"`),null):n}function CL(n,e){let t,r,i,o,u;if(wL(n)){let h=n.getAttribute("action");r=h?Sl(h,e):null,t=n.getAttribute("method")||$m,i=S0(n.getAttribute("enctype"))||Gm,o=new FormData(n)}else if(bL(n)||TL(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Sl(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||$m,i=S0(n.getAttribute("formenctype"))||S0(h.getAttribute("enctype"))||Gm,o=new FormData(h,n),!RL()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(oy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$m,r=null,i=Gm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function bb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function xL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function OL(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await xL(o,t);return u.links?u.links():[]}return[]}));return ML(r.flat(1).filter(PL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function GR(n,e,t,r,i,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function kL(n,e){return DL(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function DL(n){return[...new Set(n)]}function NL(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ML(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(NL(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function VL(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LL(){let n=X.useContext(Lc);return bb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UL(){let n=X.useContext(ry);return bb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wb=X.createContext(void 0);wb.displayName="FrameworkContext";function zx(){let n=X.useContext(wb);return bb(n,"You must render this element inside a <HydratedRouter> element"),n}function BL(n,e){let t=X.useContext(wb),[r,i]=X.useState(!1),[o,u]=X.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=X.useRef(null);X.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let R=B=>{B.forEach(L=>{u(L.isIntersecting)})},x=new IntersectionObserver(R,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),X.useEffect(()=>{if(r){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},w=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:ud(h,T),onBlur:ud(d,w),onMouseEnter:ud(f,T),onMouseLeave:ud(g,w),onTouchStart:ud(_,T)}]:[!1,v,{}]}function ud(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FL({page:n,...e}){let{router:t}=LL(),r=X.useMemo(()=>Px(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?X.createElement(zL,{page:n,matches:r,...e}):null}function jL(n){let{manifest:e,routeModules:t}=zx(),[r,i]=X.useState([]);return X.useEffect(()=>{let o=!1;return OL(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function zL({page:n,matches:e,...t}){let r=vo(),{manifest:i,routeModules:o}=zx(),{loaderData:u,matches:h}=UL(),d=X.useMemo(()=>GR(n,e,h,i,r,"data"),[n,e,h,i,r]),f=X.useMemo(()=>GR(n,e,h,i,r,"assets"),[n,e,h,i,r]),g=X.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(e.forEach(x=>{var L;let B=i.routes[x.route.id];!B||!B.hasLoader||(!d.some(U=>U.route.id===x.route.id)&&x.route.id in u&&((L=o[x.route.id])!=null&&L.shouldRevalidate)||B.hasClientLoader?w=!0:T.add(x.route.id))}),T.size===0)return[];let R=VL(n);return w&&T.size>0&&R.searchParams.set("_routes",e.filter(x=>T.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[u,r,i,d,e,n,o]),_=X.useMemo(()=>kL(f,i),[f,i]),v=jL(f);return X.createElement(X.Fragment,null,g.map(T=>X.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>X.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),v.map(({key:T,link:w})=>X.createElement("link",{key:T,...w})))}function qL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qx&&(window.__reactRouterVersion="7.1.5")}catch{}var Hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=X.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=X.useContext(Xs),R=typeof f=="string"&&Hx.test(f),x,B=!1;if(typeof f=="string"&&R&&(x=f,qx))try{let I=new URL(window.location.href),b=f.startsWith("//")?new URL(I.protocol+f):new URL(f),P=Sl(b.pathname,w);b.origin===I.origin&&P!=null?f=P+b.search+b.hash:B=!0}catch{qs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=sL(f,{relative:i}),[U,H,j]=BL(r,v),$=KL(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:i,viewTransition:_});function M(I){e&&e(I),I.defaultPrevented||$(I)}let C=X.createElement("a",{...v,...j,href:x||L,onClick:B||o?e:M,ref:qL(T,H),target:d,"data-discover":!R&&t==="render"?"true":void 0});return U&&!R?X.createElement(X.Fragment,null,C,X.createElement(FL,{page:L})):C});yi.displayName="Link";var HL=X.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=Of(u,{relative:f.relative}),v=vo(),T=X.useContext(ry),{navigator:w,basename:R}=X.useContext(Xs),x=T!=null&&ZL(_)&&h===!0,B=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,L=v.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),U=U?U.toLowerCase():null,B=B.toLowerCase()),U&&R&&(U=Sl(U,R)||U);const H=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let j=L===B||!i&&L.startsWith(B)&&L.charAt(H)==="/",$=U!=null&&(U===B||!i&&U.startsWith(B)&&U.charAt(B.length)==="/"),M={isActive:j,isPending:$,isTransitioning:x},C=j?e:void 0,I;typeof r=="function"?I=r(M):I=[r,j?"active":null,$?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(M):o;return X.createElement(yi,{...f,"aria-current":C,className:I,ref:g,style:b,to:u,viewTransition:h},typeof d=="function"?d(M):d)});HL.displayName="NavLink";var $L=X.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=$m,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=QL(),R=XL(h,{relative:f}),x=u.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&Hx.test(h),L=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let H=U.nativeEvent.submitter,j=(H==null?void 0:H.getAttribute("formmethod"))||u;w(H||U.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return X.createElement("form",{ref:T,method:x,action:R,onSubmit:r?d:L,...v,"data-discover":!B&&n==="render"?"true":void 0})});$L.displayName="Form";function GL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $x(n){let e=X.useContext(Lc);return Qt(e,GL(n)),e}function KL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=ay(),d=vo(),f=Of(n,{relative:o});return X.useCallback(g=>{if(AL(g,e)){g.preventDefault();let _=t!==void 0?t:cE(d)===cE(f);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,i,o,u])}var WL=0,YL=()=>`__${String(++WL)}__`;function QL(){let{router:n}=$x("useSubmit"),{basename:e}=X.useContext(Xs),t=gL();return X.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=CL(r,e);if(i.navigate===!1){let g=i.fetcherKey||YL();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function XL(n,{relative:e}={}){let{basename:t}=X.useContext(Xs),r=X.useContext(as);Qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Of(n||".",{relative:e})},u=vo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Fs([t,o.pathname])),cE(o)}function ZL(n,e={}){let t=X.useContext(Vx);Qt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$x("useViewTransitionState"),i=Of(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Sl(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Sl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return gg(i.pathname,u)!=null||gg(i.pathname,o)!=null}new TextEncoder;xx();var A0={},cd={},Im={},Cm={},R0={exports:{}},I0,KR;function JL(){if(KR)return I0;KR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return I0=n,I0}var C0,WR;function eU(){if(WR)return C0;WR=1;var n=JL();function e(){}function t(){}return t.resetWarningCache=e,C0=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},C0}var YR;function Gx(){return YR||(YR=1,R0.exports=eU()()),R0.exports}var QR;function tU(){return QR||(QR=1,function(n){(function(e,t){t(n,_o(),Gx())})(Cm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var i=u(t),o=u(r);function u(L){return L&&L.__esModule?L:{default:L}}var h=Object.assign||function(L){for(var U=1;U<arguments.length;U++){var H=arguments[U];for(var j in H)Object.prototype.hasOwnProperty.call(H,j)&&(L[j]=H[j])}return L};function d(L,U){var H={};for(var j in L)U.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(L,j)&&(H[j]=L[j]);return H}function f(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}var g=function(){function L(U,H){for(var j=0;j<H.length;j++){var $=H[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(U,$.key,$)}}return function(U,H,j){return H&&L(U.prototype,H),j&&L(U,j),U}}();function _(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:L}function v(L,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}var T=!1;function w(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function x(L){if("touches"in L){var U=L.touches[0],H=U.pageX,j=U.pageY;return{x:H,y:j}}var $=L.screenX,M=L.screenY;return{x:$,y:M}}var B=function(L){v(U,L);function U(){var H;f(this,U);for(var j=arguments.length,$=Array(j),M=0;M<j;M++)$[M]=arguments[M];var C=_(this,(H=U.__proto__||Object.getPrototypeOf(U)).call.apply(H,[this].concat($)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(U,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var $=x(j),M=$.x,C=$.y;this.moveStart={x:M,y:C},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var $=x(j),M=$.x,C=$.y,I=M-this.moveStart.x,b=C-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:I,y:b},j);P&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:I,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var $=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-$?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>$&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-$?this.props.onSwipeUp(1,j):this.movePosition.deltaY>$&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var $=j.className,M=j.style,C=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var I=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:$,style:M},I),C)}}]),U}(t.Component);B.displayName="ReactSwipe",B.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},B.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=B})}(Cm)),Cm}var XR;function Kx(){return XR||(XR=1,function(n){(function(e,t){t(n,tU())})(Im,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Im)),Im}var hd={},x0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var ZR;function nU(){return ZR||(ZR=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(x0)),x0.exports}var JR;function Wx(){if(JR)return hd;JR=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.default=void 0;var n=e(nU());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return hd.default=r,hd}var dd={},fd={},eI;function rU(){if(eI)return fd;eI=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return fd.outerWidth=n,fd}var pd={},tI;function Tb(){if(tI)return pd;tI=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return pd.default=n,pd}var md={},nI;function Yx(){if(nI)return md;nI=1,Object.defineProperty(md,"__esModule",{value:!0}),md.default=void 0;var n=function(){return window};return md.default=n,md}var rI;function Qx(){if(rI)return dd;rI=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.default=void 0;var n=d(_o()),e=u(Wx()),t=rU(),r=u(Tb()),i=u(Kx()),o=u(Yx());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var I=h();if(I&&I.has(C))return I.get(C);var b={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in C)if(Object.prototype.hasOwnProperty.call(C,O)){var k=P?Object.getOwnPropertyDescriptor(C,O):null;k&&(k.get||k.set)?Object.defineProperty(b,O,k):b[O]=C[O]}return b.default=C,I&&I.set(C,b),b}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(b){return typeof b}:f=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(C)}function g(){return g=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var b=arguments[I];for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(C[P]=b[P])}return C},g.apply(this,arguments)}function _(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function v(C,I){for(var b=0;b<I.length;b++){var P=I[b];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function T(C,I,b){return I&&v(C.prototype,I),C}function w(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),I&&R(C,I)}function R(C,I){return R=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P},R(C,I)}function x(C){var I=U();return function(){var P=H(C),O;if(I){var k=H(this).constructor;O=Reflect.construct(P,arguments,k)}else O=P.apply(this,arguments);return B(this,O)}}function B(C,I){return I&&(f(I)==="object"||typeof I=="function")?I:L(C)}function L(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(C){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},H(C)}function j(C,I,b){return I in C?Object.defineProperty(C,I,{value:b,enumerable:!0,configurable:!0,writable:!0}):C[I]=b,C}var $=function(I){return I.hasOwnProperty("key")},M=function(C){w(b,C);var I=x(b);function b(P){var O;return _(this,b),O=I.call(this,P),j(L(O),"itemsWrapperRef",void 0),j(L(O),"itemsListRef",void 0),j(L(O),"thumbsRef",void 0),j(L(O),"setItemsWrapperRef",function(k){O.itemsWrapperRef=k}),j(L(O),"setItemsListRef",function(k){O.itemsListRef=k}),j(L(O),"setThumbsRef",function(k,te){O.thumbsRef||(O.thumbsRef=[]),O.thumbsRef[te]=k}),j(L(O),"updateSizes",function(){if(!(!O.props.children||!O.itemsWrapperRef||!O.thumbsRef)){var k=n.Children.count(O.props.children),te=O.itemsWrapperRef.clientWidth,F=O.props.thumbWidth?O.props.thumbWidth:(0,t.outerWidth)(O.thumbsRef[0]),ee=Math.floor(te/F),ie=ee<k,ue=ie?k-ee:0;O.setState(function(Te,q){return{itemSize:F,visibleItems:ee,firstItem:ie?O.getFirstItem(q.selectedItem):0,lastPosition:ue,showArrows:ie}})}}),j(L(O),"handleClickItem",function(k,te,F){if(!$(F)||F.key==="Enter"){var ee=O.props.onSelectItem;typeof ee=="function"&&ee(k,te)}}),j(L(O),"onSwipeStart",function(){O.setState({swiping:!0})}),j(L(O),"onSwipeEnd",function(){O.setState({swiping:!1})}),j(L(O),"onSwipeMove",function(k){var te=k.x;if(!O.state.itemSize||!O.itemsWrapperRef||!O.state.visibleItems)return!1;var F=0,ee=n.Children.count(O.props.children),ie=-(O.state.firstItem*100)/O.state.visibleItems,ue=Math.max(ee-O.state.visibleItems,0),Te=-ue*100/O.state.visibleItems;ie===F&&te>0&&(te=0),ie===Te&&te<0&&(te=0);var q=O.itemsWrapperRef.clientWidth,ae=ie+100/(q/te);return O.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(be){O.itemsListRef.style[be]=(0,r.default)(ae,"%",O.props.axis)}),!0}),j(L(O),"slideRight",function(k){O.moveTo(O.state.firstItem-(typeof k=="number"?k:1))}),j(L(O),"slideLeft",function(k){O.moveTo(O.state.firstItem+(typeof k=="number"?k:1))}),j(L(O),"moveTo",function(k){k=k<0?0:k,k=k>=O.state.lastPosition?O.state.lastPosition:k,O.setState({firstItem:k})}),O.state={selectedItem:P.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},O}return T(b,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(O){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==O.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(O){var k=O;return O>=this.state.lastPosition&&(k=this.state.lastPosition),O<this.state.firstItem+this.state.visibleItems&&(k=this.state.firstItem),O<this.state.firstItem&&(k=O),k}},{key:"renderItems",value:function(){var O=this;return this.props.children.map(function(k,te){var F=e.default.ITEM(!1,te===O.state.selectedItem),ee={key:te,ref:function(ue){return O.setThumbsRef(ue,te)},className:F,onClick:O.handleClickItem.bind(O,te,O.props.children[te]),onKeyDown:O.handleClickItem.bind(O,te,O.props.children[te]),"aria-label":"".concat(O.props.labels.item," ").concat(te+1),style:{width:O.props.thumbWidth}};return n.default.createElement("li",g({},ee,{role:"button",tabIndex:0}),k)})}},{key:"render",value:function(){var O=this;if(!this.props.children)return null;var k=n.Children.count(this.props.children)>1,te=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ee={},ie=-this.state.firstItem*(this.state.itemSize||0),ue=(0,r.default)(ie,"px",this.props.axis),Te=this.props.transitionTime+"ms";return ee={WebkitTransform:ue,MozTransform:ue,MsTransform:ue,OTransform:ue,transform:ue,msTransform:ue,WebkitTransitionDuration:Te,MozTransitionDuration:Te,MsTransitionDuration:Te,OTransitionDuration:Te,transitionDuration:Te,msTransitionDuration:Te},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!te),onClick:function(){return O.slideRight()},"aria-label":this.props.labels.leftArrow}),k?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ee,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ae){return O.setItemsListRef(ae)},style:ee},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return O.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),b}(n.Component);return dd.default=M,j(M,"displayName","Thumbs"),j(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),dd}var gd={},iI;function iU(){if(iI)return gd;iI=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.default=void 0;var n=function(){return document};return gd.default=n,gd}var Ir={},sI;function Xx(){if(sI)return Ir;sI=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.setPosition=Ir.getPosition=Ir.isKeyboardEvent=Ir.defaultStatusFormatter=Ir.noop=void 0;var n=_o(),e=t(Tb());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};Ir.noop=r;var i=function(f,g){return"".concat(f," of ").concat(g)};Ir.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};Ir.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,T=_-1;return f&&(f!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===T&&(v+=100-g.centerSlidePercentage),v}return-f*100};Ir.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return Ir.setPosition=h,Ir}var mi={},aI;function sU(){if(aI)return mi;aI=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.fadeAnimationHandler=mi.slideStopSwipingHandler=mi.slideSwipeAnimationHandler=mi.slideAnimationHandler=void 0;var n=_o(),e=r(Tb()),t=Xx();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(R){return Object.getOwnPropertyDescriptor(_,R).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(w){u(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var w={},R=T.selectedItem,x=R,B=n.Children.count(v.children)-1,L=v.infiniteLoop&&(R<0||R>B);if(L)return x<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(B+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(B+2)*100,v.axis):x>B&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var U=(0,t.getPosition)(R,v),H=(0,e.default)(U,"%",v.axis),j=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),w};mi.slideAnimationHandler=h;var d=function(v,T,w,R){var x={},B=T.axis==="horizontal",L=n.Children.count(T.children),U=0,H=(0,t.getPosition)(w.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),$=B?v.x:v.y,M=$;H===U&&$>0&&(M=0),H===j&&$<0&&(M=0);var C=H+100/(w.itemSize/M),I=Math.abs($)>T.swipeScrollTolerance;return T.infiniteLoop&&I&&(w.selectedItem===0&&C>-100?C-=L*100:w.selectedItem===L-1&&C<-L*100&&(C+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||I||w.swipeMovementStarted)&&(w.swipeMovementStarted||R({swipeMovementStarted:!0}),x.itemListStyle=(0,t.setPosition)(C,T.axis)),I&&!w.cancelClick&&R({cancelClick:!0}),x};mi.slideSwipeAnimationHandler=d;var f=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),R=(0,t.setPosition)(w,v.axis);return{itemListStyle:R}};mi.slideStopSwipingHandler=f;var g=function(v,T){var w=v.transitionTime+"ms",R="ease-in-out",x={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(x=o(o({},x),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:x,selectedStyle:o(o({},x),{},{opacity:1,position:"relative"}),prevStyle:o({},x)}};return mi.fadeAnimationHandler=g,mi}var oI;function aU(){if(oI)return cd;oI=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=g(_o()),e=d(Kx()),t=d(Wx()),r=d(Qx()),i=d(iU()),o=d(Yx()),u=Xx(),h=sU();function d(P){return P&&P.__esModule?P:{default:P}}function f(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return f=function(){return P},P}function g(P){if(P&&P.__esModule)return P;if(P===null||_(P)!=="object"&&typeof P!="function")return{default:P};var O=f();if(O&&O.has(P))return O.get(P);var k={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in P)if(Object.prototype.hasOwnProperty.call(P,F)){var ee=te?Object.getOwnPropertyDescriptor(P,F):null;ee&&(ee.get||ee.set)?Object.defineProperty(k,F,ee):k[F]=P[F]}return k.default=P,O&&O.set(P,k),k}function _(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(k){return typeof k}:_=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},_(P)}function v(){return v=Object.assign||function(P){for(var O=1;O<arguments.length;O++){var k=arguments[O];for(var te in k)Object.prototype.hasOwnProperty.call(k,te)&&(P[te]=k[te])}return P},v.apply(this,arguments)}function T(P,O){var k=Object.keys(P);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(P);O&&(te=te.filter(function(F){return Object.getOwnPropertyDescriptor(P,F).enumerable})),k.push.apply(k,te)}return k}function w(P){for(var O=1;O<arguments.length;O++){var k=arguments[O]!=null?arguments[O]:{};O%2?T(Object(k),!0).forEach(function(te){I(P,te,k[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(k)):T(Object(k)).forEach(function(te){Object.defineProperty(P,te,Object.getOwnPropertyDescriptor(k,te))})}return P}function R(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function x(P,O){for(var k=0;k<O.length;k++){var te=O[k];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(P,te.key,te)}}function B(P,O,k){return O&&x(P.prototype,O),P}function L(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),O&&U(P,O)}function U(P,O){return U=Object.setPrototypeOf||function(te,F){return te.__proto__=F,te},U(P,O)}function H(P){var O=M();return function(){var te=C(P),F;if(O){var ee=C(this).constructor;F=Reflect.construct(te,arguments,ee)}else F=te.apply(this,arguments);return j(this,F)}}function j(P,O){return O&&(_(O)==="object"||typeof O=="function")?O:$(P)}function $(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(P){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},C(P)}function I(P,O,k){return O in P?Object.defineProperty(P,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):P[O]=k,P}var b=function(P){L(k,P);var O=H(k);function k(te){var F;R(this,k),F=O.call(this,te),I($(F),"thumbsRef",void 0),I($(F),"carouselWrapperRef",void 0),I($(F),"listRef",void 0),I($(F),"itemsRef",void 0),I($(F),"timer",void 0),I($(F),"animationHandler",void 0),I($(F),"setThumbsRef",function(ie){F.thumbsRef=ie}),I($(F),"setCarouselWrapperRef",function(ie){F.carouselWrapperRef=ie}),I($(F),"setListRef",function(ie){F.listRef=ie}),I($(F),"setItemsRef",function(ie,ue){F.itemsRef||(F.itemsRef=[]),F.itemsRef[ue]=ie}),I($(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),I($(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),I($(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),I($(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),I($(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),I($(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),I($(F),"navigateWithKeyboard",function(ie){if(F.isFocusWithinTheCarousel()){var ue=F.props.axis,Te=ue==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ae=Te?q.ArrowRight:q.ArrowDown,be=Te?q.ArrowLeft:q.ArrowUp;ae===ie.keyCode?F.increment():be===ie.keyCode&&F.decrement()}}),I($(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var ie=F.props.axis==="horizontal",ue=F.itemsRef[0];if(ue){var Te=ie?ue.clientWidth:ue.clientHeight;F.setState({itemSize:Te}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),I($(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),I($(F),"handleClickItem",function(ie,ue){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(ie,ue),ie!==F.state.selectedItem&&F.setState({selectedItem:ie})}}),I($(F),"handleOnChange",function(ie,ue){n.Children.count(F.props.children)<=1||F.props.onChange(ie,ue)}),I($(F),"handleClickThumb",function(ie,ue){F.props.onClickThumb(ie,ue),F.moveTo(ie)}),I($(F),"onSwipeStart",function(ie){F.setState({swiping:!0}),F.props.onSwipeStart(ie)}),I($(F),"onSwipeEnd",function(ie){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(ie),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),I($(F),"onSwipeMove",function(ie,ue){F.props.onSwipeMove(ue);var Te=F.props.swipeAnimationHandler(ie,F.props,F.state,F.setState.bind($(F)));return F.setState(w({},Te)),!!Object.keys(Te).length}),I($(F),"decrement",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof ie=="number"?ie:1))}),I($(F),"increment",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof ie=="number"?ie:1))}),I($(F),"moveTo",function(ie){if(typeof ie=="number"){var ue=n.Children.count(F.props.children)-1;ie<0&&(ie=F.props.infiniteLoop?ue:0),ie>ue&&(ie=F.props.infiniteLoop?0:ue),F.selectItem({selectedItem:ie}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),I($(F),"onClickNext",function(){F.increment(1)}),I($(F),"onClickPrev",function(){F.decrement(1)}),I($(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),I($(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),I($(F),"changeItem",function(ie){return function(ue){(!(0,u.isKeyboardEvent)(ue)||ue.key==="Enter")&&F.moveTo(ie)}}),I($(F),"selectItem",function(ie){F.setState(w({previousItem:F.state.selectedItem},ie),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(ie.selectedItem,n.Children.toArray(F.props.children)[ie.selectedItem])}),I($(F),"getInitialImage",function(){var ie=F.props.selectedItem,ue=F.itemsRef&&F.itemsRef[ie],Te=ue&&ue.getElementsByTagName("img")||[];return Te[0]}),I($(F),"getVariableItemHeight",function(ie){var ue=F.itemsRef&&F.itemsRef[ie];if(F.state.hasMount&&ue&&ue.children.length){var Te=ue.children[0].getElementsByTagName("img")||[];if(Te.length>0){var q=Te[0];if(!q.complete){var ae=function ye(){F.forceUpdate(),q.removeEventListener("load",ye)};q.addEventListener("load",ae)}}var be=Te[0]||ue.children[0],ve=be.clientHeight;return ve>0?ve:null}return null});var ee={initialized:!1,previousItem:te.selectedItem,selectedItem:te.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:te.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof te.animationHandler=="function"&&te.animationHandler||te.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,F.state=w(w({},ee),F.animationHandler(te,ee)),F}return B(k,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,ee){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),ee.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ee=F.getInitialImage();ee&&!ee.complete?ee.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var ee=this;return this.props.children?n.Children.map(this.props.children,function(ie,ue){var Te=ue===ee.state.selectedItem,q=ue===ee.state.previousItem,ae=Te&&ee.state.selectedStyle||q&&ee.state.prevStyle||ee.state.slideStyle||{};ee.props.centerMode&&ee.props.axis==="horizontal"&&(ae=w(w({},ae),{},{minWidth:ee.props.centerSlidePercentage+"%"})),ee.state.swiping&&ee.state.swipeMovementStarted&&(ae=w(w({},ae),{},{pointerEvents:"none"}));var be={ref:function(ye){return ee.setItemsRef(ye,ue)},key:"itemKey"+ue+(F?"clone":""),className:t.default.ITEM(!0,ue===ee.state.selectedItem,ue===ee.state.previousItem),onClick:ee.handleClickItem.bind(ee,ue,ie),style:ae};return n.default.createElement("li",be,ee.props.renderItem(ie,{isSelected:ue===ee.state.selectedItem,isPrevious:ue===ee.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,ee=this.props,ie=ee.showIndicators,ue=ee.labels,Te=ee.renderIndicator,q=ee.children;return ie?n.default.createElement("ul",{className:"control-dots"},n.Children.map(q,function(ae,be){return Te&&Te(F.changeItem(be),be===F.state.selectedItem,be,ue.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var ee=this.props.swipeable&&n.Children.count(this.props.children)>1,ie=this.props.axis==="horizontal",ue=this.props.showArrows&&n.Children.count(this.props.children)>1,Te=ue&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=ue&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ae=this.renderItems(!0),be=ae.shift(),ve=ae.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Oe={};if(ie){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var ke=this.getVariableItemHeight(this.state.selectedItem);Oe.height=ke||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=w(w({},ye.style),{},{height:this.state.itemSize}),Oe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Te,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Oe},ee?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(ze){return F.setListRef(ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),k}(n.default.Component);return cd.default=b,I(b,"displayName","Carousel"),I(b,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(O,k,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_PREV(!k),onClick:O})},renderArrowNext:function(O,k,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_NEXT(!k),onClick:O})},renderIndicator:function(O,k,te,F){return n.default.createElement("li",{className:t.default.DOT(k),onClick:O,onKeyDown:O,value:te,key:te,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(te+1)})},renderItem:function(O){return O},renderThumbs:function(O){var k=n.Children.map(O,function(te){var F=te;if(te.type!=="img"&&(F=n.Children.toArray(te.props.children).find(function(ee){return ee.type==="img"})),!!F)return F});return k.filter(function(te){return te}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):k},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),cd}var lI={},uI;function oU(){return uI||(uI=1),lI}var cI;function lU(){return cI||(cI=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(aU()),t=oU(),r=i(Qx());function i(o){return o&&o.__esModule?o:{default:o}}}(A0)),A0}var uU=lU();const cU="/New_Amazon_Clone/assets/001-BPlZE7a_.jpg",hU="/New_Amazon_Clone/assets/002-Fp0oaH3y.jpg",dU="/New_Amazon_Clone/assets/003-CO6XiwvK.jpg",fU="/New_Amazon_Clone/assets/004-BPr44Ttk.jpg",pU="/New_Amazon_Clone/assets/005-bl35EseN.jpg",mU=[cU,hU,dU,fU,pU],gU="_hero_img_1nrmb_1",yU="_carousel_image_1nrmb_9",P0={hero_img:gU,carousel_image:yU};function _U(){return V.jsxs("div",{className:P0.carousel_container,children:[V.jsx(uU.Carousel,{autoPlay:!0,infiniteLoop:!0,showThumbs:!1,showIndicators:!1,showStatus:!1,children:mU.map(n=>V.jsx("img",{src:n,alt:"carousel images",className:P0.carousel_image},n))}),V.jsx("div",{className:`${P0.hero_img} `,children:" "})]})}const vU=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/61IBBVJvSDL._AC_SY879_.jpg",rating:{rate:4.1,count:259}},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://fakestoreapi.com/img/51eg55uWmdL._AC_UX679_.jpg",rating:{rate:3.9,count:120}},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg",rating:{rate:2.1,count:430}},{title:"Jewelery",name:"jewelery",imgLink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg",rating:{rate:4.6,count:400}}],EU="_category_container_1qj2m_3",bU="_category_card_1qj2m_21",wU="_title_1qj2m_51",yg={category_container:EU,category_card:bU,title:wU},TU=({data:n})=>V.jsx("div",{className:`${yg.category_card} `,children:V.jsxs(yi,{to:`/category/${n.name}`,children:[V.jsx("span",{children:V.jsx("h2",{className:`${yg.title}`,children:n.title})}),V.jsx("img",{src:n.imgLink,alt:n.title}),V.jsx("p",{children:"Shop now"})]})}),SU=()=>V.jsx("section",{className:`${yg.category_section}  `,children:V.jsx("div",{className:`${yg.category_container} `,children:vU.map(n=>V.jsx(TU,{data:n},n.name))})});function Zx(n,e){return function(){return n.apply(e,arguments)}}const{toString:AU}=Object.prototype,{getPrototypeOf:Sb}=Object,ly=(n=>e=>{const t=AU.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),vi=n=>(n=n.toLowerCase(),e=>ly(e)===n),uy=n=>e=>typeof e===n,{isArray:Uc}=Array,rf=uy("undefined");function RU(n){return n!==null&&!rf(n)&&n.constructor!==null&&!rf(n.constructor)&&Dr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Jx=vi("ArrayBuffer");function IU(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Jx(n.buffer),e}const CU=uy("string"),Dr=uy("function"),eP=uy("number"),cy=n=>n!==null&&typeof n=="object",xU=n=>n===!0||n===!1,Km=n=>{if(ly(n)!=="object")return!1;const e=Sb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},PU=vi("Date"),OU=vi("File"),kU=vi("Blob"),DU=vi("FileList"),NU=n=>cy(n)&&Dr(n.pipe),MU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Dr(n.append)&&((e=ly(n))==="formdata"||e==="object"&&Dr(n.toString)&&n.toString()==="[object FormData]"))},VU=vi("URLSearchParams"),[LU,UU,BU,FU]=["ReadableStream","Request","Response","Headers"].map(vi),jU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Uc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function tP(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nP=n=>!rf(n)&&n!==pl;function dE(){const{caseless:n}=nP(this)&&this||{},e={},t=(r,i)=>{const o=n&&tP(e,i)||i;Km(e[o])&&Km(r)?e[o]=dE(e[o],r):Km(r)?e[o]=dE({},r):Uc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&kf(arguments[r],t);return e}const zU=(n,e,t,{allOwnKeys:r}={})=>(kf(e,(i,o)=>{t&&Dr(i)?n[o]=Zx(i,t):n[o]=i},{allOwnKeys:r}),n),qU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),HU=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},$U=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&Sb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},GU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},KU=n=>{if(!n)return null;if(Uc(n))return n;let e=n.length;if(!eP(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},WU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Sb(Uint8Array)),YU=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},QU=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},XU=vi("HTMLFormElement"),ZU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),hI=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),JU=vi("RegExp"),rP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};kf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},e4=n=>{rP(n,(e,t)=>{if(Dr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Dr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},t4=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Uc(n)?r(n):r(String(n).split(e)),t},n4=()=>{},r4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,O0="abcdefghijklmnopqrstuvwxyz",dI="0123456789",iP={DIGIT:dI,ALPHA:O0,ALPHA_DIGIT:O0+O0.toUpperCase()+dI},i4=(n=16,e=iP.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function s4(n){return!!(n&&Dr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const a4=n=>{const e=new Array(10),t=(r,i)=>{if(cy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Uc(r)?[]:{};return kf(r,(u,h)=>{const d=t(u,i+1);!rf(d)&&(o[h]=d)}),e[i]=void 0,o}}return r};return t(n,0)},o4=vi("AsyncFunction"),l4=n=>n&&(cy(n)||Dr(n))&&Dr(n.then)&&Dr(n.catch),sP=((n,e)=>n?setImmediate:e?((t,r)=>(pl.addEventListener("message",({source:i,data:o})=>{i===pl&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),pl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Dr(pl.postMessage)),u4=typeof queueMicrotask<"u"?queueMicrotask.bind(pl):typeof process<"u"&&process.nextTick||sP,se={isArray:Uc,isArrayBuffer:Jx,isBuffer:RU,isFormData:MU,isArrayBufferView:IU,isString:CU,isNumber:eP,isBoolean:xU,isObject:cy,isPlainObject:Km,isReadableStream:LU,isRequest:UU,isResponse:BU,isHeaders:FU,isUndefined:rf,isDate:PU,isFile:OU,isBlob:kU,isRegExp:JU,isFunction:Dr,isStream:NU,isURLSearchParams:VU,isTypedArray:WU,isFileList:DU,forEach:kf,merge:dE,extend:zU,trim:jU,stripBOM:qU,inherits:HU,toFlatObject:$U,kindOf:ly,kindOfTest:vi,endsWith:GU,toArray:KU,forEachEntry:YU,matchAll:QU,isHTMLForm:XU,hasOwnProperty:hI,hasOwnProp:hI,reduceDescriptors:rP,freezeMethods:e4,toObjectSet:t4,toCamelCase:ZU,noop:n4,toFiniteNumber:r4,findKey:tP,global:pl,isContextDefined:nP,ALPHABET:iP,generateString:i4,isSpecCompliantForm:s4,toJSONObject:a4,isAsyncFn:o4,isThenable:l4,setImmediate:sP,asap:u4};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const aP=Me.prototype,oP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{oP[n]={value:n}});Object.defineProperties(Me,oP);Object.defineProperty(aP,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const u=Object.create(aP);return se.toFlatObject(n,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const c4=null;function fE(n){return se.isPlainObject(n)||se.isArray(n)}function lP(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function fI(n,e,t){return n?n.concat(e).map(function(i,o){return i=lP(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function h4(n){return se.isArray(n)&&!n.some(fE)}const d4=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function hy(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,x){return!se.isUndefined(x[R])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(!d&&se.isBlob(w))throw new Me("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,R,x){let B=w;if(w&&!x&&typeof w=="object"){if(se.endsWith(R,"{}"))R=r?R:R.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&h4(w)||(se.isFileList(w)||se.endsWith(R,"[]"))&&(B=se.toArray(w)))return R=lP(R),B.forEach(function(U,H){!(se.isUndefined(U)||U===null)&&e.append(u===!0?fI([R],H,o):u===null?R:R+"[]",f(U))}),!1}return fE(w)?!0:(e.append(fI(x,R,o),f(w)),!1)}const _=[],v=Object.assign(d4,{defaultVisitor:g,convertValue:f,isVisitable:fE});function T(w,R){if(!se.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+R.join("."));_.push(w),se.forEach(w,function(B,L){(!(se.isUndefined(B)||B===null)&&i.call(e,B,se.isString(L)?L.trim():L,R,v))===!0&&T(B,R?R.concat(L):[L])}),_.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return T(n),e}function pI(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ab(n,e){this._pairs=[],n&&hy(n,this,e)}const uP=Ab.prototype;uP.append=function(e,t){this._pairs.push([e,t])};uP.toString=function(e){const t=e?function(r){return e.call(this,r,pI)}:pI;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function f4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cP(n,e,t){if(!e)return n;const r=t&&t.encode||f4;se.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=se.isURLSearchParams(e)?e.toString():new Ab(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class mI{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const hP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},p4=typeof URLSearchParams<"u"?URLSearchParams:Ab,m4=typeof FormData<"u"?FormData:null,g4=typeof Blob<"u"?Blob:null,y4={isBrowser:!0,classes:{URLSearchParams:p4,FormData:m4,Blob:g4},protocols:["http","https","file","blob","url","data"]},Rb=typeof window<"u"&&typeof document<"u",pE=typeof navigator=="object"&&navigator||void 0,_4=Rb&&(!pE||["ReactNative","NativeScript","NS"].indexOf(pE.product)<0),v4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",E4=Rb&&window.location.href||"http://localhost",b4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rb,hasStandardBrowserEnv:_4,hasStandardBrowserWebWorkerEnv:v4,navigator:pE,origin:E4},Symbol.toStringTag,{value:"Module"})),Gn={...b4,...y4};function w4(n,e){return hy(n,new Gn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Gn.isNode&&se.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function T4(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function S4(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function dP(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&se.isArray(i)?i.length:u,d?(se.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!se.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&se.isArray(i[u])&&(i[u]=S4(i[u])),!h)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(r,i)=>{e(T4(r),i,t,0)}),t}return null}function A4(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Df={transitional:hP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(dP(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return w4(e,this.formSerializer).toString();if((h=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return hy(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),A4(e)):e}],transformResponse:[function(e){const t=this.transitional||Df.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gn.classes.FormData,Blob:Gn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{Df.headers[n]={}});const R4=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),I4=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&R4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},gI=Symbol("internals");function yd(n){return n&&String(n).trim().toLowerCase()}function Wm(n){return n===!1||n==null?n:se.isArray(n)?n.map(Wm):String(n)}function C4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const x4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function k0(n,e,t,r,i){if(se.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function P4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function O4(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let yr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,d,f){const g=yd(d);if(!g)throw new Error("header name must be a non-empty string");const _=se.findKey(i,g);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||d]=Wm(h))}const u=(h,d)=>se.forEach(h,(f,g)=>o(f,g,d));if(se.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(se.isString(e)&&(e=e.trim())&&!x4(e))u(I4(e),t);else if(se.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=yd(e),e){const r=se.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return C4(i);if(se.isFunction(t))return t.call(this,i,r);if(se.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yd(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||k0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=yd(u),u){const h=se.findKey(r,u);h&&(!t||k0(r,r[h],h,t))&&(delete r[h],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||k0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return se.forEach(this,(i,o)=>{const u=se.findKey(r,o);if(u){t[u]=Wm(i),delete t[o];return}const h=e?P4(o):String(o).trim();h!==o&&delete t[o],t[h]=Wm(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&se.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[gI]=this[gI]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=yd(u);r[h]||(O4(i,u),r[h]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(yr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});se.freezeMethods(yr);function D0(n,e){const t=this||Df,r=e||t,i=yr.from(r.headers);let o=r.data;return se.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function fP(n){return!!(n&&n.__CANCEL__)}function Bc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(Bc,Me,{__CANCEL__:!0});function pP(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function k4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function D4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[i]=d,r[i]=f;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-u<e)return;const T=g&&f-g;return T?Math.round(v*1e3/T):void 0}}function N4(n,e){let t=0,r=1e3/e,i,o;const u=(f,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(i=f,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const _g=(n,e,t=3)=>{let r=0;const i=D4(50,250);return N4(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=i(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},yI=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},_I=n=>(...e)=>se.asap(()=>n(...e)),M4=Gn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Gn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Gn.origin),Gn.navigator&&/(msie|trident)/i.test(Gn.navigator.userAgent)):()=>!0,V4=Gn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];se.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),se.isString(r)&&u.push("path="+r),se.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function L4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function U4(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function mP(n,e){return n&&!L4(e)?U4(n,e):e}const vI=n=>n instanceof yr?{...n}:n;function Al(n,e){e=e||{};const t={};function r(f,g,_,v){return se.isPlainObject(f)&&se.isPlainObject(g)?se.merge.call({caseless:v},f,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(f,g,_,v){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!se.isUndefined(g))return r(void 0,g)}function u(f,g){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>i(vI(f),vI(g),_,!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=d[g]||i,v=_(n[g],e[g],g);se.isUndefined(v)&&_!==h||(t[g]=v)}),t}const gP=n=>{const e=Al({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=yr.from(u),e.url=cP(mP(e.baseURL,e.url),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(se.isFormData(t)){if(Gn.hasStandardBrowserEnv||Gn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[f,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([f||"multipart/form-data",...g].join("; "))}}if(Gn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&M4(e.url))){const f=i&&o&&V4.read(o);f&&u.set(i,f)}return e},B4=typeof XMLHttpRequest<"u",F4=B4&&function(n){return new Promise(function(t,r){const i=gP(n);let o=i.data;const u=yr.from(i.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i,g,_,v,T,w;function R(){T&&T(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function B(){if(!x)return;const U=yr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:U,config:n,request:x};pP(function(M){t(M),R()},function(M){r(M),R()},j),x=null}"onloadend"in x?x.onloadend=B:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(B)},x.onabort=function(){x&&(r(new Me("Request aborted",Me.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||hP;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Me(H,j.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,x)),x=null},o===void 0&&u.setContentType(null),"setRequestHeader"in x&&se.forEach(u.toJSON(),function(H,j){x.setRequestHeader(j,H)}),se.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),h&&h!=="json"&&(x.responseType=i.responseType),f&&([v,w]=_g(f,!0),x.addEventListener("progress",v)),d&&x.upload&&([_,T]=_g(d),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=U=>{x&&(r(!U||U.type?new Bc(null,n,x):U),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const L=k4(i.url);if(L&&Gn.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}x.send(o||null)})},j4=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Me?g:new Bc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(h),d}},z4=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},q4=async function*(n,e){for await(const t of H4(n))yield*z4(t,e)},H4=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},EI=(n,e,t,r)=>{const i=q4(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),i.return()}},{highWaterMark:2})},dy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yP=dy&&typeof ReadableStream=="function",$4=dy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),_P=(n,...e)=>{try{return!!n(...e)}catch{return!1}},G4=yP&&_P(()=>{let n=!1;const e=new Request(Gn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),bI=64*1024,mE=yP&&_P(()=>se.isReadableStream(new Response("").body)),vg={stream:mE&&(n=>n.body)};dy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!vg[e]&&(vg[e]=se.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const K4=async n=>{if(n==null)return 0;if(se.isBlob(n))return n.size;if(se.isSpecCompliantForm(n))return(await new Request(Gn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(se.isArrayBufferView(n)||se.isArrayBuffer(n))return n.byteLength;if(se.isURLSearchParams(n)&&(n=n+""),se.isString(n))return(await $4(n)).byteLength},W4=async(n,e)=>{const t=se.toFiniteNumber(n.getContentLength());return t??K4(e)},Y4=dy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:f,headers:g,withCredentials:_="same-origin",fetchOptions:v}=gP(n);f=f?(f+"").toLowerCase():"text";let T=j4([i,o&&o.toAbortSignal()],u),w;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let x;try{if(d&&G4&&t!=="get"&&t!=="head"&&(x=await W4(g,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(se.isFormData(r)&&($=j.headers.get("content-type"))&&g.setContentType($),j.body){const[M,C]=yI(x,_g(_I(d)));r=EI(j.body,bI,M,C)}}se.isString(_)||(_=_?"include":"omit");const B="credentials"in Request.prototype;w=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:B?_:void 0});let L=await fetch(w);const U=mE&&(f==="stream"||f==="response");if(mE&&(h||U&&R)){const j={};["status","statusText","headers"].forEach(I=>{j[I]=L[I]});const $=se.toFiniteNumber(L.headers.get("content-length")),[M,C]=h&&yI($,_g(_I(h),!0))||[];L=new Response(EI(L.body,bI,M,()=>{C&&C(),R&&R()}),j)}f=f||"text";let H=await vg[se.findKey(vg,f)||"text"](L,n);return!U&&R&&R(),await new Promise((j,$)=>{pP(j,$,{data:H,headers:yr.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:w})})}catch(B){throw R&&R(),B&&B.name==="TypeError"&&/fetch/i.test(B.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,w),{cause:B.cause||B}):Me.from(B,B&&B.code,n,w)}}),gE={http:c4,xhr:F4,fetch:Y4};se.forEach(gE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const wI=n=>`- ${n}`,Q4=n=>se.isFunction(n)||n===null||n===!1,vP={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!Q4(t)&&(r=gE[(u=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(wI).join(`
`):" "+wI(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:gE};function N0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Bc(null,n)}function TI(n){return N0(n),n.headers=yr.from(n.headers),n.data=D0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),vP.getAdapter(n.adapter||Df.adapter)(n).then(function(r){return N0(n),r.data=D0.call(n,n.transformResponse,r),r.headers=yr.from(r.headers),r},function(r){return fP(r)||(N0(n),r&&r.response&&(r.response.data=D0.call(n,n.transformResponse,r.response),r.response.headers=yr.from(r.response.headers))),Promise.reject(r)})}const EP="1.7.9",fy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{fy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const SI={};fy.transitional=function(e,t,r){function i(o,u){return"[Axios v"+EP+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Me(i(u," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!SI[u]&&(SI[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};fy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function X4(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Me("option "+o+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const Ym={assertOptions:X4,validators:fy},Vi=Ym.validators;let vl=class{constructor(e){this.defaults=e,this.interceptors={request:new mI,response:new mI}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Al(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Ym.assertOptions(r,{silentJSONParsing:Vi.transitional(Vi.boolean),forcedJSONParsing:Vi.transitional(Vi.boolean),clarifyTimeoutError:Vi.transitional(Vi.boolean)},!1),i!=null&&(se.isFunction(i)?t.paramsSerializer={serialize:i}:Ym.assertOptions(i,{encode:Vi.function,serialize:Vi.function},!0)),Ym.assertOptions(t,{baseUrl:Vi.spelling("baseURL"),withXsrfToken:Vi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=yr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let g,_=0,v;if(!d){const w=[TI.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const w=h[_++],R=h[_++];try{T=w(T)}catch(x){R.call(this,x);break}}try{g=TI.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=Al(this.defaults,e);const t=mP(e.baseURL,e.url);return cP(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){vl.prototype[e]=function(t,r){return this.request(Al(r||{},{method:e,url:t,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(Al(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}vl.prototype[e]=t(),vl.prototype[e+"Form"]=t(!0)});let Z4=class bP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Bc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new bP(function(i){e=i}),cancel:e}}};function J4(n){return function(t){return n.apply(null,t)}}function e5(n){return se.isObject(n)&&n.isAxiosError===!0}const yE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yE).forEach(([n,e])=>{yE[e]=n});function wP(n){const e=new vl(n),t=Zx(vl.prototype.request,e);return se.extend(t,vl.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return wP(Al(n,i))},t}const Ct=wP(Df);Ct.Axios=vl;Ct.CanceledError=Bc;Ct.CancelToken=Z4;Ct.isCancel=fP;Ct.VERSION=EP;Ct.toFormData=hy;Ct.AxiosError=Me;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=J4;Ct.isAxiosError=e5;Ct.mergeConfig=Al;Ct.AxiosHeaders=yr;Ct.formToJSON=n=>dP(se.isHTMLForm(n)?new FormData(n):n);Ct.getAdapter=vP.getAdapter;Ct.HttpStatusCode=yE;Ct.default=Ct;const{Axios:DQ,AxiosError:NQ,CanceledError:MQ,isCancel:VQ,CancelToken:LQ,VERSION:UQ,all:BQ,Cancel:FQ,isAxiosError:jQ,spread:zQ,toFormData:qQ,AxiosHeaders:HQ,HttpStatusCode:$Q,formToJSON:GQ,getAdapter:KQ,mergeConfig:WQ}=Ct,sf={black:"#000",white:"#fff"},Mu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Vu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Lu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Uu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Bu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},_d={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},t5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const n5="$$material";function _E(){return _E=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_E.apply(null,arguments)}function r5(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function i5(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var s5=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(i5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=r5(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Hn="-ms-",Eg="-moz-",rt="-webkit-",TP="comm",Ib="rule",Cb="decl",a5="@import",SP="@keyframes",o5="@layer",l5=Math.abs,py=String.fromCharCode,u5=Object.assign;function c5(n,e){return Nn(n,0)^45?(((e<<2^Nn(n,0))<<2^Nn(n,1))<<2^Nn(n,2))<<2^Nn(n,3):0}function AP(n){return n.trim()}function h5(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function vE(n,e){return n.indexOf(e)}function Nn(n,e){return n.charCodeAt(e)|0}function af(n,e,t){return n.slice(e,t)}function Fi(n){return n.length}function xb(n){return n.length}function xm(n,e){return e.push(n),n}function d5(n,e){return n.map(e).join("")}var my=1,uc=1,RP=0,_r=0,on=0,Fc="";function gy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:my,column:uc,length:u,return:""}}function vd(n,e){return u5(gy("",null,null,"",null,null,0),n,{length:-n.length},e)}function f5(){return on}function p5(){return on=_r>0?Nn(Fc,--_r):0,uc--,on===10&&(uc=1,my--),on}function Nr(){return on=_r<RP?Nn(Fc,_r++):0,uc++,on===10&&(uc=1,my++),on}function Zi(){return Nn(Fc,_r)}function Qm(){return _r}function Nf(n,e){return af(Fc,n,e)}function of(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IP(n){return my=uc=1,RP=Fi(Fc=n),_r=0,[]}function CP(n){return Fc="",n}function Xm(n){return AP(Nf(_r-1,EE(n===91?n+2:n===40?n+1:n)))}function m5(n){for(;(on=Zi())&&on<33;)Nr();return of(n)>2||of(on)>3?"":" "}function g5(n,e){for(;--e&&Nr()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return Nf(n,Qm()+(e<6&&Zi()==32&&Nr()==32))}function EE(n){for(;Nr();)switch(on){case n:return _r;case 34:case 39:n!==34&&n!==39&&EE(on);break;case 40:n===41&&EE(n);break;case 92:Nr();break}return _r}function y5(n,e){for(;Nr()&&n+on!==57;)if(n+on===84&&Zi()===47)break;return"/*"+Nf(e,_r-1)+"*"+py(n===47?n:Nr())}function _5(n){for(;!of(Zi());)Nr();return Nf(n,_r)}function v5(n){return CP(Zm("",null,null,null,[""],n=IP(n),0,[0],n))}function Zm(n,e,t,r,i,o,u,h,d){for(var f=0,g=0,_=u,v=0,T=0,w=0,R=1,x=1,B=1,L=0,U="",H=i,j=o,$=r,M=U;x;)switch(w=L,L=Nr()){case 40:if(w!=108&&Nn(M,_-1)==58){vE(M+=it(Xm(L),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:M+=Xm(L);break;case 9:case 10:case 13:case 32:M+=m5(w);break;case 92:M+=g5(Qm()-1,7);continue;case 47:switch(Zi()){case 42:case 47:xm(E5(y5(Nr(),Qm()),e,t),d);break;default:M+="/"}break;case 123*R:h[f++]=Fi(M)*B;case 125*R:case 59:case 0:switch(L){case 0:case 125:x=0;case 59+g:B==-1&&(M=it(M,/\f/g,"")),T>0&&Fi(M)-_&&xm(T>32?RI(M+";",r,t,_-1):RI(it(M," ","")+";",r,t,_-2),d);break;case 59:M+=";";default:if(xm($=AI(M,e,t,f,g,i,h,U,H=[],j=[],_),o),L===123)if(g===0)Zm(M,e,$,$,H,o,_,h,j);else switch(v===99&&Nn(M,3)===110?100:v){case 100:case 108:case 109:case 115:Zm(n,$,$,r&&xm(AI(n,$,$,0,0,i,h,U,i,H=[],_),j),i,j,_,h,r?H:j);break;default:Zm(M,$,$,$,[""],j,0,h,j)}}f=g=T=0,R=B=1,U=M="",_=u;break;case 58:_=1+Fi(M),T=w;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&p5()==125)continue}switch(M+=py(L),L*R){case 38:B=g>0?1:(M+="\f",-1);break;case 44:h[f++]=(Fi(M)-1)*B,B=1;break;case 64:Zi()===45&&(M+=Xm(Nr())),v=Zi(),g=_=Fi(U=M+=_5(Qm())),L++;break;case 45:w===45&&Fi(M)==2&&(R=0)}}return o}function AI(n,e,t,r,i,o,u,h,d,f,g){for(var _=i-1,v=i===0?o:[""],T=xb(v),w=0,R=0,x=0;w<r;++w)for(var B=0,L=af(n,_+1,_=l5(R=u[w])),U=n;B<T;++B)(U=AP(R>0?v[B]+" "+L:it(L,/&\f/g,v[B])))&&(d[x++]=U);return gy(n,e,t,i===0?Ib:h,d,f,g)}function E5(n,e,t){return gy(n,e,t,TP,py(f5()),af(n,2,-2),0)}function RI(n,e,t,r){return gy(n,e,t,Cb,af(n,0,r),af(n,r+1,-1),r)}function ec(n,e){for(var t="",r=xb(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function b5(n,e,t,r){switch(n.type){case o5:if(n.children.length)break;case a5:case Cb:return n.return=n.return||n.value;case TP:return"";case SP:return n.return=n.value+"{"+ec(n.children,r)+"}";case Ib:n.value=n.props.join(",")}return Fi(t=ec(n.children,r))?n.return=n.value+"{"+t+"}":""}function w5(n){var e=xb(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function T5(n){return function(e){e.root||(e=e.return)&&n(e)}}function xP(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var S5=function(e,t,r){for(var i=0,o=0;i=o,o=Zi(),i===38&&o===12&&(t[r]=1),!of(o);)Nr();return Nf(e,_r)},A5=function(e,t){var r=-1,i=44;do switch(of(i)){case 0:i===38&&Zi()===12&&(t[r]=1),e[r]+=S5(_r-1,t,r);break;case 2:e[r]+=Xm(i);break;case 4:if(i===44){e[++r]=Zi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=py(i)}while(i=Nr());return e},R5=function(e,t){return CP(A5(IP(e),t))},II=new WeakMap,I5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!II.get(r))&&!i){II.set(e,!0);for(var o=[],u=R5(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},C5=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function PP(n,e){switch(c5(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+Eg+n+Hn+n+n;case 6828:case 4268:return rt+n+Hn+n+n;case 6165:return rt+n+Hn+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+Hn+"flex-$1$2")+n;case 5443:return rt+n+Hn+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+Hn+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+Hn+it(n,"shrink","negative")+n;case 5292:return rt+n+Hn+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+Hn+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+Hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fi(n)-1-e>6)switch(Nn(n,e+1)){case 109:if(Nn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Eg+(Nn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~vE(n,"stretch")?PP(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Nn(n,e+1)!==115)break;case 6444:switch(Nn(n,Fi(n)-3-(~vE(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(Nn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+Hn+"$2box$3")+n}break;case 5936:switch(Nn(n,e+11)){case 114:return rt+n+Hn+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+Hn+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+Hn+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+Hn+n+n}return n}var x5=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Cb:e.return=PP(e.value,e.length);break;case SP:return ec([vd(e,{value:it(e.value,"@","@"+rt)})],i);case Ib:if(e.length)return d5(e.props,function(o){switch(h5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ec([vd(e,{props:[it(o,/:(read-\w+)/,":"+Eg+"$1")]})],i);case"::placeholder":return ec([vd(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),vd(e,{props:[it(o,/:(plac\w+)/,":"+Eg+"$1")]}),vd(e,{props:[it(o,/:(plac\w+)/,Hn+"input-$1")]})],i)}return""})}},P5=[x5],O5=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var x=R.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||P5,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var x=R.getAttribute("data-emotion").split(" "),B=1;B<x.length;B++)o[x[B]]=!0;h.push(R)});var d,f=[I5,C5];{var g,_=[b5,T5(function(R){g.insert(R)})],v=w5(f.concat(i,_)),T=function(x){return ec(v5(x),v)};d=function(x,B,L,U){g=L,T(x?x+"{"+B.styles+"}":B.styles),U&&(w.inserted[B.name]=!0)}}var w={key:t,sheet:new s5({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(h),w},k5=!0;function D5(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var OP=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||k5===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},N5=function(e,t,r){OP(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function M5(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var V5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},L5=/[A-Z]|^ms/g,U5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kP=function(e){return e.charCodeAt(1)===45},CI=function(e){return e!=null&&typeof e!="boolean"},M0=xP(function(n){return kP(n)?n:n.replace(L5,"-$&").toLowerCase()}),xI=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(U5,function(r,i,o){return ji={name:i,styles:o,next:ji},i})}return V5[e]!==1&&!kP(e)&&typeof t=="number"&&t!==0?t+"px":t};function lf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return ji={name:i.name,styles:i.styles,next:ji},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)ji={name:u.name,styles:u.styles,next:ji},u=u.next;var h=o.styles+";";return h}return B5(n,e,t)}case"function":{if(n!==void 0){var d=ji,f=t(n);return ji=d,lf(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function B5(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=lf(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":CI(h)&&(r+=M0(o)+":"+xI(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)CI(u[d])&&(r+=M0(o)+":"+xI(o,u[d])+";");else{var f=lf(n,e,u);switch(o){case"animation":case"animationName":{r+=M0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var PI=/label:\s*([^\s;{]+)\s*(;|$)/g,ji;function DP(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";ji=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=lf(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=lf(t,e,n[h]),r){var d=o;i+=d[h]}PI.lastIndex=0;for(var f="",g;(g=PI.exec(i))!==null;)f+="-"+g[1];var _=M5(i)+f;return{name:_,styles:i,next:ji}}var F5=function(e){return e()},j5=uE.useInsertionEffect?uE.useInsertionEffect:!1,z5=j5||F5,NP=X.createContext(typeof HTMLElement<"u"?O5({key:"css"}):null);NP.Provider;var q5=function(e){return X.forwardRef(function(t,r){var i=X.useContext(NP);return e(t,i,r)})},H5=X.createContext({}),$5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,G5=xP(function(n){return $5.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),K5=G5,W5=function(e){return e!=="theme"},OI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?K5:W5},kI=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Y5=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return OP(t,r,i),z5(function(){return N5(t,r,i)}),null},Q5=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=kI(e,t,r),d=h||OI(i),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var R=q5(function(x,B,L){var U=f&&x.as||i,H="",j=[],$=x;if(x.theme==null){$={};for(var M in x)$[M]=x[M];$.theme=X.useContext(H5)}typeof x.className=="string"?H=D5(B.registered,j,x.className):x.className!=null&&(H=x.className+" ");var C=DP(_.concat(j),B.registered,$);H+=B.key+"-"+C.name,u!==void 0&&(H+=" "+u);var I=f&&h===void 0?OI(U):d,b={};for(var P in x)f&&P==="as"||I(P)&&(b[P]=x[P]);return b.className=H,L&&(b.ref=L),X.createElement(X.Fragment,null,X.createElement(Y5,{cache:B,serialized:C,isStringTag:typeof U=="string"}),X.createElement(U,b))});return R.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=_,R.__emotion_forwardProp=h,Object.defineProperty(R,"toString",{value:function(){return"."+u}}),R.withComponent=function(x,B){var L=n(x,_E({},t,B,{shouldForwardProp:kI(R,B,!0)}));return L.apply(void 0,_)},R}},X5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bE=Q5.bind(null);X5.forEach(function(n){bE[n]=bE(n)});var Z5=Gx();const Dt=yb(Z5);/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function J5(n,e){return bE(n,e)}function eB(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const DI=[];function NI(n){return DI[0]=n,DP(DI)}var V0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MI;function tB(){if(MI)return ht;MI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function w(R){if(typeof R=="object"&&R!==null){var x=R.$$typeof;switch(x){case n:switch(R=R.type,R){case t:case i:case r:case d:case f:return R;default:switch(R=R&&R.$$typeof,R){case u:case h:case _:case g:return R;case o:return R;default:return x}}case e:return x}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=n,ht.ForwardRef=h,ht.Fragment=t,ht.Lazy=_,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(R){return w(R)===o},ht.isContextProvider=function(R){return w(R)===u},ht.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},ht.isForwardRef=function(R){return w(R)===h},ht.isFragment=function(R){return w(R)===t},ht.isLazy=function(R){return w(R)===_},ht.isMemo=function(R){return w(R)===g},ht.isPortal=function(R){return w(R)===e},ht.isProfiler=function(R){return w(R)===i},ht.isStrictMode=function(R){return w(R)===r},ht.isSuspense=function(R){return w(R)===d},ht.isSuspenseList=function(R){return w(R)===f},ht.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===f||R===v||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===g||R.$$typeof===u||R.$$typeof===o||R.$$typeof===h||R.$$typeof===T||R.getModuleId!==void 0)},ht.typeOf=w,ht}var VI;function nB(){return VI||(VI=1,V0.exports=tB()),V0.exports}var MP=nB();function Ms(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function VP(n){if(X.isValidElement(n)||MP.isValidElementType(n)||!Ms(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=VP(n[t])}),e}function Mr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Ms(n)&&Ms(e)&&Object.keys(e).forEach(i=>{X.isValidElement(e[i])||MP.isValidElementType(e[i])?r[i]=e[i]:Ms(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Ms(n[i])?r[i]=Mr(n[i],e[i],t):t.clone?r[i]=Ms(e[i])?VP(e[i]):e[i]:r[i]=e[i]}),r}const rB=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function iB(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=rB(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,T){const w=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?d(u[T]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...i}}function sB(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function aB(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function oB(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function lB(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const uB={borderRadius:4};function zd(n,e){return e?Mr(n,e,{clone:!1}):n}const yy={xs:0,sm:600,md:900,lg:1200,xl:1536},LI={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${yy[n]}px)`},cB={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:yy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Hs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||LI;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||LI;return Object.keys(e).reduce((u,h)=>{if(aB(o.keys,h)){const d=oB(r.containerQueries?r:cB,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||yy).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function hB(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function dB(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function ro(n){if(typeof n!="string")throw new Error(Rl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function _y(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function bg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=_y(n,t)||r,e&&(i=e(i,r,n)),i}function Jt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=_y(d,r)||{};return Hs(u,h,_=>{let v=bg(f,i,_);return _===v&&typeof _=="string"&&(v=bg(f,i,`${e}${_==="default"?"":ro(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function fB(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const pB={m:"margin",p:"padding"},mB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},UI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gB=fB(n=>{if(n.length>2)if(UI[n])n=UI[n];else return[n];const[e,t]=n.split(""),r=pB[e],i=mB[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Pb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ob=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Pb,...Ob];function Mf(n,e,t,r){const i=_y(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:`-${h}`}:typeof i=="function"?i:()=>{}}function kb(n){return Mf(n,"spacing",8)}function Vf(n,e){return typeof e=="string"||e==null?e:n(e)}function yB(n,e){return t=>n.reduce((r,i)=>(r[i]=Vf(e,t),r),{})}function _B(n,e,t,r){if(!e.includes(t))return null;const i=gB(t),o=yB(i,r),u=n[t];return Hs(n,u,o)}function LP(n,e){const t=kb(n.theme);return Object.keys(n).map(r=>_B(n,e,r,t)).reduce(zd,{})}function zt(n){return LP(n,Pb)}zt.propTypes={};zt.filterProps=Pb;function qt(n){return LP(n,Ob)}qt.propTypes={};qt.filterProps=Ob;function UP(n=8,e=kb({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function vy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?zd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function ti(n){return typeof n!="number"?n:`${n}px solid`}function oi(n,e){return Jt({prop:n,themeKey:"borders",transform:e})}const vB=oi("border",ti),EB=oi("borderTop",ti),bB=oi("borderRight",ti),wB=oi("borderBottom",ti),TB=oi("borderLeft",ti),SB=oi("borderColor"),AB=oi("borderTopColor"),RB=oi("borderRightColor"),IB=oi("borderBottomColor"),CB=oi("borderLeftColor"),xB=oi("outline",ti),PB=oi("outlineColor"),Ey=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Mf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Vf(e,r)});return Hs(n,n.borderRadius,t)}return null};Ey.propTypes={};Ey.filterProps=["borderRadius"];vy(vB,EB,bB,wB,TB,SB,AB,RB,IB,CB,Ey,xB,PB);const by=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({gap:Vf(e,r)});return Hs(n,n.gap,t)}return null};by.propTypes={};by.filterProps=["gap"];const wy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({columnGap:Vf(e,r)});return Hs(n,n.columnGap,t)}return null};wy.propTypes={};wy.filterProps=["columnGap"];const Ty=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({rowGap:Vf(e,r)});return Hs(n,n.rowGap,t)}return null};Ty.propTypes={};Ty.filterProps=["rowGap"];const OB=Jt({prop:"gridColumn"}),kB=Jt({prop:"gridRow"}),DB=Jt({prop:"gridAutoFlow"}),NB=Jt({prop:"gridAutoColumns"}),MB=Jt({prop:"gridAutoRows"}),VB=Jt({prop:"gridTemplateColumns"}),LB=Jt({prop:"gridTemplateRows"}),UB=Jt({prop:"gridTemplateAreas"}),BB=Jt({prop:"gridArea"});vy(by,wy,Ty,OB,kB,DB,NB,MB,VB,LB,UB,BB);function tc(n,e){return e==="grey"?e:n}const FB=Jt({prop:"color",themeKey:"palette",transform:tc}),jB=Jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tc}),zB=Jt({prop:"backgroundColor",themeKey:"palette",transform:tc});vy(FB,jB,zB);function Or(n){return n<=1&&n!==0?`${n*100}%`:n}const qB=Jt({prop:"width",transform:Or}),Db=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,d;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||yy[t];return r?((d=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Or(t)}};return Hs(n,n.maxWidth,e)}return null};Db.filterProps=["maxWidth"];const HB=Jt({prop:"minWidth",transform:Or}),$B=Jt({prop:"height",transform:Or}),GB=Jt({prop:"maxHeight",transform:Or}),KB=Jt({prop:"minHeight",transform:Or});Jt({prop:"size",cssProperty:"width",transform:Or});Jt({prop:"size",cssProperty:"height",transform:Or});const WB=Jt({prop:"boxSizing"});vy(qB,Db,HB,$B,GB,KB,WB);const Sy={border:{themeKey:"borders",transform:ti},borderTop:{themeKey:"borders",transform:ti},borderRight:{themeKey:"borders",transform:ti},borderBottom:{themeKey:"borders",transform:ti},borderLeft:{themeKey:"borders",transform:ti},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ti},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ey},color:{themeKey:"palette",transform:tc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tc},backgroundColor:{themeKey:"palette",transform:tc},p:{style:qt},pt:{style:qt},pr:{style:qt},pb:{style:qt},pl:{style:qt},px:{style:qt},py:{style:qt},padding:{style:qt},paddingTop:{style:qt},paddingRight:{style:qt},paddingBottom:{style:qt},paddingLeft:{style:qt},paddingX:{style:qt},paddingY:{style:qt},paddingInline:{style:qt},paddingInlineStart:{style:qt},paddingInlineEnd:{style:qt},paddingBlock:{style:qt},paddingBlockStart:{style:qt},paddingBlockEnd:{style:qt},m:{style:zt},mt:{style:zt},mr:{style:zt},mb:{style:zt},ml:{style:zt},mx:{style:zt},my:{style:zt},margin:{style:zt},marginTop:{style:zt},marginRight:{style:zt},marginBottom:{style:zt},marginLeft:{style:zt},marginX:{style:zt},marginY:{style:zt},marginInline:{style:zt},marginInlineStart:{style:zt},marginInlineEnd:{style:zt},marginBlock:{style:zt},marginBlockStart:{style:zt},marginBlockEnd:{style:zt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:by},rowGap:{style:Ty},columnGap:{style:wy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Or},maxWidth:{style:Db},minWidth:{transform:Or},height:{transform:Or},maxHeight:{transform:Or},minHeight:{transform:Or},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function YB(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function QB(n,e){return typeof n=="function"?n(e):n}function XB(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=_y(i,f)||{};return _?_(u):Hs(u,r,w=>{let R=bg(v,g,w);return w===R&&typeof w=="string"&&(R=bg(v,g,`${t}${w==="default"?"":ro(w)}`,w)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Sy;function u(h){let d=h;if(typeof h=="function")d=h(i);else if(typeof h!="object")return h;if(!d)return null;const f=hB(i.breakpoints),g=Object.keys(f);let _=f;return Object.keys(d).forEach(v=>{const T=QB(d[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=zd(_,n(v,T,i,o));else{const w=Hs({theme:i},T,R=>({[v]:R}));YB(w,T)?_[v]=e({sx:T,theme:i}):_=zd(_,w)}else _=zd(_,n(v,T,i,o))}),sB(i,dB(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const cc=XB();cc.filterProps=["sx"];function ZB(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function BP(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=iB(t),d=UP(i);let f=Mr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...uB,...o}},u);return f=lB(f),f.applyStyles=ZB,f=e.reduce((g,_)=>Mr(g,_),f),f.unstable_sxConfig={...Sy,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return cc({sx:_,theme:this})},f}const BI=n=>n,JB=()=>{let n=BI;return{configure(e){n=e},generate(e){return n(e)},reset(){n=BI}}},eF=JB();function FP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=FP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function qd(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=FP(n))&&(r&&(r+=" "),r+=e);return r}const tF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Nb(n,e,t="Mui"){const r=tF[e];return r?`${t}-${r}`:`${eF.generate(n)}-${e}`}function jP(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Nb(n,i,t)}),r}function zP(n){const{variants:e,...t}=n,r={variants:e,style:NI(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=NI(i.style))}),r}const nF=BP();function L0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function rF(n){return n?(e,t)=>t[n]:null}function iF(n,e,t){n.theme=oF(n.theme)?t:n.theme[e]||n.theme}function Jm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Jm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return qP(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function qP(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function sF(n={}){const{themeId:e,defaultTheme:t=nF,rootShouldForwardProp:r=L0,slotShouldForwardProp:i=L0}=n;function o(h){iF(h,e,t)}return(h,d={})=>{eB(h,j=>j.filter($=>$!==cc));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=rF(uF(g)),...w}=d,R=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,x=v||!1;let B=L0;g==="Root"||g==="root"?B=r:g?B=i:lF(h)&&(B=void 0);const L=J5(h,{shouldForwardProp:B,label:aF(),...w}),U=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(M){return Jm(M,j)};if(Ms(j)){const $=zP(j);return $.variants?function(C){return Jm(C,$)}:$.style}return j},H=(...j)=>{const $=[],M=j.map(U),C=[];if($.push(o),f&&T&&C.push(function(O){var ee,ie;const te=(ie=(ee=O.theme.components)==null?void 0:ee[f])==null?void 0:ie.styleOverrides;if(!te)return null;const F={};for(const ue in te)F[ue]=Jm(O,te[ue]);return T(O,F)}),f&&!R&&C.push(function(O){var F,ee;const k=O.theme,te=(ee=(F=k==null?void 0:k.components)==null?void 0:F[f])==null?void 0:ee.variants;return te?qP(O,te):null}),x||C.push(cc),Array.isArray(M[0])){const P=M.shift(),O=new Array($.length).fill(""),k=new Array(C.length).fill("");let te;te=[...O,...P,...k],te.raw=[...O,...P.raw,...k],$.unshift(te)}const I=[...$,...M,...C],b=L(...I);return h.muiName&&(b.muiName=h.muiName),b};return L.withConfig&&(H.withConfig=L.withConfig),H}}function aF(n,e){return void 0}function oF(n){for(const e in n)return!1;return!0}function lF(n){return typeof n=="string"&&n.charCodeAt(0)>96}function uF(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function wE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const d=h;t[i][d]=wE(o[d],u[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function HP(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Mb(n,e=0,t=1){return HP(n,e,t)}function cF(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function io(n){if(n.type)return n;if(n.charAt(0)==="#")return io(cF(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Rl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Rl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const hF=n=>{const e=io(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Dd=(n,e)=>{try{return hF(n)}catch{return n}};function Ay(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function $P(n){n=io(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(f,g=(f+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),Ay({type:h,values:d})}function TE(n){n=io(n);let e=n.type==="hsl"||n.type==="hsla"?io($P(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function dF(n,e){const t=TE(n),r=TE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function fF(n,e){return n=io(n),e=Mb(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Ay(n)}function Pm(n,e,t){try{return fF(n,e)}catch{return n}}function Vb(n,e){if(n=io(n),e=Mb(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Ay(n)}function ft(n,e,t){try{return Vb(n,e)}catch{return n}}function Lb(n,e){if(n=io(n),e=Mb(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Ay(n)}function pt(n,e,t){try{return Lb(n,e)}catch{return n}}function pF(n,e=.15){return TE(n)>.5?Vb(n,e):Lb(n,e)}function Om(n,e,t){try{return pF(n,e)}catch{return n}}function mF(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let FI=0;function gF(n){const[e,t]=X.useState(n),r=n||e;return X.useEffect(()=>{e==null&&(FI+=1,t(`mui-${FI}`))},[e]),r}const yF={...uE},jI=yF.useId;function GP(n){if(jI!==void 0){const e=jI();return n??e}return gF(n)}function _F({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=X.useRef(n!==void 0),[o,u]=X.useState(e),h=i?n:o,d=X.useCallback(f=>{i||u(f)},[]);return[h,d]}function vF(...n){return X.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{mF(t,e)})},n)}function zI(n){try{return n.matches(":focus-visible")}catch{}return!1}const EF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function KP(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[i]=u}return r}const bF=X.createContext(),wF=()=>X.useContext(bF)??!1,TF=X.createContext(void 0);function SF(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?wE(i.defaultProps,r):!i.styleOverrides&&!i.variants?wE(i,r):r}function AF({props:n,name:e}){const t=X.useContext(TF);return SF({props:n,name:e,theme:{components:t}})}const qI={theme:void 0};function RF(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(qI.theme=i.theme,o=zP(n(qI)),e=o,t=i.theme),o}}function IF(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const HI=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},CF=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},xF=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function U0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return CF(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=xF(h,d);Object.assign(i,{[g]:_}),HI(o,h,`var(${g})`,f),HI(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function PF(n,e={}){const{getSelector:t=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...d}=n,{vars:f,css:g,varsWithDefaults:_}=U0(d,e);let v=_;const T={},{[h]:w,...R}=o;if(Object.entries(R||{}).forEach(([U,H])=>{const{vars:j,css:$,varsWithDefaults:M}=U0(H,e);v=Mr(v,M),T[U]={css:$,vars:j}}),w){const{css:U,vars:H,varsWithDefaults:j}=U0(w,e);v=Mr(v,j),T[h]={css:U,vars:H}}function x(U,H){var $,M;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),U){if(j==="media")return n.defaultColorScheme===U?":root":{[`@media (prefers-color-scheme: ${((M=($=o[U])==null?void 0:$.palette)==null?void 0:M.mode)||U})`]:{":root":H}};if(j)return n.defaultColorScheme===U?`:root, ${j.replace("%s",String(U))}`:j.replace("%s",String(U))}return":root"}return{vars:v,generateThemeVars:()=>{let U={...f};return Object.entries(T).forEach(([,{vars:H}])=>{U=Mr(U,H)}),U},generateStyleSheets:()=>{var C,I;const U=[],H=n.defaultColorScheme||"light";function j(b,P){Object.keys(P).length&&U.push(typeof b=="string"?{[b]:{...P}}:b)}j(t(void 0,{...g}),g);const{[H]:$,...M}=T;if($){const{css:b}=$,P=(I=(C=o[H])==null?void 0:C.palette)==null?void 0:I.mode,O=!r&&P?{colorScheme:P,...b}:{...b};j(t(H,{...O}),O)}return Object.entries(M).forEach(([b,{css:P}])=>{var te,F;const O=(F=(te=o[b])==null?void 0:te.palette)==null?void 0:F.mode,k=!r&&O?{colorScheme:O,...P}:{...P};j(t(b,{...k}),k)}),U}}}function OF(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function WP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:sf.white,default:sf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const kF=WP();function YP(){return{text:{primary:sf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:sf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const $I=YP();function GI(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Lb(n.main,i):e==="dark"&&(n.dark=Vb(n.main,o)))}function DF(n="light"){return n==="dark"?{main:Lu[200],light:Lu[50],dark:Lu[400]}:{main:Lu[700],light:Lu[400],dark:Lu[800]}}function NF(n="light"){return n==="dark"?{main:Vu[200],light:Vu[50],dark:Vu[400]}:{main:Vu[500],light:Vu[300],dark:Vu[700]}}function MF(n="light"){return n==="dark"?{main:Mu[500],light:Mu[300],dark:Mu[700]}:{main:Mu[700],light:Mu[400],dark:Mu[800]}}function VF(n="light"){return n==="dark"?{main:Uu[400],light:Uu[300],dark:Uu[700]}:{main:Uu[700],light:Uu[500],dark:Uu[900]}}function LF(n="light"){return n==="dark"?{main:Bu[400],light:Bu[300],dark:Bu[700]}:{main:Bu[800],light:Bu[500],dark:Bu[900]}}function UF(n="light"){return n==="dark"?{main:_d[400],light:_d[300],dark:_d[700]}:{main:"#ed6c02",light:_d[500],dark:_d[900]}}function Ub(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||DF(e),u=n.secondary||NF(e),h=n.error||MF(e),d=n.info||VF(e),f=n.success||LF(e),g=n.warning||UF(e);function _(R){return dF(R,$I.text.primary)>=t?$I.text.primary:kF.text.primary}const v=({color:R,name:x,mainShade:B=500,lightShade:L=300,darkShade:U=700})=>{if(R={...R},!R.main&&R[B]&&(R.main=R[B]),!R.hasOwnProperty("main"))throw new Error(Rl(11,x?` (${x})`:"",B));if(typeof R.main!="string")throw new Error(Rl(12,x?` (${x})`:"",JSON.stringify(R.main)));return GI(R,"light",L,r),GI(R,"dark",U,r),R.contrastText||(R.contrastText=_(R.main)),R};let T;return e==="light"?T=WP():e==="dark"&&(T=YP()),Mr({common:{...sf},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:t5,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function BF(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function FF(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function jF(n){return Math.round(n*1e5)/1e5}const KI={textTransform:"uppercase"},WI='"Roboto", "Helvetica", "Arial", sans-serif';function zF(n,e){const{fontFamily:t=WI,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(x=>`${x/d*v}rem`),w=(x,B,L,U,H)=>({fontFamily:t,fontWeight:x,fontSize:T(B),lineHeight:L,...t===WI?{letterSpacing:`${jF(U/B)}em`}:{},...H,...f}),R={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,KI),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,KI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Mr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...R},_,{clone:!1})}const qF=.2,HF=.14,$F=.12;function Tt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${qF})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${HF})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${$F})`].join(",")}const GF=["none",Tt(0,2,1,-1,0,1,1,0,0,1,3,0),Tt(0,3,1,-2,0,2,2,0,0,1,5,0),Tt(0,3,3,-2,0,3,4,0,0,1,8,0),Tt(0,2,4,-1,0,4,5,0,0,1,10,0),Tt(0,3,5,-1,0,5,8,0,0,1,14,0),Tt(0,3,5,-1,0,6,10,0,0,1,18,0),Tt(0,4,5,-2,0,7,10,1,0,2,16,1),Tt(0,5,5,-3,0,8,10,1,0,3,14,2),Tt(0,5,6,-3,0,9,12,1,0,3,16,2),Tt(0,6,6,-3,0,10,14,1,0,4,18,3),Tt(0,6,7,-4,0,11,15,1,0,4,20,3),Tt(0,7,8,-4,0,12,17,2,0,5,22,4),Tt(0,7,8,-4,0,13,19,2,0,5,24,4),Tt(0,7,9,-4,0,14,21,2,0,5,26,4),Tt(0,8,9,-5,0,15,22,2,0,6,28,5),Tt(0,8,10,-5,0,16,24,2,0,6,30,5),Tt(0,8,11,-5,0,17,26,2,0,6,32,5),Tt(0,9,11,-5,0,18,28,2,0,7,34,6),Tt(0,9,12,-6,0,19,29,2,0,7,36,6),Tt(0,10,13,-6,0,20,31,3,0,8,38,7),Tt(0,10,13,-6,0,21,33,3,0,8,40,7),Tt(0,10,14,-6,0,22,35,3,0,8,42,7),Tt(0,11,14,-7,0,23,36,3,0,9,44,8),Tt(0,11,15,-7,0,24,38,3,0,9,46,8)],KF={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},WF={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function YI(n){return`${Math.round(n)}ms`}function YF(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function QF(n){const e={...KF,...n.easing},t={...WF,...n.duration};return{getAutoHeightDuration:YF,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:YI(u)} ${h} ${typeof d=="string"?d:YI(d)}`).join(",")},...n,easing:e,duration:t}}const XF={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ZF(n){return Ms(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function QP(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!ZF(h)||u.startsWith("unstable_")?delete r[u]:Ms(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function SE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:d,...f}=n;if(n.vars)throw new Error(Rl(20));const g=Ub(o),_=BP(n);let v=Mr(_,{mixins:FF(_.breakpoints,r),palette:g,shadows:GF.slice(),typography:zF(g,h),transitions:QF(u),zIndex:{...XF}});return v=Mr(v,f),v=e.reduce((T,w)=>Mr(T,w),v),v.unstable_sxConfig={...Sy,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(w){return cc({sx:w,theme:this})},v.toRuntimeSource=QP,v}function JF(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const ej=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=JF(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function XP(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function ZP(n){return n==="dark"?ej:[]}function tj(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Ub(e);return{palette:o,opacity:{...XP(o.mode),...t},overlays:r||ZP(o.mode),...i}}function nj(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const rj=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],ij=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return rj(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function sj(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function oe(n,e,t){!n[e]&&t&&(n[e]=t)}function Nd(n){return typeof n!="string"||!n.startsWith("hsl")?n:$P(n)}function ks(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Dd(Nd(n[e])))}function aj(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Li=n=>{try{return n()}catch{}},oj=(n="mui")=>IF(n);function B0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=tj({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=SE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...XP(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||ZP(i)},u}function lj(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=nj,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=oj(o),{[_]:T,light:w,dark:R,...x}=t,B={...x};let L=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(Rl(21,_));const U=B0(B,L,f,_);w&&!B.light&&B0(B,w,void 0,"light"),R&&!B.dark&&B0(B,R,void 0,"dark");let H={defaultColorScheme:_,...U,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:d,getCssVar:v,colorSchemes:B,font:{...BF(U.typography),...U.font},spacing:aj(f.spacing)};Object.keys(H.colorSchemes).forEach(I=>{const b=H.colorSchemes[I].palette,P=O=>{const k=O.split("-"),te=k[1],F=k[2];return v(O,b[te][F])};if(b.mode==="light"&&(oe(b.common,"background","#fff"),oe(b.common,"onBackground","#000")),b.mode==="dark"&&(oe(b.common,"background","#000"),oe(b.common,"onBackground","#fff")),sj(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){oe(b.Alert,"errorColor",ft(b.error.light,.6)),oe(b.Alert,"infoColor",ft(b.info.light,.6)),oe(b.Alert,"successColor",ft(b.success.light,.6)),oe(b.Alert,"warningColor",ft(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",P("palette-error-main")),oe(b.Alert,"infoFilledBg",P("palette-info-main")),oe(b.Alert,"successFilledBg",P("palette-success-main")),oe(b.Alert,"warningFilledBg",P("palette-warning-main")),oe(b.Alert,"errorFilledColor",Li(()=>b.getContrastText(b.error.main))),oe(b.Alert,"infoFilledColor",Li(()=>b.getContrastText(b.info.main))),oe(b.Alert,"successFilledColor",Li(()=>b.getContrastText(b.success.main))),oe(b.Alert,"warningFilledColor",Li(()=>b.getContrastText(b.warning.main))),oe(b.Alert,"errorStandardBg",pt(b.error.light,.9)),oe(b.Alert,"infoStandardBg",pt(b.info.light,.9)),oe(b.Alert,"successStandardBg",pt(b.success.light,.9)),oe(b.Alert,"warningStandardBg",pt(b.warning.light,.9)),oe(b.Alert,"errorIconColor",P("palette-error-main")),oe(b.Alert,"infoIconColor",P("palette-info-main")),oe(b.Alert,"successIconColor",P("palette-success-main")),oe(b.Alert,"warningIconColor",P("palette-warning-main")),oe(b.AppBar,"defaultBg",P("palette-grey-100")),oe(b.Avatar,"defaultBg",P("palette-grey-400")),oe(b.Button,"inheritContainedBg",P("palette-grey-300")),oe(b.Button,"inheritContainedHoverBg",P("palette-grey-A100")),oe(b.Chip,"defaultBorder",P("palette-grey-400")),oe(b.Chip,"defaultAvatarColor",P("palette-grey-700")),oe(b.Chip,"defaultIconColor",P("palette-grey-700")),oe(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(b.LinearProgress,"primaryBg",pt(b.primary.main,.62)),oe(b.LinearProgress,"secondaryBg",pt(b.secondary.main,.62)),oe(b.LinearProgress,"errorBg",pt(b.error.main,.62)),oe(b.LinearProgress,"infoBg",pt(b.info.main,.62)),oe(b.LinearProgress,"successBg",pt(b.success.main,.62)),oe(b.LinearProgress,"warningBg",pt(b.warning.main,.62)),oe(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),oe(b.Slider,"primaryTrack",pt(b.primary.main,.62)),oe(b.Slider,"secondaryTrack",pt(b.secondary.main,.62)),oe(b.Slider,"errorTrack",pt(b.error.main,.62)),oe(b.Slider,"infoTrack",pt(b.info.main,.62)),oe(b.Slider,"successTrack",pt(b.success.main,.62)),oe(b.Slider,"warningTrack",pt(b.warning.main,.62));const O=Om(b.background.default,.8);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",Li(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Om(b.background.paper,.15)),oe(b.StepConnector,"border",P("palette-grey-400")),oe(b.StepContent,"border",P("palette-grey-400")),oe(b.Switch,"defaultColor",P("palette-common-white")),oe(b.Switch,"defaultDisabledColor",P("palette-grey-100")),oe(b.Switch,"primaryDisabledColor",pt(b.primary.main,.62)),oe(b.Switch,"secondaryDisabledColor",pt(b.secondary.main,.62)),oe(b.Switch,"errorDisabledColor",pt(b.error.main,.62)),oe(b.Switch,"infoDisabledColor",pt(b.info.main,.62)),oe(b.Switch,"successDisabledColor",pt(b.success.main,.62)),oe(b.Switch,"warningDisabledColor",pt(b.warning.main,.62)),oe(b.TableCell,"border",pt(Pm(b.divider,1),.88)),oe(b.Tooltip,"bg",Pm(b.grey[700],.92))}if(b.mode==="dark"){oe(b.Alert,"errorColor",pt(b.error.light,.6)),oe(b.Alert,"infoColor",pt(b.info.light,.6)),oe(b.Alert,"successColor",pt(b.success.light,.6)),oe(b.Alert,"warningColor",pt(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",P("palette-error-dark")),oe(b.Alert,"infoFilledBg",P("palette-info-dark")),oe(b.Alert,"successFilledBg",P("palette-success-dark")),oe(b.Alert,"warningFilledBg",P("palette-warning-dark")),oe(b.Alert,"errorFilledColor",Li(()=>b.getContrastText(b.error.dark))),oe(b.Alert,"infoFilledColor",Li(()=>b.getContrastText(b.info.dark))),oe(b.Alert,"successFilledColor",Li(()=>b.getContrastText(b.success.dark))),oe(b.Alert,"warningFilledColor",Li(()=>b.getContrastText(b.warning.dark))),oe(b.Alert,"errorStandardBg",ft(b.error.light,.9)),oe(b.Alert,"infoStandardBg",ft(b.info.light,.9)),oe(b.Alert,"successStandardBg",ft(b.success.light,.9)),oe(b.Alert,"warningStandardBg",ft(b.warning.light,.9)),oe(b.Alert,"errorIconColor",P("palette-error-main")),oe(b.Alert,"infoIconColor",P("palette-info-main")),oe(b.Alert,"successIconColor",P("palette-success-main")),oe(b.Alert,"warningIconColor",P("palette-warning-main")),oe(b.AppBar,"defaultBg",P("palette-grey-900")),oe(b.AppBar,"darkBg",P("palette-background-paper")),oe(b.AppBar,"darkColor",P("palette-text-primary")),oe(b.Avatar,"defaultBg",P("palette-grey-600")),oe(b.Button,"inheritContainedBg",P("palette-grey-800")),oe(b.Button,"inheritContainedHoverBg",P("palette-grey-700")),oe(b.Chip,"defaultBorder",P("palette-grey-700")),oe(b.Chip,"defaultAvatarColor",P("palette-grey-300")),oe(b.Chip,"defaultIconColor",P("palette-grey-300")),oe(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(b.LinearProgress,"primaryBg",ft(b.primary.main,.5)),oe(b.LinearProgress,"secondaryBg",ft(b.secondary.main,.5)),oe(b.LinearProgress,"errorBg",ft(b.error.main,.5)),oe(b.LinearProgress,"infoBg",ft(b.info.main,.5)),oe(b.LinearProgress,"successBg",ft(b.success.main,.5)),oe(b.LinearProgress,"warningBg",ft(b.warning.main,.5)),oe(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),oe(b.Slider,"primaryTrack",ft(b.primary.main,.5)),oe(b.Slider,"secondaryTrack",ft(b.secondary.main,.5)),oe(b.Slider,"errorTrack",ft(b.error.main,.5)),oe(b.Slider,"infoTrack",ft(b.info.main,.5)),oe(b.Slider,"successTrack",ft(b.success.main,.5)),oe(b.Slider,"warningTrack",ft(b.warning.main,.5));const O=Om(b.background.default,.98);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",Li(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Om(b.background.paper,.15)),oe(b.StepConnector,"border",P("palette-grey-600")),oe(b.StepContent,"border",P("palette-grey-600")),oe(b.Switch,"defaultColor",P("palette-grey-300")),oe(b.Switch,"defaultDisabledColor",P("palette-grey-600")),oe(b.Switch,"primaryDisabledColor",ft(b.primary.main,.55)),oe(b.Switch,"secondaryDisabledColor",ft(b.secondary.main,.55)),oe(b.Switch,"errorDisabledColor",ft(b.error.main,.55)),oe(b.Switch,"infoDisabledColor",ft(b.info.main,.55)),oe(b.Switch,"successDisabledColor",ft(b.success.main,.55)),oe(b.Switch,"warningDisabledColor",ft(b.warning.main,.55)),oe(b.TableCell,"border",ft(Pm(b.divider,1),.68)),oe(b.Tooltip,"bg",Pm(b.grey[700],.92))}ks(b.background,"default"),ks(b.background,"paper"),ks(b.common,"background"),ks(b.common,"onBackground"),ks(b,"divider"),Object.keys(b).forEach(O=>{const k=b[O];O!=="tonalOffset"&&k&&typeof k=="object"&&(k.main&&oe(b[O],"mainChannel",Dd(Nd(k.main))),k.light&&oe(b[O],"lightChannel",Dd(Nd(k.light))),k.dark&&oe(b[O],"darkChannel",Dd(Nd(k.dark))),k.contrastText&&oe(b[O],"contrastTextChannel",Dd(Nd(k.contrastText))),O==="text"&&(ks(b[O],"primary"),ks(b[O],"secondary")),O==="action"&&(k.active&&ks(b[O],"active"),k.selected&&ks(b[O],"selected")))})}),H=e.reduce((I,b)=>Mr(I,b),H);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:ij(H)},{vars:$,generateThemeVars:M,generateStyleSheets:C}=PF(H,j);return H.vars=$,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([I,b])=>{H[I]=b}),H.generateThemeVars=M,H.generateStyleSheets=C,H.generateSpacing=function(){return UP(f.spacing,kb(this))},H.getColorSchemeSelector=OF(h),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=u,H.unstable_sxConfig={...Sy,...f==null?void 0:f.unstable_sxConfig},H.unstable_sx=function(b){return cc({sx:b,theme:this})},H.toRuntimeSource=QP,H}function QI(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Ub({...t===!0?{}:t.palette,mode:e})})}function uj(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",d=i==null?void 0:i[h],f={...i,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return SE(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=SE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},QI(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},QI(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),lj({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const cj=uj();function JP(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const hj=n=>JP(n)&&n!=="classes",Lf=sF({themeId:n5,defaultTheme:cj,rootShouldForwardProp:hj}),Bb=RF;function eO(n){return AF(n)}function dj(n){return Nb("MuiSvgIcon",n)}jP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const fj=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${ro(e)}`,`fontSize${ro(t)}`]};return KP(i,dj,r)},pj=Lf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${ro(t.color)}`],e[`fontSize${ro(t.fontSize)}`]]}})(Bb(({theme:n})=>{var e,t,r,i,o,u,h,d,f,g,_,v,T,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var x,B;return{props:{color:R},style:{color:(B=(x=(n.vars??n).palette)==null?void 0:x[R])==null?void 0:B.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(w=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),AE=X.forwardRef(function(e,t){const r=eO({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=X.isValidElement(i)&&i.type==="svg",R={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},x={};g||(x.viewBox=v);const B=fj(R);return V.jsxs(pj,{as:h,className:qd(B.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...x,...T,...w&&i.props,ownerState:R,children:[w?i.props.children:i,_?V.jsx("title",{children:_}):null]})});AE.muiName="SvgIcon";function tO(n,e){function t(r,i){return V.jsx(AE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=AE.muiName,X.memo(X.forwardRef(t))}const mj=tO(V.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),gj=tO(V.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function yj(n){return Nb("MuiRating",n)}const Ed=jP("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function _j(n){const e=n.toString().split(".")[1];return e?e.length:0}function F0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(_j(e)))}const vj=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${ro(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return KP(h,yj,e)},Ej=Lf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Ed.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${ro(t.size)}`],t.readOnly&&e.readOnly]}})(Bb(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Ed.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Ed.focusVisible} .${Ed.iconActive}`]:{outline:"1px solid #999"},[`& .${Ed.visuallyHidden}`]:EF,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),nO=Lf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),bj=Lf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Bb(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),wj=Lf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>JP(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function Tj(n){const{value:e,...t}=n;return V.jsx("span",{...t})}function XI(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:R,onClick:x,onFocus:B,readOnly:L,ownerState:U,ratingValue:H,ratingValueRounded:j}=n,$=u?_===H:_<=H,M=_<=h,C=_<=i,I=_===j,b=`${T}-${GP()}`,P=V.jsx(bj,{as:f,value:_,className:qd(e.icon,$?e.iconFilled:e.iconEmpty,M&&e.iconHover,C&&e.iconFocus,g&&e.iconActive),ownerState:{...U,iconEmpty:!$,iconFilled:$,iconHover:M,iconFocus:C,iconActive:g},children:r&&!$?r:d});return L?V.jsx("span",{...v,children:P}):V.jsxs(X.Fragment,{children:[V.jsxs(nO,{ownerState:{...U,emptyValueFocused:void 0},htmlFor:b,...v,children:[P,V.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),V.jsx("input",{className:e.visuallyHidden,onFocus:B,onBlur:w,onChange:R,onClick:x,disabled:t,value:_,id:b,type:"radio",name:T,checked:I})]})}const Sj=V.jsx(mj,{fontSize:"inherit"}),Aj=V.jsx(gj,{fontSize:"inherit"});function Rj(n){return`${n||"0"} Star${n!==1?"s":""}`}const Ij=X.forwardRef(function(e,t){const r=eO({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=Aj,emptyLabelText:f="Empty",getLabelText:g=Rj,highlightSelectedOnly:_=!1,icon:v=Sj,IconContainerComponent:T=Tj,max:w=5,name:R,onChange:x,onChangeActive:B,onMouseLeave:L,onMouseMove:U,precision:H=1,readOnly:j=!1,size:$="medium",value:M,...C}=r,I=GP(R),[b,P]=_F({controlled:M,default:u,name:"Rating"}),O=F0(b,H),k=wF(),[{hover:te,focus:F},ee]=X.useState({hover:-1,focus:-1});let ie=O;te!==-1&&(ie=te),F!==-1&&(ie=F);const[ue,Te]=X.useState(!1),q=X.useRef(),ae=vF(q,t),be=Ze=>{U&&U(Ze);const at=q.current,{right:en,left:vr,width:Ln}=at.getBoundingClientRect();let Ur;k?Ur=(en-Ze.clientX)/Ln:Ur=(Ze.clientX-vr)/Ln;let Un=F0(w*Ur+H/2,H);Un=HP(Un,H,w),ee(lr=>lr.hover===Un&&lr.focus===Un?lr:{hover:Un,focus:Un}),Te(!1),B&&te!==Un&&B(Ze,Un)},ve=Ze=>{L&&L(Ze);const at=-1;ee({hover:at,focus:at}),B&&te!==at&&B(Ze,at)},ye=Ze=>{let at=Ze.target.value===""?null:parseFloat(Ze.target.value);te!==-1&&(at=te),P(at),x&&x(Ze,at)},Oe=Ze=>{Ze.clientX===0&&Ze.clientY===0||(ee({hover:-1,focus:-1}),P(null),x&&parseFloat(Ze.target.value)===O&&x(Ze,null))},ke=Ze=>{zI(Ze.target)&&Te(!0);const at=parseFloat(Ze.target.value);ee(en=>({hover:en.hover,focus:at}))},xt=Ze=>{if(te!==-1)return;zI(Ze.target)||Te(!1);const at=-1;ee(en=>({hover:en.hover,focus:at}))},[ze,_t]=X.useState(!1),$e={...r,component:i,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:ze,focusVisible:ue,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:H,readOnly:j,size:$},wt=vj($e);return V.jsxs(Ej,{as:i,ref:ae,onMouseMove:be,onMouseLeave:ve,className:qd(wt.root,o,j&&"MuiRating-readOnly"),ownerState:$e,role:j?"img":null,"aria-label":j?g(ie):null,...C,children:[Array.from(new Array(w)).map((Ze,at)=>{const en=at+1,vr={classes:wt,disabled:h,emptyIcon:d,focus:F,getLabelText:g,highlightSelectedOnly:_,hover:te,icon:v,IconContainerComponent:T,name:I,onBlur:xt,onChange:ye,onClick:Oe,onFocus:ke,ratingValue:ie,ratingValueRounded:O,readOnly:j,ownerState:$e},Ln=en===Math.ceil(ie)&&(te!==-1||F!==-1);if(H<1){const Ur=Array.from(new Array(1/H));return V.jsx(wj,{className:qd(wt.decimal,Ln&&wt.iconActive),ownerState:$e,iconActive:Ln,children:Ur.map((Un,lr)=>{const li=F0(en-1+(lr+1)*H,H);return V.jsx(XI,{...vr,isActive:!1,itemValue:li,labelProps:{style:Ur.length-1===lr?{}:{width:li===ie?`${(lr+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},li)})},en)}return V.jsx(XI,{...vr,isActive:Ln,itemValue:en},en)}),!j&&!h&&V.jsxs(nO,{className:qd(wt.label,wt.labelEmptyValue),ownerState:$e,children:[V.jsx("input",{className:wt.visuallyHidden,value:"",id:`${I}-empty`,type:"radio",name:I,checked:O==null,onFocus:()=>_t(!0),onBlur:()=>_t(!1),onChange:ye}),V.jsx("span",{className:wt.visuallyHidden,children:f})]})]})});var eg={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var Cj=eg.exports,ZI;function xj(){return ZI||(ZI=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(Cj,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,T;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&f.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,R=0,x="",B=1e12,L=1e9,U=1e6,H=1e3,j="",$=!1,M,C,I,b,P,O,k;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(P=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(x=" "),g=g.replace(new RegExp(x+"a[kmbt]?"),""),C>=B&&!M||M==="t"?(x+=v.abbreviations.trillion,f=f/B):C<B&&C>=L&&!M||M==="b"?(x+=v.abbreviations.billion,f=f/L):C<L&&C>=U&&!M||M==="m"?(x+=v.abbreviations.million,f=f/U):(C<U&&C>=H&&!M||M==="k")&&(x+=v.abbreviations.thousand,f=f/H)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),I=f.toString().split(".")[0],b=g.split(".")[1],O=g.indexOf(","),R=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,b?(e._.includes(b,"[")?(b=b.replace("]",""),b=b.split("["),j=e._.toFixed(f,b[0].length+b[1].length,_,b[1].length)):j=e._.toFixed(f,b.length,_),I=j.split(".")[0],e._.includes(j,".")?j=v.delimiters.decimal+j.split(".")[1]:j="",w&&Number(j.slice(1))===0&&(j="")):I=e._.toFixed(f,0,_),x&&!M&&Number(I)>=1e3&&x!==v.abbreviations.trillion)switch(I=String(Number(I)/1e3),x){case v.abbreviations.thousand:x=v.abbreviations.million;break;case v.abbreviations.million:x=v.abbreviations.billion;break;case v.abbreviations.billion:x=v.abbreviations.trillion;break}if(e._.includes(I,"-")&&(I=I.slice(1),$=!0),I.length<R)for(var te=R-I.length;te>0;te--)I="0"+I;return O>-1&&(I=I.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(I=""),k=I+j+(x||""),T?k=(T&&$?"(":"")+k+(T&&$?")":""):P>=0?k=P===0?($?"-":"+")+k:k+($?"-":"+"):$&&(k="-"+k),k},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},T,w,R;if(h.zeroFormat&&f===h.zeroFormat)w=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(R=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(R)){w*=Math.pow(10,v[T]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var T=f.toString().split("."),w=g-(v||0),R,x,B,L;return T.length===2?R=Math.min(Math.max(T[1].length,w),g):R=w,B=Math.pow(10,R),L=(_(f+"e+"+R)/B).toFixed(R),v>g-R&&(x=new RegExp("\\.?0{1,"+(v-(g-R))+"}$"),L=L.replace(x,"")),L}},e.options=h,e.formats=i,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,T,w,R,x,B,L;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{B=e.localeData(g)}catch{B=e.localeData(e.locale())}return T=B.currency.symbol,R=B.abbreviations,_=B.delimiters.decimal,B.delimiters.thousands==="."?v="\\.":v=B.delimiters.thousands,L=f.match(/^[^\d]+/),L!==null&&(f=f.substr(1),L[0]!==T)||(L=f.match(/[^\d]+$/),L!==null&&(f=f.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(x=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,T,w,R;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,w=R(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,R){return v+Math.round(g*T)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,R){return v-Math.round(g*T)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,T,w){var R=t.correctionFactor(_,v);return Math.round(_*R)*Math.round(v*R)/Math.round(R*R)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,T,w){var R=t.correctionFactor(_,v);return Math.round(_*R)/Math.round(v*R)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",T;return f=f*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,R){var x,B=e._.includes(w,"ib")?g:f,L=e._.includes(w," b")||e._.includes(w," ib")?" ":"",U,H,j;for(w=w.replace(/\s?i?b/,""),U=0;U<=B.suffixes.length;U++)if(H=Math.pow(B.base,U),j=Math.pow(B.base,U+1),T===null||T===0||T>=H&&T<j){L+=B.suffixes[U],H>0&&(T=T/H);break}return x=e._.numberToFormat(T,w,R),x+L},unformat:function(T){var w=e._.stringToNumber(T),R,x;if(w){for(R=f.suffixes.length-1;R>=0;R--){if(e._.includes(T,f.suffixes[R])){x=Math.pow(f.base,R);break}if(e._.includes(T,g.suffixes[R])){x=Math.pow(g.base,R);break}}w*=x||1}return w}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,R,x;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),x=0;x<T.before.length;x++)switch(R=T.before[x],R){case"$":w=e._.insert(w,v.currency.symbol,x);break;case" ":w=e._.insert(w," ",x+v.currency.symbol.length-1);break}for(x=T.after.length-1;x>=0;x--)switch(R=T.after[x],R){case"$":w=x===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+x)));break;case" ":w=x===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+x)+v.currency.symbol.length-1));break}return w}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function T(w,R,x,B){var L=e._.correctionFactor(w,R),U=w*L*(R*L)/(L*L);return U}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),T=e._.numberToFormat(f,g,_),T+w}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),T=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(eg)),eg.exports}var Pj=xj();const Oj=yb(Pj),Fb=({amount:n})=>{const e=Oj(n).format("$0,0.00");return V.jsx("div",{children:e})},kj="_card_container_7jfhz_1",Dj="_button_7jfhz_19",Nj="_rating_7jfhz_87",Mj="_product_container_7jfhz_99",Vj="_product_flexed_7jfhz_125",Ka={card_container:kj,button:Dj,rating:Nj,product_container:Mj,product_flexed:Vj},Wi={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},Lj={basket:[],user:null},Uj=(n,e)=>{switch(e.type){case Wi.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Wi.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Wi.EMPTY_BASKET:return{...n,basket:[]};case Wi.SET_USER:return{...n,user:e.user};default:return n}},Zs=X.createContext(),Bj=({children:n,reducer:e,initialState:t})=>V.jsx(Zs.Provider,{value:X.useReducer(e,t),children:n});function jc({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:o,id:u,rating:h,price:d,description:f}=n,[g,_]=X.useContext(Zs);console.log(g);const v=()=>{_({type:Wi.ADD_TO_BASKET,item:{image:i,title:o,id:u,rating:h,price:d,description:f}})};return V.jsxs("div",{className:`${Ka.card_container} ${e?Ka.product_flexed:""}`,children:[V.jsx(yi,{to:`/products/${u}`,className:Ka.image_link,children:V.jsx("img",{src:i,alt:""})}),V.jsxs("div",{className:Ka.description,children:[V.jsxs("h3",{children:[" ",o]}),t&&V.jsxs("div",{style:{maxWidth:"750px"},children:[" ",f]}),V.jsxs("div",{className:`${Ka.rating}  `,children:[V.jsx(Ij,{value:(h==null?void 0:h.rate)||0,precision:.1}),V.jsxs("small",{className:" ",children:[" ",h==null?void 0:h.count," "]})]}),V.jsx("div",{className:" ",children:V.jsx(Fb,{amount:d})}),r&&V.jsx("button",{className:`${Ka.button}`,onClick:v,children:" add to cart "})]})]})}var Fj={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function rO(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return Fj[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function wg(n){var e=rO(n);return"".concat(e.value).concat(e.unit)}var jb=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},Tg=function(){return Tg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Tg.apply(this,arguments)},jj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},zj=jb("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function RE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=jj(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Tg({background:"transparent !important",width:wg(g),height:wg(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(zj," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?X.createElement("span",Tg({style:v},_)):null}var Sg=function(){return Sg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sg.apply(this,arguments)},qj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Hj=jb("RingLoader","0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)} 100% {transform: rotateX(180deg) rotateY(360deg) rotateZ(360deg)}","right"),$j=jb("RingLoader","0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)} 100% {transform: rotateX(360deg) rotateY(180deg) rotateZ(360deg)}","left");function Gj(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?60:f,_=qj(n,["loading","color","speedMultiplier","cssOverride","size"]),v=rO(g),T=v.value,w=v.unit,R=Sg({display:"inherit",width:wg(g),height:wg(g),position:"relative"},d),x=function(B){return{position:"absolute",top:"0",left:"0",width:"".concat(T).concat(w),height:"".concat(T).concat(w),border:"".concat(T/10).concat(w," solid ").concat(i),opacity:"0.4",borderRadius:"100%",animationFillMode:"forwards",perspective:"800px",animation:"".concat(B===1?Hj:$j," ").concat(2/u,"s 0s infinite linear")}};return t?X.createElement("span",Sg({style:R},_),X.createElement("span",{style:x(1)}),X.createElement("span",{style:x(2)})):null}const zb=()=>V.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:V.jsx(Gj,{color:"#3498db"})}),Kj="https://fakestoreapi.com/products";function Wj(){const[n,e]=X.useState([]),[t,r]=X.useState(!1);return X.useEffect(()=>{r(!0),Ct.get(Kj).then(i=>{r(!1),e(i.data)}).catch(i=>{console.log(i),r(!1)})},[]),V.jsx("div",{className:Ka.main_container,children:t?V.jsx(zb,{}):V.jsx("section",{className:`${Ka.product_container}`,children:n.map(i=>V.jsx(jc,{product:i,renderAdd:!0},i.id))})})}const Yj="_outer_wrapper_17598_1",Qj="_header_container_17598_13",Xj="_logo_container_17598_39",Zj="_delivery_17598_67",Jj="_search_17598_89",e3="_order_container_17598_175",t3="_language_17598_211",n3="_cart_17598_243",r3="_lower_header_17598_293",i3="_nav_list_17598_303",Ui={outer_wrapper:Yj,header_container:Qj,logo_container:Xj,delivery:Zj,search:Jj,order_container:e3,language:t3,cart:n3,lower_header:r3,nav_list:i3};var iO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JI=Ke.createContext&&Ke.createContext(iO),s3=["attr","size","title"];function a3(n,e){if(n==null)return{};var t=o3(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function o3(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Ag(){return Ag=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ag.apply(this,arguments)}function e1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Rg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(t),!0).forEach(function(r){l3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):e1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function l3(n,e,t){return e=u3(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u3(n){var e=c3(n,"string");return typeof e=="symbol"?e:e+""}function c3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sO(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,Rg({key:t},e.attr),sO(e.child)))}function Bl(n){return e=>Ke.createElement(h3,Ag({attr:Rg({},n.attr)},e),sO(n.child))}function h3(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=a3(n,s3),h=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",Ag({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Rg(Rg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return JI!==void 0?Ke.createElement(JI.Consumer,null,t=>e(t)):e(iO)}function d3(n){return Bl({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function f3(n){return Bl({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function p3(n){return Bl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function m3(n){return Bl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}const g3=()=>V.jsx("div",{className:Ui.lower_header,children:V.jsxs("ul",{className:Ui.nav_list,children:[V.jsxs("li",{children:[V.jsx(m3,{}),V.jsx("span",{children:"All"})]}),V.jsx("li",{children:"Today's Deals"}),V.jsx("li",{children:"Customer Service"}),V.jsx("li",{children:"Registry"}),V.jsx("li",{children:"Gift Cards"}),V.jsx("li",{children:"Sell"})]})});var t1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},y3=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},oO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,T=f&63;d||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):y3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||f==null||_==null)throw new _3;const v=o<<2|h>>4;if(r.push(v),f!==64){const T=h<<4&240|f>>2;if(r.push(T),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v3=function(n){const e=aO(n);return oO.encodeByteArray(e,!0)},Ig=function(n){return v3(n).replace(/\./g,"")},qb=function(n){try{return oO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!E3(t)||(n[t]=Cg(n[t],e[t]));return n}function E3(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=()=>lO().__FIREBASE_DEFAULTS__,w3=()=>{if(typeof process>"u"||typeof t1>"u")return;const n=t1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},T3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&qb(n[1]);return e&&JSON.parse(e)},Ry=()=>{try{return b3()||w3()||T3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},S3=n=>{var e,t;return(t=(e=Ry())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uO=()=>{var n;return(n=Ry())===null||n===void 0?void 0:n.config},cO=n=>{var e;return(e=Ry())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ig(JSON.stringify(t)),Ig(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function Hb(){var n;const e=(n=Ry())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I3(){return typeof window<"u"||dO()}function dO(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function C3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pO(){const n=Mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mO(){return!Hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uf(){try{return typeof indexedDB=="object"}catch{return!1}}function x3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="FirebaseError";class Wn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=P3,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?O3(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Wn(i,h,r)}}function O3(n,e){return n.replace(k3,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const k3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function D3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(r1(o)&&r1(u)){if(!hc(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function r1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Md(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gO(n,e){const t=new N3(n,e);return t.subscribe.bind(t)}class N3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");M3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=j0),i.error===void 0&&(i.error=j0),i.complete===void 0&&(i.complete=j0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function j0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n){return n&&n._delegate?n._delegate:n}class si{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new A3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U3(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L3(n){return n===al?void 0:n}function U3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const _O={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},B3=je.INFO,F3={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},j3=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=F3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=B3,this._logHandler=j3,this._userLogHandler=null,Gb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function z3(n){Gb.forEach(e=>{e.setLogLevel(n)})}function q3(n,e){for(const t of Gb){let r=null;e&&e.level&&(r=_O[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:je[o].toLowerCase(),message:h,args:u,type:i.name})}}}const H3=(n,e)=>e.some(t=>n instanceof t);let i1,s1;function $3(){return i1||(i1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G3(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vO=new WeakMap,IE=new WeakMap,EO=new WeakMap,z0=new WeakMap,Kb=new WeakMap;function K3(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Za(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&vO.set(t,n)}).catch(()=>{}),Kb.set(e,n),e}function W3(n){if(IE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});IE.set(n,e)}let CE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return IE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||EO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Za(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Y3(n){CE=n(CE)}function Q3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(q0(this),e,...t);return EO.set(r,e.sort?e.sort():[e]),Za(r)}:G3().includes(n)?function(...e){return n.apply(q0(this),e),Za(vO.get(this))}:function(...e){return Za(n.apply(q0(this),e))}}function X3(n){return typeof n=="function"?Q3(n):(n instanceof IDBTransaction&&W3(n),H3(n,$3())?new Proxy(n,CE):n)}function Za(n){if(n instanceof IDBRequest)return K3(n);if(z0.has(n))return z0.get(n);const e=X3(n);return e!==n&&(z0.set(n,e),Kb.set(e,n)),e}const q0=n=>Kb.get(n);function Z3(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Za(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Za(u.result),d.oldVersion,d.newVersion,Za(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const J3=["get","getKey","getAll","getAllKeys","count"],e6=["put","add","delete","clear"],H0=new Map;function a1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(H0.get(e))return H0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=e6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J3.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),i&&d.done]))[0]};return H0.set(e,o),o}Y3(n=>({...n,get:(e,t,r)=>a1(e,t)||n.get(e,t,r),has:(e,t)=>!!a1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function n6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xg="@firebase/app",xE="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Iy("@firebase/app"),r6="@firebase/app-compat",i6="@firebase/analytics-compat",s6="@firebase/analytics",a6="@firebase/app-check-compat",o6="@firebase/app-check",l6="@firebase/auth",u6="@firebase/auth-compat",c6="@firebase/database",h6="@firebase/data-connect",d6="@firebase/database-compat",f6="@firebase/functions",p6="@firebase/functions-compat",m6="@firebase/installations",g6="@firebase/installations-compat",y6="@firebase/messaging",_6="@firebase/messaging-compat",v6="@firebase/performance",E6="@firebase/performance-compat",b6="@firebase/remote-config",w6="@firebase/remote-config-compat",T6="@firebase/storage",S6="@firebase/storage-compat",A6="@firebase/firestore",R6="@firebase/vertexai",I6="@firebase/firestore-compat",C6="firebase",x6="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]",P6={[xg]:"fire-core",[r6]:"fire-core-compat",[s6]:"fire-analytics",[i6]:"fire-analytics-compat",[o6]:"fire-app-check",[a6]:"fire-app-check-compat",[l6]:"fire-auth",[u6]:"fire-auth-compat",[c6]:"fire-rtdb",[h6]:"fire-data-connect",[d6]:"fire-rtdb-compat",[f6]:"fire-fn",[p6]:"fire-fn-compat",[m6]:"fire-iid",[g6]:"fire-iid-compat",[y6]:"fire-fcm",[_6]:"fire-fcm-compat",[v6]:"fire-perf",[E6]:"fire-perf-compat",[b6]:"fire-rc",[w6]:"fire-rc-compat",[T6]:"fire-gcs",[S6]:"fire-gcs-compat",[A6]:"fire-fst",[I6]:"fire-fst-compat",[R6]:"fire-vertex","fire-js":"fire-js",[C6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Map,dc=new Map,fc=new Map;function cf(n,e){try{n.container.addComponent(e)}catch(t){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bO(n,e){n.container.addOrOverwriteComponent(e)}function Gs(n){const e=n.name;if(fc.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;fc.set(e,n);for(const t of ao.values())cf(t,n);for(const t of dc.values())cf(t,n);return!0}function Cy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function O6(n,e,t=so){Cy(n,e).clearInstance(t)}function wO(n){return n.options!==void 0}function Et(n){return n==null?!1:n.settings!==void 0}function k6(){fc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new Fl("app","Firebase",D6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TO=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n,e){const t=qb(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class N6 extends TO{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&o1(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&o1(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Vr(xg,xE,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Yb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ii.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=x6;function Wb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:so,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(t||(t=uO()),!t)throw ii.create("no-options");const o=ao.get(i);if(o){if(hc(t,o.options)&&hc(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}const u=new yO(i);for(const d of fc.values())u.addComponent(d);const h=new TO(t,r,u);return ao.set(i,h),h}function M6(n,e){if(I3()&&!dO())throw ii.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;wO(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ii.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=dc.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new yO(o);for(const f of fc.values())h.addComponent(f);const d=new N6(t,e,o,h);return dc.set(o,d),d}function SO(n=so){const e=ao.get(n);if(!e&&n===so&&uO())return Wb();if(!e)throw ii.create("no-app",{appName:n});return e}function V6(){return Array.from(ao.values())}async function Yb(n){let e=!1;const t=n.name;ao.has(t)?(e=!0,ao.delete(t)):dc.has(t)&&n.decRefCount()<=0&&(dc.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Vr(n,e,t){var r;let i=(r=P6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(h.join(" "));return}Gs(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function AO(n,e){if(n!==null&&typeof n!="function")throw ii.create("invalid-log-argument");q3(n,e)}function RO(n){z3(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="firebase-heartbeat-database",U6=1,hf="firebase-heartbeat-store";let $0=null;function IO(){return $0||($0=Z3(L6,U6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hf)}catch(t){console.warn(t)}}}}).catch(n=>{throw ii.create("idb-open",{originalErrorMessage:n.message})})),$0}async function B6(n){try{const t=(await IO()).transaction(hf),r=await t.objectStore(hf).get(CO(n));return await t.done,r}catch(e){if(e instanceof Wn)$s.warn(e.message);else{const t=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(t.message)}}}async function l1(n,e){try{const r=(await IO()).transaction(hf,"readwrite");await r.objectStore(hf).put(e,CO(n)),await r.done}catch(t){if(t instanceof Wn)$s.warn(t.message);else{const r=ii.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$s.warn(r.message)}}}function CO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=1024,j6=30;class z6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=u1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>j6){const u=$6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u1(),{heartbeatsToSend:r,unsentEntries:i}=q6(this._heartbeatsCache.heartbeats),o=Ig(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $s.warn(t),""}}}function u1(){return new Date().toISOString().substring(0,10)}function q6(n,e=F6){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),c1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),c1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class H6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uf()?x3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await B6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return l1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return l1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function c1(n){return Ig(JSON.stringify({version:2,heartbeats:n})).length}function $6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n){Gs(new si("platform-logger",e=>new t6(e),"PRIVATE")),Gs(new si("heartbeat",e=>new z6(e),"PRIVATE")),Vr(xg,xE,n),Vr(xg,xE,"esm2017"),Vr("fire-js","")}G6("");const K6=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Wn,SDK_VERSION:Js,_DEFAULT_ENTRY_NAME:so,_addComponent:cf,_addOrOverwriteComponent:bO,_apps:ao,_clearComponents:k6,_components:fc,_getProvider:Cy,_isFirebaseApp:wO,_isFirebaseServerApp:Et,_registerComponent:Gs,_removeServiceInstance:O6,_serverApps:dc,deleteApp:Yb,getApp:SO,getApps:V6,initializeApp:Wb,initializeServerApp:M6,onLog:AO,registerVersion:Vr,setLogLevel:RO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,t){this._delegate=e,this.firebase=t,cf(e,new si("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Yb(this._delegate)))}_getService(e,t=so){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=so){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){cf(this._delegate,e)}_addOrOverwriteComponent(e){bO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},h1=new Fl("app-compat","Firebase",Y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:Vr,setLogLevel:RO,onLog:AO,apps:null,SDK_VERSION:Js,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:K6}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function i(f){if(f=f||so,!n1(e,f))throw h1.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,g={}){const _=Wb(f,g);if(n1(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(Gs(f)&&f.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw h1.create("invalid-app-argument",{appName:g});return T[_]()};f.serviceProps!==void 0&&Cg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(){const n=Q6(W6);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:xO,extendNamespace:e,createSubscribe:gO,ErrorFactory:Fl,deepExtend:Cg});function e(t){Cg(n,t)}return n}const X6=xO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Iy("@firebase/app-compat"),Z6="@firebase/app-compat",J6="0.2.50";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(n){Vr(Z6,J6,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=lO();if(n.firebase!==void 0){d1.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&d1.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const jl=X6;ez();var tz="firebase",nz="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jl.registerVersion(tz,nz,"app-compat");function Qb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const bd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Fu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function PO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iz=rz,sz=PO,OO=new Fl("auth","Firebase",PO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=new Iy("@firebase/auth");function az(n,...e){Pg.logLevel<=je.WARN&&Pg.warn(`Auth (${Js}): ${n}`,...e)}function tg(n,...e){Pg.logLevel<=je.ERROR&&Pg.error(`Auth (${Js}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n,...e){throw Zb(n,...e)}function gn(n,...e){return Zb(n,...e)}function Xb(n,e,t){const r=Object.assign(Object.assign({},sz()),{[e]:t});return new Fl("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return Xb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(n,"argument-error"),Xb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OO.create(n,...e)}function me(n,e,...t){if(!n)throw Zb(e,...t)}function Yi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw tg(e),new Error(e)}function _i(n,e){n||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Jb(){return f1()==="http:"||f1()==="https:"}function f1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jb()||fO()||"connection"in navigator)?navigator.onLine:!0}function lz(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.shortDelay=e,this.longDelay=t,_i(t>e,"Short delay should be less than long delay!"),this.isMobile=R3()||$b()}get(){return oz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n,e){_i(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new Uf(3e4,6e4);function $t(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gt(n,e,t,r,i={}){return DO(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=zc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return C3()||(f.referrerPolicy="no-referrer"),kO.fetch()(NO(n,n.config.apiHost,t,h),f)})}async function DO(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},uz),e);try{const i=new dz(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Vd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Vd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Vd(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Xb(n,g,f);Cn(n,g)}}catch(i){if(i instanceof Wn)throw i;Cn(n,"network-request-failed",{message:String(i)})}}async function ea(n,e,t,r,i={}){const o=await Gt(n,e,t,r,i);return"mfaPendingCredential"in o&&Cn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function NO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ew(n.config,i):`${n.config.apiScheme}://${i}`}function hz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gn(this.auth,"network-request-failed")),cz.get())})}}function Vd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=gn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n){return n!==void 0&&n.getResponse!==void 0}function m1(n){return n!==void 0&&n.enterprise!==void 0}class MO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(n){return(await Gt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function VO(n,e){return Gt(n,"GET","/v2/recaptchaConfig",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(n,e){return Gt(n,"POST","/v1/accounts:delete",e)}async function mz(n,e){return Gt(n,"POST","/v1/accounts:update",e)}async function LO(n,e){return Gt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gz(n,e=!1){const t=Re(n),r=await t.getIdToken(e),i=xy(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Hd(G0(i.auth_time)),issuedAtTime:Hd(G0(i.iat)),expirationTime:Hd(G0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function G0(n){return Number(n)*1e3}function xy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return tg("JWT malformed, contained fewer than 3 sections"),null;try{const i=qb(t);return i?JSON.parse(i):(tg("Failed to decode base64 JWT payload"),null)}catch(i){return tg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g1(n){const e=xy(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Wn&&yz(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function yz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hd(this.lastLoginAt),this.creationTime=Hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ks(n,LO(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UO(o.providerUserInfo):[],h=Ez(n.providerData,u),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new PE(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function vz(n){const e=Re(n);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ez(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UO(n){return n.map(e=>{var{providerId:t}=e,r=Qb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(n,e){const t=await DO(n,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=NO(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",kO.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wz(n,e){return Gt(n,"POST","/v2/accounts:revokeToken",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=g1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await bz(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new nc;return r&&(me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Qb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new PE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ks(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gz(this,e)}reload(){return vz(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Et(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Ks(this,pz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,d,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,R=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,B=(f=t.createdAt)!==null&&f!==void 0?f:void 0,L=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:H,isAnonymous:j,providerData:$,stsTokenManager:M}=t;me(U&&M,e,"internal-error");const C=nc.fromJSON(this.name,M);me(typeof U=="string",e,"internal-error"),za(_,e.name),za(v,e.name),me(typeof H=="boolean",e,"internal-error"),me(typeof j=="boolean",e,"internal-error"),za(T,e.name),za(w,e.name),za(R,e.name),za(x,e.name),za(B,e.name),za(L,e.name);const I=new Ls({uid:U,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:j,photoURL:w,phoneNumber:T,tenantId:R,stsTokenManager:C,createdAt:B,lastLoginAt:L});return $&&Array.isArray($)&&(I.providerData=$.map(b=>Object.assign({},b))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new nc;i.updateFromServerResponse(t);const o=new Ls({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ff(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?UO(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new nc;h.updateFromIdToken(r);const d=new Ls({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new PE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;function kr(n){_i(n instanceof Function,"Expected a class definition");let e=y1.get(n);return e?(_i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,y1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BO.type="NONE";const pc=BO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n,e,t){return`firebase:${n}:${e}:${t}`}class rc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=El(this.userKey,i.apiKey,o),this.fullPersistenceKey=El("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rc(kr(pc),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||kr(pc);const u=El(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){const _=Ls._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new rc(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new rc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HO(e))return"Blackberry";if($O(e))return"Webos";if(jO(e))return"Safari";if((e.includes("chrome/")||zO(e))&&!e.includes("edge/"))return"Chrome";if(Bf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FO(n=Mt()){return/firefox\//i.test(n)}function jO(n=Mt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zO(n=Mt()){return/crios\//i.test(n)}function qO(n=Mt()){return/iemobile/i.test(n)}function Bf(n=Mt()){return/android/i.test(n)}function HO(n=Mt()){return/blackberry/i.test(n)}function $O(n=Mt()){return/webos/i.test(n)}function Ff(n=Mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Tz(n=Mt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Sz(n=Mt()){var e;return Ff(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Az(){return pO()&&document.documentMode===10}function GO(n=Mt()){return Ff(n)||Bf(n)||$O(n)||HO(n)||/windows phone/i.test(n)||qO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(n,e=[]){let t;switch(n){case"Browser":t=_1(Mt());break;case"Worker":t=`${_1(Mt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(n,e={}){return Gt(n,"GET","/v2/passwordPolicy",$t(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=6;class xz{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Cz,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v1(this),this.idTokenSubscription=new v1(this),this.beforeStateQueue=new Rz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await LO(this,{idToken:e}),r=await Ls._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Et(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Et(this.app))return Promise.reject(In(this));const t=e?Re(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Et(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Et(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Iz(this),t=new xz(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await wz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&az(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vt(n){return Re(n)}class v1{constructor(e){this.auth=e,this.observer=null,this.addObserver=gO(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oz(n){jf=n}function tw(n){return jf.loadJS(n)}function kz(){return jf.recaptchaV2Script}function Dz(){return jf.recaptchaEnterpriseScript}function Nz(){return jf.gapiScript}function WO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=500,Vz=6e4,km=1e12;class Lz{constructor(e){this.auth=e,this.counter=km,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Fz(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||km;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||km;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||km;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class Uz{constructor(){this.enterprise=new Bz}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Bz{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Fz{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=jz(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Vz)},Mz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function jz(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const zz="recaptcha-enterprise",$d="NO_RECAPTCHA";class YO{constructor(e){this.type=zz,this.auth=Vt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{VO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new MO(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function i(o,u,h){const d=window.grecaptcha;m1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u($d)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uz().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&m1(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Dz();d.length!==0&&(d+=h),tw(d).then(()=>{i(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function wd(n,e,t,r=!1,i=!1){const o=new YO(n);let u;if(i)u=$d;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ja(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await wd(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await wd(n,e,t);return r(n,h).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await wd(n,e,t,!1,!0);return r(n,g)}return Promise.reject(d)})}else{const h=await wd(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function qz(n){const e=Vt(n),t=await VO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new MO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new YO(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(n,e){const t=Cy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(hc(o,e??{}))return i;Cn(i,"already-initialized")}return t.initialize({options:e})}function $z(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QO(n,e,t){const r=Vt(n);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=XO(e),{host:u,port:h}=Gz(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Kz()}function XO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Gz(n){const e=XO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:E1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:E1(u)}}}function E1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Kz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,t){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(n,e){return Gt(n,"POST","/v1/accounts:resetPassword",$t(n,e))}async function Wz(n,e){return Gt(n,"POST","/v1/accounts:update",e)}async function Yz(n,e){return Gt(n,"POST","/v1/accounts:signUp",e)}async function Qz(n,e){return Gt(n,"POST","/v1/accounts:update",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(n,e){return ea(n,"POST","/v1/accounts:signInWithPassword",$t(n,e))}async function Py(n,e){return Gt(n,"POST","/v1/accounts:sendOobCode",$t(n,e))}async function Zz(n,e){return Py(n,e)}async function Jz(n,e){return Py(n,e)}async function e9(n,e){return Py(n,e)}async function t9(n,e){return Py(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(n,e){return ea(n,"POST","/v1/accounts:signInWithEmailLink",$t(n,e))}async function r9(n,e){return ea(n,"POST","/v1/accounts:signInWithEmailLink",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends Hc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new pf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new pf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ja(e,t,"signInWithPassword",Xz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return n9(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ja(e,r,"signUpPassword",Yz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return r9(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(n,e){return ea(n,"POST","/v1/accounts:signInWithIdp",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9="http://localhost";class ns extends Hc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Qb(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new ns(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return js(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,js(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,js(e,t)}buildRequest(){const e={requestUri:i9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(n,e){return Gt(n,"POST","/v1/accounts:sendVerificationCode",$t(n,e))}async function s9(n,e){return ea(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,e))}async function a9(n,e){const t=await ea(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,e));if(t.temporaryProof)throw Vd(n,"account-exists-with-different-credential",t);return t}const o9={USER_NOT_FOUND:"user-not-found"};async function l9(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ea(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,t),o9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Hc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new bl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new bl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return s9(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return a9(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return l9(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new bl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c9(n){const e=Ju(Md(n)).link,t=e?Ju(Md(e)).deep_link_id:null,r=Ju(Md(n)).deep_link_id;return(r?Ju(Md(r)).link:null)||r||t||e||n}class Oy{constructor(e){var t,r,i,o,u,h;const d=Ju(Md(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=u9((i=d.mode)!==null&&i!==void 0?i:null);me(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=c9(e);try{return new Oy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,t){return pf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Oy.parseLink(t);return me(r,"argument-error"),pf._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends ta{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ic extends $c{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),ns._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ic.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ic.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new ic(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends $c{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ns._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Hi.credential(t,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends $c{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="http://localhost";class mc extends Hc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return js(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,js(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,js(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new mc(r,o)}static _create(e,t){return new mc(e,t)}buildRequest(){return{requestUri:h9,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="saml.";class Og extends ta{constructor(e){me(e.startsWith(d9),"argument-error"),super(e)}static credentialFromResult(e){return Og.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Og.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mc.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return mc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends $c{constructor(){super("twitter.com")}static credential(e,t){return ns._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Gi.credential(t,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(n,e){return ea(n,"POST","/v1/accounts:signUp",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ls._fromIdTokenResponse(e,r,i),u=w1(r);return new ai({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=w1(r);return new ai({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function w1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(n){var e;if(Et(n.app))return Promise.reject(In(n));const t=Vt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ai({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await JO(t,{returnSecureToken:!0}),i=await ai._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new kg(e,t,r,i)}}function ek(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(n,e){const t=Re(n);await ky(!0,t,e);const{providerUserInfo:r}=await mz(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=tk(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function nw(n,e,t=!1){const r=await Ks(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ai._forOperation(n,"link",r)}async function ky(n,e,t){await ff(e);const r=tk(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n,e,t=!1){const{auth:r}=n;if(Et(r.app))return Promise.reject(In(r));const i="reauthenticate";try{const o=await Ks(n,ek(r,i,e,n),t);me(o.idToken,r,"internal-error");const u=xy(o.idToken);me(u,r,"internal-error");const{sub:h}=u;return me(n.uid===h,r,"user-mismatch"),ai._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(n,e,t=!1){if(Et(n.app))return Promise.reject(In(n));const r="signIn",i=await ek(n,r,e),o=await ai._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Dy(n,e){return rk(Vt(n),e)}async function ik(n,e){const t=Re(n);return await ky(!1,t,e.providerId),nw(t,e)}async function sk(n,e){return nk(Re(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(n,e){return ea(n,"POST","/v1/accounts:signInWithCustomToken",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(n,e){if(Et(n.app))return Promise.reject(In(n));const t=Vt(n),r=await m9(t,{token:e,returnSecureToken:!0}),i=await ai._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?rw._fromServerResponse(e,t):"totpInfo"in t?iw._fromServerResponse(e,t):Cn(e,"internal-error")}}class rw extends zf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new rw(t)}}class iw extends zf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new iw(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(n){const e=Vt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y9(n,e,t){const r=Vt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Ny(r,i,t),await Ja(r,i,"getOobCode",Jz,"EMAIL_PASSWORD_PROVIDER")}async function _9(n,e,t){await ZO(Re(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sw(n),r})}async function v9(n,e){await Qz(Re(n),{oobCode:e})}async function ak(n,e){const t=Re(n),r=await ZO(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=zf._fromServerResponse(Vt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function E9(n,e){const{data:t}=await ak(Re(n),e);return t.email}async function ok(n,e,t){if(Et(n.app))return Promise.reject(In(n));const r=Vt(n),u=await Ja(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JO,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&sw(n),d}),h=await ai._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function lk(n,e,t){return Et(n.app)?Promise.reject(In(n)):Dy(Re(n),Eo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(n,e,t){const r=Vt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){me(h.handleCodeInApp,r,"argument-error"),h&&Ny(r,u,h)}o(i,t),await Ja(r,i,"getOobCode",e9,"EMAIL_PASSWORD_PROVIDER")}function w9(n,e){const t=Oy.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function T9(n,e,t){if(Et(n.app))return Promise.reject(In(n));const r=Re(n),i=Eo.credentialWithLink(e,t||df());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Dy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(n,e){return Gt(n,"POST","/v1/accounts:createAuthUri",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(n,e){const t=Jb()?df():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await S9(Re(n),r);return i||[]}async function R9(n,e){const t=Re(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Ny(t.auth,i,e);const{email:o}=await Zz(t.auth,i);o!==n.email&&await n.reload()}async function I9(n,e,t){const r=Re(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Ny(r.auth,o,t);const{email:u}=await t9(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(n,e){return Gt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Re(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ks(r,C9(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function P9(n,e){const t=Re(n);return Et(t.auth.app)?Promise.reject(In(t.auth)):uk(t,e,null)}function O9(n,e){return uk(Re(n),null,e)}async function uk(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Ks(n,Wz(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=xy(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new sc(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new D9(o,i);case"github.com":return new N9(o,i);case"google.com":return new M9(o,i);case"twitter.com":return new V9(o,i,n.screenName||null);case"custom":case"anonymous":return new sc(o,null);default:return new sc(o,r,i)}}class sc{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class ck extends sc{constructor(e,t,r,i){super(e,t,r),this.username=i}}class D9 extends sc{constructor(e,t){super(e,"facebook.com",t)}}class N9 extends ck{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class M9 extends sc{constructor(e,t){super(e,"google.com",t)}}class V9 extends ck{constructor(e,t,r){super(e,"twitter.com",t,r)}}function L9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:k9(t)}function U9(n,e,t,r){return Re(n).onIdTokenChanged(e,t,r)}function B9(n,e,t){return Re(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new ml("enroll",e,t)}static _fromMfaPendingCredential(e){return new ml("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return ml._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ml._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Vt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>zf._fromServerResponse(r,h));me(i.mfaPendingCredential,r,"internal-error");const u=ml._fromMfaPendingCredential(i.mfaPendingCredential);return new aw(u,o,async h=>{const d=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await ai._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return me(t.user,r,"internal-error"),ai._forOperation(t.user,t.operationType,f);default:Cn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function F9(n,e){var t;const r=Re(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),aw._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n,e){return Gt(n,"POST","/v2/accounts/mfaEnrollment:start",$t(n,e))}function j9(n,e){return Gt(n,"POST","/v2/accounts/mfaEnrollment:finalize",$t(n,e))}function z9(n,e){return Gt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(n,e))}class ow{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>zf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ow(e)}async getSession(){return ml._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Ks(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ks(this.user,z9(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const K0=new WeakMap;function q9(n){const e=Re(n);return K0.has(e)||K0.set(e,ow._fromUser(e)),K0.get(e)}const Dg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dg,"1"),this.storage.removeItem(Dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=1e3,$9=10;class dk extends hk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);Az()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},H9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dk.type="LOCAL";const My=dk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends hk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fk.type="SESSION";const oo=fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Vy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await G9(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=qf("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function W9(n){an().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function Y9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function X9(){return lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebaseLocalStorageDb",Z9=1,Ng="firebaseLocalStorage",mk="fbase_key";class Hf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ly(n,e){return n.transaction([Ng],e?"readwrite":"readonly").objectStore(Ng)}function J9(){const n=indexedDB.deleteDatabase(pk);return new Hf(n).toPromise()}function OE(){const n=indexedDB.open(pk,Z9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ng,{keyPath:mk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ng)?e(r):(r.close(),await J9(),e(await OE()))})})}async function S1(n,e,t){const r=Ly(n,!0).put({[mk]:e,value:t});return new Hf(r).toPromise()}async function eq(n,e){const t=Ly(n,!1).get(e),r=await new Hf(t).toPromise();return r===void 0?null:r.value}function A1(n,e){const t=Ly(n,!0).delete(e);return new Hf(t).toPromise()}const tq=800,nq=3;class gk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>nq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vy._getInstance(X9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Y9(),!this.activeServiceWorker)return;this.sender=new K9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OE();return await S1(e,Dg,"1"),await A1(e,Dg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>S1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>eq(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>A1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ly(i,!1).getAll();return new Hf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gk.type="LOCAL";const gc=gk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(n,e){return Gt(n,"POST","/v2/accounts/mfaSignIn:start",$t(n,e))}function rq(n,e){return Gt(n,"POST","/v2/accounts/mfaSignIn:finalize",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=WO("rcb"),iq=new Uf(3e4,6e4);class sq{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=an().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(aq(t),e,"argument-error"),this.shouldResolveImmediately(t)&&p1(an().grecaptcha)?Promise.resolve(an().grecaptcha):new Promise((r,i)=>{const o=an().setTimeout(()=>{i(gn(e,"network-request-failed"))},iq.get());an()[W0]=()=>{an().clearTimeout(o),delete an()[W0];const h=an().grecaptcha;if(!h||!p1(h)){i(gn(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${kz()}?${zc({onload:W0,render:"explicit",hl:t})}`;tw(u).catch(()=>{clearTimeout(o),i(gn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=an().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function aq(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class oq{async load(e){return new Lz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="recaptcha",lq={theme:"light",type:"image"};let uq=class{constructor(e,t,r=Object.assign({},lq)){this.parameters=r,this.type=Gd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oq:new sq,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=an()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(Jb()&&!lw(),this.auth,"internal-error"),await cq(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await fz(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function cq(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=bl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function hq(n,e,t){if(Et(n.app))return Promise.reject(In(n));const r=Vt(n),i=await Uy(r,e,Re(t));return new uw(i,o=>Dy(r,o))}async function dq(n,e,t){const r=Re(n);await ky(!1,r,"phone");const i=await Uy(r.auth,e,Re(t));return new uw(i,o=>ik(r,o))}async function fq(n,e,t){const r=Re(n);if(Et(r.auth.app))return Promise.reject(In(r.auth));const i=await Uy(r.auth,e,Re(t));return new uw(i,o=>sk(r,o))}async function Uy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await qz(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ja(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===$d){me((t==null?void 0:t.type)===Gd,g,"argument-error");const v=await Y0(g,_,t);return T1(g,v)}return T1(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ja(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===$d){me((t==null?void 0:t.type)===Gd,_,"argument-error");const T=await Y0(_,v,t);return R1(_,T)}return R1(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ja(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===$d){me((t==null?void 0:t.type)===Gd,f,"argument-error");const _=await Y0(f,g,t);return b1(f,_)}return b1(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function pq(n,e){const t=Re(n);if(Et(t.auth.app))return Promise.reject(In(t.auth));await nw(t,e)}async function Y0(n,e,t){me(t.type===Gd,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il=class ng{constructor(e){this.providerId=ng.PROVIDER_ID,this.auth=Vt(e)}verifyPhoneNumber(e,t){return Uy(this.auth,e,Re(t))}static credential(e,t){return bl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ng.credentialFromTaggedObject(t)}static credentialFromError(e){return ng.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?bl._fromTokenResponse(t,r):null}};Il.PROVIDER_ID="phone";Il.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n,e){return e?kr(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends Hc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,t){return js(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mq(n){return rk(n.auth,new cw(n),n.bypassAuthState)}function gq(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),nk(t,new cw(n),n.bypassAuthState)}async function yq(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),nw(t,new cw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mq;case"linkViaPopup":case"linkViaRedirect":return yq;case"reauthViaPopup":case"reauthViaRedirect":return gq;default:Cn(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=new Uf(2e3,1e4);async function vq(n,e,t){if(Et(n.app))return Promise.reject(gn(n,"operation-not-supported-in-this-environment"));const r=Vt(n);qc(n,e,ta);const i=zl(r,t);return new Us(r,"signInViaPopup",e,i).executeNotNull()}async function Eq(n,e,t){const r=Re(n);if(Et(r.auth.app))return Promise.reject(gn(r.auth,"operation-not-supported-in-this-environment"));qc(r.auth,e,ta);const i=zl(r.auth,t);return new Us(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function bq(n,e,t){const r=Re(n);qc(r.auth,e,ta);const i=zl(r.auth,t);return new Us(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Us extends yk{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=qf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_q.get())};e()}}Us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="pendingRedirect",Kd=new Map;class Tq extends yk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await Sq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sq(n,e){const t=vk(e),r=_k(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function hw(n,e){return _k(n)._set(vk(e),"true")}function Aq(){Kd.clear()}function dw(n,e){Kd.set(n._key(),e)}function _k(n){return kr(n._redirectPersistence)}function vk(n){return El(wq,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(n,e,t){return Iq(n,e,t)}async function Iq(n,e,t){if(Et(n.app))return Promise.reject(In(n));const r=Vt(n);qc(n,e,ta),await r._initializationPromise;const i=zl(r,t);return await hw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Cq(n,e,t){return xq(n,e,t)}async function xq(n,e,t){const r=Re(n);if(qc(r.auth,e,ta),Et(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const i=zl(r.auth,t);await hw(i,r.auth);const o=await Ek(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Pq(n,e,t){return Oq(n,e,t)}async function Oq(n,e,t){const r=Re(n);qc(r.auth,e,ta),await r.auth._initializationPromise;const i=zl(r.auth,t);await ky(!1,r,e.providerId),await hw(i,r.auth);const o=await Ek(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function kq(n,e){return await Vt(n)._initializationPromise,By(n,e,!1)}async function By(n,e,t=!1){if(Et(n.app))return Promise.reject(In(n));const r=Vt(n),i=zl(r,e),u=await new Tq(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function Ek(n){const e=qf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=10*60*1e3;class bk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(gn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dq&&this.cachedEventUids.clear(),this.cachedEventUids.has(I1(e))}saveEventToCache(e){this.cachedEventUids.add(I1(e)),this.lastProcessedEventTime=Date.now()}}function I1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(n,e={}){return Gt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vq=/^https?/;async function Lq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Tk(n);for(const t of e)try{if(Uq(t))return}catch{}Cn(n,"unauthorized-domain")}function Uq(n){const e=df(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Vq.test(t))return!1;if(Mq.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=new Uf(3e4,6e4);function C1(){const n=an().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Fq(n){return new Promise((e,t)=>{var r,i,o;function u(){C1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C1(),t(gn(n,"network-request-failed"))},timeout:Bq.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=an().gapi)===null||o===void 0)&&o.load)u();else{const h=WO("iframefcb");return an()[h]=()=>{gapi.load?u():t(gn(n,"network-request-failed"))},tw(`${Nz()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw rg=null,e})}let rg=null;function jq(n){return rg=rg||Fq(n),rg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=new Uf(5e3,15e3),qq="__/auth/iframe",Hq="emulator/auth/iframe",$q={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kq(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ew(e,Hq):`https://${n.config.authDomain}/${qq}`,r={apiKey:e.apiKey,appName:n.name,v:Js},i=Gq.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${zc(r).slice(1)}`}async function Wq(n){const e=await jq(n),t=an().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:Kq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$q,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=gn(n,"network-request-failed"),h=an().setTimeout(()=>{o(u)},zq.get());function d(){an().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qq=500,Xq=600,Zq="_blank",Jq="http://localhost";class x1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eH(n,e,t,r=Qq,i=Xq){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},Yq),{width:r.toString(),height:i.toString(),top:o,left:u}),f=Mt().toLowerCase();t&&(h=zO(f)?Zq:t),FO(f)&&(e=e||Jq,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(Sz(f)&&h!=="_self")return tH(e||"",h),new x1(null);const _=window.open(e||"",h,g);me(_,n,"popup-blocked");try{_.focus()}catch{}return new x1(_)}function tH(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH="__/auth/handler",rH="emulator/auth/handler",iH=encodeURIComponent("fac");async function kE(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Js,eventId:i};if(e instanceof ta){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",D3(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof $c){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${iH}=${encodeURIComponent(d)}`:"";return`${sH(n)}?${zc(h).slice(1)}${f}`}function sH({config:n}){return n.emulator?ew(n,rH):`https://${n.authDomain}/${nH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="webStorageSupport";class aH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oo,this._completeRedirectFn=By,this._overrideRedirectResult=dw}async _openPopup(e,t,r,i){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await kE(e,t,r,df(),i);return eH(e,u,qf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await kE(e,t,r,df(),i);return W9(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Wq(e),r=new bk(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Q0,{type:Q0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Q0];u!==void 0&&t(!!u),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Lq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GO()||jO()||Ff()}}const Sk=aH;class oH{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yi("unexpected MultiFactorSessionType")}}}class fw extends oH{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new fw(e)}_finalizeEnroll(e,t,r){return j9(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return rq(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ak{constructor(){}static assertion(e){return fw._fromCredential(e)}}Ak.FACTOR_ID="phone";var P1="@firebase/auth",O1="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cH(n){Gs(new si("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KO(n)},f=new Pz(r,i,o,d);return $z(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gs(new si("auth-internal",e=>{const t=Vt(e.getProvider("auth").getImmediate());return(r=>new lH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(P1,O1,uH(n)),Vr(P1,O1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=5*60,dH=cO("authIdTokenMaxAge")||hH;let k1=null;const fH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>dH)return;const i=t==null?void 0:t.token;k1!==i&&(k1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pH(n=SO()){const e=Cy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Hz(n,{popupRedirectResolver:Sk,persistence:[gc,My,oo]}),r=cO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=fH(o.toString());B9(t,u,()=>u(t.currentUser)),U9(t,h=>u(h))}}const i=S3("auth");return i&&QO(t,`http://${i}`),t}function mH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Oz({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=gn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",mH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cH("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=2e3;async function yH(n,e,t){var r;const{BuildInfo:i}=Cl();_i(e.sessionId,"AuthEvent did not contain a session ID");const o=await wH(e.sessionId),u={};return Ff()?u.ibi=i.packageName:Bf()?u.apn=i.packageName:Cn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,kE(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function _H(n){const{BuildInfo:e}=Cl(),t={};Ff()?t.iosBundleId=e.packageName:Bf()?t.androidPackageName=e.packageName:Cn(n,"operation-not-supported-in-this-environment"),await Tk(n,t)}function vH(n){const{cordova:e}=Cl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,Tz()?"_blank":"_system","location=yes"),t(i)})})}async function EH(n,e,t){const{cordova:r}=Cl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(gn(n,"redirect-cancelled-by-user"))},gH))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Bf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function bH(n){var e,t,r,i,o,u,h,d,f,g;const _=Cl();me(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((d=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function wH(n){const e=TH(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function TH(n){if(_i(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=20;class AH extends bk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function RH(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:xH(),postBody:null,tenantId:n.tenantId,error:gn(n,"no-auth-event")}}function IH(n,e){return DE()._set(NE(n),e)}async function D1(n){const e=await DE()._get(NE(n));return e&&await DE()._remove(NE(n)),e}function CH(n,e){var t,r;const i=OH(e);if(i.includes("/__/auth/callback")){const o=ig(i),u=o.firebaseError?PH(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=h?gn(h):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function xH(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<SH;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function DE(){return kr(My)}function NE(n){return El("authEvent",n.config.apiKey,n.name)}function PH(n){try{return JSON.parse(n)}catch{return null}}function OH(n){const e=ig(n),t=e.link?decodeURIComponent(e.link):void 0,r=ig(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ig(i).link||i||r||t||n}function ig(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Ju(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=500;class DH{constructor(){this._redirectPersistence=oo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=By,this._overrideRedirectResult=dw}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new AH(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Cn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){bH(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),Aq(),await this._originValidation(e);const u=RH(e,r,i);await IH(e,u);const h=await yH(e,u,t),d=await vH(h);return EH(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_H(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Cl(),u=setTimeout(async()=>{await D1(e),t.onEvent(N1())},kH),h=async g=>{clearTimeout(u);const _=await D1(e);let v=null;_&&(g!=null&&g.url)&&(v=CH(_,g.url)),t.onEvent(v||N1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=i,f=`${o.packageName.toLowerCase()}://`;Cl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const NH=DH;function N1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:gn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(n,e){Vt(n)._logFramework(e)}var VH="@firebase/auth-compat",LH="0.5.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=1e3;function Wd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function BH(){return Wd()==="http:"||Wd()==="https:"}function Rk(n=Mt()){return!!((Wd()==="file:"||Wd()==="ionic:"||Wd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function FH(){return $b()||Hb()}function jH(){return pO()&&(document==null?void 0:document.documentMode)===11}function zH(n=Mt()){return/Edge\/\d+/.test(n)}function qH(n=Mt()){return jH()||zH(n)}function Ik(){try{const n=self.localStorage,e=qf();if(n)return n.setItem(e,"1"),n.removeItem(e),qH()?uf():!0}catch{return pw()&&uf()}return!1}function pw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function X0(){return(BH()||fO()||Rk())&&!FH()&&Ik()&&!pw()}function Ck(){return Rk()&&typeof document<"u"}async function HH(){return Ck()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},UH);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function $H(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},Td=me,xk="persistence";function GH(n,e){if(Td(Object.values(Pr).includes(e),n,"invalid-persistence-type"),$b()){Td(e!==Pr.SESSION,n,"unsupported-persistence-type");return}if(Hb()){Td(e===Pr.NONE,n,"unsupported-persistence-type");return}if(pw()){Td(e===Pr.NONE||e===Pr.LOCAL&&uf(),n,"unsupported-persistence-type");return}Td(e===Pr.NONE||Ik(),n,"unsupported-persistence-type")}async function ME(n){await n._initializationPromise;const e=Pk(),t=El(xk,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function KH(n,e){const t=Pk();if(!t)return[];const r=El(xk,n,e);switch(t.getItem(r)){case Pr.NONE:return[pc];case Pr.LOCAL:return[gc,oo];case Pr.SESSION:return[oo];default:return[]}}function Pk(){var n;try{return((n=$H())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=me;class Ya{constructor(){this.browserResolver=kr(Sk),this.cordovaResolver=kr(NH),this.underlyingResolver=null,this._redirectPersistence=oo,this._completeRedirectFn=By,this._overrideRedirectResult=dw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ck()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return WH(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await HH();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n){return n.unwrap()}function YH(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(n){return kk(n)}function XH(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new ZH(n,F9(n,e))}else if(r){const i=kk(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function kk(n){const{_tokenResponse:e}=n instanceof Wn?n.customData:n;if(!e)return null;if(!(n instanceof Wn)&&"temporaryProof"in e&&"phoneNumber"in e)return Il.credentialFromResult(n);const t=e.providerId;if(!t||t===bd.PASSWORD)return null;let r;switch(t){case bd.GOOGLE:r=Hi;break;case bd.FACEBOOK:r=qi;break;case bd.GITHUB:r=$i;break;case bd.TWITTER:r=Gi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?mc._create(t,h):ns._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new ic(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof Wn?r.credentialFromError(n):r.credentialFromResult(n)}function fr(n,e){return e.catch(t=>{throw t instanceof Wn&&XH(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:QH(t),additionalUserInfo:L9(t),user:Fy.getOrCreate(i)}})}async function VE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>fr(n,t.confirm(r))}}class ZH{constructor(e,t){this.resolver=t,this.auth=YH(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return fr(Ok(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fy=class Ld{constructor(e){this._delegate=e,this.multiFactor=q9(e)}static getOrCreate(e){return Ld.USER_MAP.has(e)||Ld.USER_MAP.set(e,new Ld(e)),Ld.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return fr(this.auth,ik(this._delegate,e))}async linkWithPhoneNumber(e,t){return VE(this.auth,dq(this._delegate,e,t))}async linkWithPopup(e){return fr(this.auth,bq(this._delegate,e,Ya))}async linkWithRedirect(e){return await ME(Vt(this.auth)),Pq(this._delegate,e,Ya)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return fr(this.auth,sk(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return VE(this.auth,fq(this._delegate,e,t))}reauthenticateWithPopup(e){return fr(this.auth,Eq(this._delegate,e,Ya))}async reauthenticateWithRedirect(e){return await ME(Vt(this.auth)),Cq(this._delegate,e,Ya)}sendEmailVerification(e){return R9(this._delegate,e)}async unlink(e){return await p9(this._delegate,e),this}updateEmail(e){return P9(this._delegate,e)}updatePassword(e){return O9(this._delegate,e)}updatePhoneNumber(e){return pq(this._delegate,e)}updateProfile(e){return x9(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return I9(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Fy.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=me;let LE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Sd(r,"invalid-api-key",{appName:e.name}),Sd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ya:void 0;this._delegate=t.initialize({options:{persistence:JH(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(iz),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fy.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){QO(this._delegate,e,t)}applyActionCode(e){return v9(this._delegate,e)}checkActionCode(e){return ak(this._delegate,e)}confirmPasswordReset(e,t){return _9(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return fr(this._delegate,ok(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return A9(this._delegate,e)}isSignInWithEmailLink(e){return w9(this._delegate,e)}async getRedirectResult(){Sd(X0(),this._delegate,"operation-not-supported-in-this-environment");const e=await kq(this._delegate,Ya);return e?fr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){MH(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=M1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=M1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return b9(this._delegate,e,t)}sendPasswordResetEmail(e,t){return y9(this._delegate,e,t||void 0)}async setPersistence(e){GH(this._delegate,e);let t;switch(e){case Pr.SESSION:t=oo;break;case Pr.LOCAL:t=await kr(gc)._isAvailable()?gc:My;break;case Pr.NONE:t=pc;break;default:return Cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return fr(this._delegate,f9(this._delegate))}signInWithCredential(e){return fr(this._delegate,Dy(this._delegate,e))}signInWithCustomToken(e){return fr(this._delegate,g9(this._delegate,e))}signInWithEmailAndPassword(e,t){return fr(this._delegate,lk(this._delegate,e,t))}signInWithEmailLink(e,t){return fr(this._delegate,T9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return VE(this._delegate,hq(this._delegate,e,t))}async signInWithPopup(e){return Sd(X0(),this._delegate,"operation-not-supported-in-this-environment"),fr(this._delegate,vq(this._delegate,e,Ya))}async signInWithRedirect(e){return Sd(X0(),this._delegate,"operation-not-supported-in-this-environment"),await ME(this._delegate),Rq(this._delegate,e,Ya)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return E9(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};LE.Persistence=Pr;function M1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Fy.getOrCreate(u)),error:e,complete:t}}function JH(n,e){const t=KH(n,e);if(typeof self<"u"&&!t.includes(gc)&&t.push(gc),typeof window<"u")for(const r of[My,oo])t.includes(r)||t.push(r);return t.includes(pc)||t.push(pc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static credential(e,t){return Il.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Il(Ok(jl.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}mw.PHONE_SIGN_IN_METHOD=Il.PHONE_SIGN_IN_METHOD;mw.PROVIDER_ID=Il.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=me;class t8{constructor(e,t,r=jl.app()){var i;e8((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new uq(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="auth-compat";function r8(n){n.INTERNAL.registerComponent(new si(n8,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new LE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fu.EMAIL_SIGNIN,PASSWORD_RESET:Fu.PASSWORD_RESET,RECOVER_EMAIL:Fu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Fu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Fu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Fu.VERIFY_EMAIL}},EmailAuthProvider:Eo,FacebookAuthProvider:qi,GithubAuthProvider:$i,GoogleAuthProvider:Hi,OAuthProvider:ic,SAMLAuthProvider:Og,PhoneAuthProvider:mw,PhoneMultiFactorGenerator:Ak,RecaptchaVerifier:t8,TwitterAuthProvider:Gi,Auth:LE,AuthCredential:Hc,Error:Wn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(VH,LH)}r8(jl);var V1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,Dk;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function I(){}I.prototype=C.prototype,M.D=C.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(b,P,O){for(var k=Array(arguments.length-2),te=2;te<arguments.length;te++)k[te-2]=arguments[te];return C.prototype[P].apply(b,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,C,I){I||(I=0);var b=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)b[P]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(P=0;16>P;++P)b[P]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=M.g[0],I=M.g[1],P=M.g[2];var O=M.g[3],k=C+(O^I&(P^O))+b[0]+3614090360&4294967295;C=I+(k<<7&4294967295|k>>>25),k=O+(P^C&(I^P))+b[1]+3905402710&4294967295,O=C+(k<<12&4294967295|k>>>20),k=P+(I^O&(C^I))+b[2]+606105819&4294967295,P=O+(k<<17&4294967295|k>>>15),k=I+(C^P&(O^C))+b[3]+3250441966&4294967295,I=P+(k<<22&4294967295|k>>>10),k=C+(O^I&(P^O))+b[4]+4118548399&4294967295,C=I+(k<<7&4294967295|k>>>25),k=O+(P^C&(I^P))+b[5]+1200080426&4294967295,O=C+(k<<12&4294967295|k>>>20),k=P+(I^O&(C^I))+b[6]+2821735955&4294967295,P=O+(k<<17&4294967295|k>>>15),k=I+(C^P&(O^C))+b[7]+4249261313&4294967295,I=P+(k<<22&4294967295|k>>>10),k=C+(O^I&(P^O))+b[8]+1770035416&4294967295,C=I+(k<<7&4294967295|k>>>25),k=O+(P^C&(I^P))+b[9]+2336552879&4294967295,O=C+(k<<12&4294967295|k>>>20),k=P+(I^O&(C^I))+b[10]+4294925233&4294967295,P=O+(k<<17&4294967295|k>>>15),k=I+(C^P&(O^C))+b[11]+2304563134&4294967295,I=P+(k<<22&4294967295|k>>>10),k=C+(O^I&(P^O))+b[12]+1804603682&4294967295,C=I+(k<<7&4294967295|k>>>25),k=O+(P^C&(I^P))+b[13]+4254626195&4294967295,O=C+(k<<12&4294967295|k>>>20),k=P+(I^O&(C^I))+b[14]+2792965006&4294967295,P=O+(k<<17&4294967295|k>>>15),k=I+(C^P&(O^C))+b[15]+1236535329&4294967295,I=P+(k<<22&4294967295|k>>>10),k=C+(P^O&(I^P))+b[1]+4129170786&4294967295,C=I+(k<<5&4294967295|k>>>27),k=O+(I^P&(C^I))+b[6]+3225465664&4294967295,O=C+(k<<9&4294967295|k>>>23),k=P+(C^I&(O^C))+b[11]+643717713&4294967295,P=O+(k<<14&4294967295|k>>>18),k=I+(O^C&(P^O))+b[0]+3921069994&4294967295,I=P+(k<<20&4294967295|k>>>12),k=C+(P^O&(I^P))+b[5]+3593408605&4294967295,C=I+(k<<5&4294967295|k>>>27),k=O+(I^P&(C^I))+b[10]+38016083&4294967295,O=C+(k<<9&4294967295|k>>>23),k=P+(C^I&(O^C))+b[15]+3634488961&4294967295,P=O+(k<<14&4294967295|k>>>18),k=I+(O^C&(P^O))+b[4]+3889429448&4294967295,I=P+(k<<20&4294967295|k>>>12),k=C+(P^O&(I^P))+b[9]+568446438&4294967295,C=I+(k<<5&4294967295|k>>>27),k=O+(I^P&(C^I))+b[14]+3275163606&4294967295,O=C+(k<<9&4294967295|k>>>23),k=P+(C^I&(O^C))+b[3]+4107603335&4294967295,P=O+(k<<14&4294967295|k>>>18),k=I+(O^C&(P^O))+b[8]+1163531501&4294967295,I=P+(k<<20&4294967295|k>>>12),k=C+(P^O&(I^P))+b[13]+2850285829&4294967295,C=I+(k<<5&4294967295|k>>>27),k=O+(I^P&(C^I))+b[2]+4243563512&4294967295,O=C+(k<<9&4294967295|k>>>23),k=P+(C^I&(O^C))+b[7]+1735328473&4294967295,P=O+(k<<14&4294967295|k>>>18),k=I+(O^C&(P^O))+b[12]+2368359562&4294967295,I=P+(k<<20&4294967295|k>>>12),k=C+(I^P^O)+b[5]+4294588738&4294967295,C=I+(k<<4&4294967295|k>>>28),k=O+(C^I^P)+b[8]+2272392833&4294967295,O=C+(k<<11&4294967295|k>>>21),k=P+(O^C^I)+b[11]+1839030562&4294967295,P=O+(k<<16&4294967295|k>>>16),k=I+(P^O^C)+b[14]+4259657740&4294967295,I=P+(k<<23&4294967295|k>>>9),k=C+(I^P^O)+b[1]+2763975236&4294967295,C=I+(k<<4&4294967295|k>>>28),k=O+(C^I^P)+b[4]+1272893353&4294967295,O=C+(k<<11&4294967295|k>>>21),k=P+(O^C^I)+b[7]+4139469664&4294967295,P=O+(k<<16&4294967295|k>>>16),k=I+(P^O^C)+b[10]+3200236656&4294967295,I=P+(k<<23&4294967295|k>>>9),k=C+(I^P^O)+b[13]+681279174&4294967295,C=I+(k<<4&4294967295|k>>>28),k=O+(C^I^P)+b[0]+3936430074&4294967295,O=C+(k<<11&4294967295|k>>>21),k=P+(O^C^I)+b[3]+3572445317&4294967295,P=O+(k<<16&4294967295|k>>>16),k=I+(P^O^C)+b[6]+76029189&4294967295,I=P+(k<<23&4294967295|k>>>9),k=C+(I^P^O)+b[9]+3654602809&4294967295,C=I+(k<<4&4294967295|k>>>28),k=O+(C^I^P)+b[12]+3873151461&4294967295,O=C+(k<<11&4294967295|k>>>21),k=P+(O^C^I)+b[15]+530742520&4294967295,P=O+(k<<16&4294967295|k>>>16),k=I+(P^O^C)+b[2]+3299628645&4294967295,I=P+(k<<23&4294967295|k>>>9),k=C+(P^(I|~O))+b[0]+4096336452&4294967295,C=I+(k<<6&4294967295|k>>>26),k=O+(I^(C|~P))+b[7]+1126891415&4294967295,O=C+(k<<10&4294967295|k>>>22),k=P+(C^(O|~I))+b[14]+2878612391&4294967295,P=O+(k<<15&4294967295|k>>>17),k=I+(O^(P|~C))+b[5]+4237533241&4294967295,I=P+(k<<21&4294967295|k>>>11),k=C+(P^(I|~O))+b[12]+1700485571&4294967295,C=I+(k<<6&4294967295|k>>>26),k=O+(I^(C|~P))+b[3]+2399980690&4294967295,O=C+(k<<10&4294967295|k>>>22),k=P+(C^(O|~I))+b[10]+4293915773&4294967295,P=O+(k<<15&4294967295|k>>>17),k=I+(O^(P|~C))+b[1]+2240044497&4294967295,I=P+(k<<21&4294967295|k>>>11),k=C+(P^(I|~O))+b[8]+1873313359&4294967295,C=I+(k<<6&4294967295|k>>>26),k=O+(I^(C|~P))+b[15]+4264355552&4294967295,O=C+(k<<10&4294967295|k>>>22),k=P+(C^(O|~I))+b[6]+2734768916&4294967295,P=O+(k<<15&4294967295|k>>>17),k=I+(O^(P|~C))+b[13]+1309151649&4294967295,I=P+(k<<21&4294967295|k>>>11),k=C+(P^(I|~O))+b[4]+4149444226&4294967295,C=I+(k<<6&4294967295|k>>>26),k=O+(I^(C|~P))+b[11]+3174756917&4294967295,O=C+(k<<10&4294967295|k>>>22),k=P+(C^(O|~I))+b[2]+718787259&4294967295,P=O+(k<<15&4294967295|k>>>17),k=I+(O^(P|~C))+b[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+O&4294967295}r.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var I=C-this.blockSize,b=this.B,P=this.h,O=0;O<C;){if(P==0)for(;O<=I;)i(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<C;)if(b[P++]=M.charCodeAt(O++),P==this.blockSize){i(this,b),P=0;break}}else for(;O<C;)if(b[P++]=M[O++],P==this.blockSize){i(this,b),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var I=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=I&255,I/=256;for(this.u(M),M=Array(16),C=I=0;4>C;++C)for(var b=0;32>b;b+=8)M[I++]=this.g[C]>>>b&255;return M};function o(M,C){var I=h;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=C(M)}function u(M,C){this.h=C;for(var I=[],b=!0,P=M.length-1;0<=P;P--){var O=M[P]|0;b&&O==C||(I[P]=O,b=!1)}this.g=I}var h={};function d(M){return-128<=M&&128>M?o(M,function(C){return new u([C|0],0>C?-1:0)}):new u([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return x(f(-M));for(var C=[],I=1,b=0;M>=I;b++)C[b]=M/I|0,I*=4294967296;return new u(C,0)}function g(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return x(g(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(C,8)),b=_,P=0;P<M.length;P+=8){var O=Math.min(8,M.length-P),k=parseInt(M.substring(P,P+O),C);8>O?(O=f(Math.pow(C,O)),b=b.j(O).add(f(k))):(b=b.j(I),b=b.add(f(k)))}return b}var _=d(0),v=d(1),T=d(16777216);n=u.prototype,n.m=function(){if(R(this))return-x(this).m();for(var M=0,C=1,I=0;I<this.g.length;I++){var b=this.i(I);M+=(0<=b?b:4294967296+b)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(R(this))return"-"+x(this).toString(M);for(var C=f(Math.pow(M,6)),I=this,b="";;){var P=H(I,C).g;I=B(I,P.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=P,w(I))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function R(M){return M.h==-1}n.l=function(M){return M=B(this,M),R(M)?-1:w(M)?0:1};function x(M){for(var C=M.g.length,I=[],b=0;b<C;b++)I[b]=~M.g[b];return new u(I,~M.h).add(v)}n.abs=function(){return R(this)?x(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],b=0,P=0;P<=C;P++){var O=b+(this.i(P)&65535)+(M.i(P)&65535),k=(O>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);b=k>>>16,O&=65535,k&=65535,I[P]=k<<16|O}return new u(I,I[I.length-1]&-2147483648?-1:0)};function B(M,C){return M.add(x(C))}n.j=function(M){if(w(this)||w(M))return _;if(R(this))return R(M)?x(this).j(x(M)):x(x(this).j(M));if(R(M))return x(this.j(x(M)));if(0>this.l(T)&&0>M.l(T))return f(this.m()*M.m());for(var C=this.g.length+M.g.length,I=[],b=0;b<2*C;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var P=0;P<M.g.length;P++){var O=this.i(b)>>>16,k=this.i(b)&65535,te=M.i(P)>>>16,F=M.i(P)&65535;I[2*b+2*P]+=k*F,L(I,2*b+2*P),I[2*b+2*P+1]+=O*F,L(I,2*b+2*P+1),I[2*b+2*P+1]+=k*te,L(I,2*b+2*P+1),I[2*b+2*P+2]+=O*te,L(I,2*b+2*P+2)}for(b=0;b<C;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=C;b<2*C;b++)I[b]=0;return new u(I,0)};function L(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function U(M,C){this.g=M,this.h=C}function H(M,C){if(w(C))throw Error("division by zero");if(w(M))return new U(_,_);if(R(M))return C=H(x(M),C),new U(x(C.g),x(C.h));if(R(C))return C=H(M,x(C)),new U(x(C.g),C.h);if(30<M.g.length){if(R(M)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var I=v,b=C;0>=b.l(M);)I=j(I),b=j(b);var P=$(I,1),O=$(b,1);for(b=$(b,2),I=$(I,2);!w(b);){var k=O.add(b);0>=k.l(M)&&(P=P.add(I),O=k),b=$(b,1),I=$(I,1)}return C=B(M,P.j(C)),new U(P,C)}for(P=_;0<=M.l(C);){for(I=Math.max(1,Math.floor(M.m()/C.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=f(I),k=O.j(C);R(k)||0<k.l(M);)I-=b,O=f(I),k=O.j(C);w(O)&&(O=v),P=P.add(O),M=B(M,k)}return new U(P,M)}n.A=function(M){return H(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],b=0;b<C;b++)I[b]=this.i(b)&M.i(b);return new u(I,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],b=0;b<C;b++)I[b]=this.i(b)|M.i(b);return new u(I,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],b=0;b<C;b++)I[b]=this.i(b)^M.i(b);return new u(I,this.h^M.h)};function j(M){for(var C=M.g.length+1,I=[],b=0;b<C;b++)I[b]=M.i(b)<<1|M.i(b-1)>>>31;return new u(I,M.h)}function $(M,C){var I=C>>5;C%=32;for(var b=M.g.length-I,P=[],O=0;O<b;O++)P[O]=0<C?M.i(O+I)>>>C|M.i(O+I+1)<<32-C:M.i(O+I);return new u(P,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Dk=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,eo=u}).apply(typeof V1<"u"?V1:typeof self<"u"?self:typeof window<"u"?window:{});var Dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nk,Ud,Mk,sg,UE,Vk,Lk,Uk;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dm=="object"&&Dm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var N=0;N<p.length-1;N++){var Y=p[N];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],N=S[p],E=E(N),E!=N&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,N=!1,Y={next:function(){if(!N&&S<p.length){var re=S++;return{value:E(re,p[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function w(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(N,Y,re){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return E.prototype[Y].apply(N,ge)}}function R(p){const E=p.length;if(0<E){const S=Array(E);for(let N=0;N<E;N++)S[N]=p[N];return S}return[]}function x(p,E){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Y=p.length||0,re=N.length||0;p.length=Y+re;for(let ge=0;ge<re;ge++)p[Y+ge]=N[ge]}else p.push(N)}}class B{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function L(p){return/^[\s\xa0]*$/.test(p)}function U(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var j=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function $(p,E,S){for(const N in p)E.call(S,p[N],N,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function C(p){const E={};for(const S in p)E[S]=p[S];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let S,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(S in N)p[S]=N[S];for(let re=0;re<I.length;re++)S=I[re],Object.prototype.hasOwnProperty.call(N,S)&&(p[S]=N[S])}}function P(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function O(p){h.setTimeout(()=>{throw p},0)}function k(){var p=Te;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,S){const N=F.get();N.set(E,S),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new B(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,Te=new te,q=()=>{const p=h.Promise.resolve(void 0);ie=()=>{p.then(ae)}};var ae=()=>{for(var p;p=k();){try{p.h.call(p.g)}catch(S){O(S)}var E=F;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ue=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function Oe(p,E){if(ve.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(j){e:{try{H(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ke[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,ve);var ke={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function _t(p,E,S,N,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!N,this.ha=Y,this.key=++ze,this.da=this.fa=!1}function $e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function wt(p){this.src=p,this.g={},this.h=0}wt.prototype.add=function(p,E,S,N,Y){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ge=at(p,E,N,Y);return-1<ge?(E=p[ge],S||(E.fa=!1)):(E=new _t(E,this.src,re,!!N,Y),E.fa=S,p.push(E)),E};function Ze(p,E){var S=E.type;if(S in p.g){var N=p.g[S],Y=Array.prototype.indexOf.call(N,E,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(N,Y,1),re&&($e(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function at(p,E,S,N){for(var Y=0;Y<p.length;++Y){var re=p[Y];if(!re.da&&re.listener==E&&re.capture==!!S&&re.ha==N)return Y}return-1}var en="closure_lm_"+(1e6*Math.random()|0),vr={};function Ln(p,E,S,N,Y){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Ln(p,E[re],S,N,Y);return null}return S=sp(S),p&&p[xt]?p.K(E,S,f(N)?!!N.capture:!1,Y):Ur(p,E,S,!1,N,Y)}function Ur(p,E,S,N,Y,re){if(!E)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,We=nh(p);if(We||(p[en]=We=new wt(p)),S=We.add(E,S,N,ge,re),S.proxy)return S;if(N=Un(),S.proxy=N,N.src=p,N.listener=S,p.addEventListener)ye||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),N,Y);else if(p.attachEvent)p.attachEvent(Kl(E.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Un(){function p(S){return E.call(p.src,p.listener,S)}const E=v_;return p}function lr(p,E,S,N,Y){if(Array.isArray(E))for(var re=0;re<E.length;re++)lr(p,E[re],S,N,Y);else N=f(N)?!!N.capture:!!N,S=sp(S),p&&p[xt]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],S=at(re,S,N,Y),-1<S&&($e(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=nh(p))&&(E=p.g[E.toString()],p=-1,E&&(p=at(E,S,N,Y)),(S=-1<p?E[p]:null)&&li(S))}function li(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[xt])Ze(E.i,p);else{var S=p.type,N=p.proxy;E.removeEventListener?E.removeEventListener(S,N,p.capture):E.detachEvent?E.detachEvent(Kl(S),N):E.addListener&&E.removeListener&&E.removeListener(N),(S=nh(E))?(Ze(S,p),S.h==0&&(S.src=null,E[en]=null)):$e(p)}}}function Kl(p){return p in vr?vr[p]:vr[p]="on"+p}function v_(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var S=p.listener,N=p.ha||p.src;p.fa&&li(p),p=S.call(N,E)}return p}function nh(p){return p=p[en],p instanceof wt?p:null}var ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function sp(p){return typeof p=="function"?p:(p[ur]||(p[ur]=function(E){return p.handleEvent(E)}),p[ur])}function cn(){be.call(this),this.i=new wt(this),this.M=this,this.F=null}w(cn,be),cn.prototype[xt]=!0,cn.prototype.removeEventListener=function(p,E,S,N){lr(this,p,E,S,N)};function _n(p,E){var S,N=p.F;if(N)for(S=[];N;N=N.F)S.push(N);if(p=p.M,N=E.type||E,typeof E=="string")E=new ve(E,p);else if(E instanceof ve)E.target=E.target||p;else{var Y=E;E=new ve(N,p),b(E,Y)}if(Y=!0,S)for(var re=S.length-1;0<=re;re--){var ge=E.g=S[re];Y=os(ge,N,!0,E)&&Y}if(ge=E.g=p,Y=os(ge,N,!0,E)&&Y,Y=os(ge,N,!1,E)&&Y,S)for(re=0;re<S.length;re++)ge=E.g=S[re],Y=os(ge,N,!1,E)&&Y}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],N=0;N<S.length;N++)$e(S[N]);delete p.g[E],p.h--}}this.F=null},cn.prototype.K=function(p,E,S,N){return this.i.add(String(p),E,!1,S,N)},cn.prototype.L=function(p,E,S,N){return this.i.add(String(p),E,!0,S,N)};function os(p,E,S,N){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,re=0;re<E.length;++re){var ge=E[re];if(ge&&!ge.da&&ge.capture==S){var We=ge.listener,dn=ge.ha||ge.src;ge.fa&&Ze(p.i,ge),Y=We.call(dn,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function ap(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function rh(p){p.g=ap(()=>{p.g=null,p.i&&(p.i=!1,rh(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class E_ extends be{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:rh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Io(p){be.call(this),this.h=p,this.g={}}w(Io,be);var oa=[];function Bn(p){$(p.g,function(E,S){this.g.hasOwnProperty(S)&&li(E)},p),p.g={}}Io.prototype.N=function(){Io.aa.N.call(this),Bn(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ih=h.JSON.stringify,Ei=h.JSON.parse,Xn=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function sh(){}sh.prototype.h=null;function op(p){return p.h||(p.h=p.i())}function lp(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function la(){ve.call(this,"d")}w(la,ve);function ui(){ve.call(this,"c")}w(ui,ve);var Br={},ua=null;function Wl(){return ua=ua||new cn}Br.La="serverreachability";function ah(p){ve.call(this,Br.La,p)}w(ah,ve);function ca(p){const E=Wl();_n(E,new ah(E))}Br.STAT_EVENT="statevent";function Yl(p,E){ve.call(this,Br.STAT_EVENT,p),this.stat=E}w(Yl,ve);function Kt(p){const E=Wl();_n(E,new Yl(E,p))}Br.Ma="timingevent";function up(p,E){ve.call(this,Br.Ma,p),this.size=E}w(up,ve);function ha(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function cp(p,E,S,N,Y,re){p.info(function(){if(p.g)if(re)for(var ge="",We=re.split("&"),dn=0;dn<We.length;dn++){var Ye=We[dn].split("=");if(1<Ye.length){var bn=Ye[0];Ye=Ye[1];var fn=bn.split("_");ge=2<=fn.length&&fn[1]=="type"?ge+(bn+"="+Ye+"&"):ge+(bn+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+E+`
`+S+`
`+ge})}function hp(p,E,S,N,Y,re,ge){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+E+`
`+S+`
`+re+" "+ge})}function fa(p,E,S,N){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+vn(p,S)+(N?" "+N:"")})}function wi(p,E){p.info(function(){return"TIMEOUT: "+E})}da.prototype.info=function(){};function vn(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var N=S[p];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return ih(S)}catch{return E}}var hn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ls={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Co;function Ql(){}w(Ql,sh),Ql.prototype.g=function(){return new XMLHttpRequest},Ql.prototype.i=function(){return{}},Co=new Ql;function Ti(p,E,S,N){this.j=p,this.i=E,this.l=S,this.R=N||1,this.U=new Io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oh}function oh(){this.i=null,this.g="",this.h=!1}var pa={},xo={};function ci(p,E,S){p.L=1,p.v=ko(Ut(E)),p.m=S,p.P=!0,us(p,null)}function us(p,E){p.F=Date.now(),Pt(p),p.A=Ut(p.v);var S=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),ds(S.i,"t",N),p.C=0,S=p.j.J,p.h=new oh,p.g=Ap(p.j,S?E:null,!p.m),0<p.O&&(p.M=new E_(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,N=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(oa[0]=Y.toString()),Y=oa);for(var re=0;re<Y.length;re++){var ge=Ln(S,Y[re],N||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),ca(),cp(p.i,p.u,p.A,p.l,p.R,p.m)}Ti.prototype.ca=function(p){p=p.target;const E=this.M;E&&Hr(p)==3?E.j():this.Y(p)},Ti.prototype.Y=function(p){try{if(p==this.g)e:{const fn=Hr(this.g);var E=this.g.Ba();const gs=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||yp(this.g)))){this.J||fn!=4||E==7||(E==8||0>=gs?ca(3):ca(2)),Xl(this);var S=this.g.Z();this.X=S;t:if(ma(this)){var N=yp(this.g);p="";var Y=N.length,re=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),Er(this);var ge="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(N[E],{stream:!(re&&E==Y-1)});N.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,hp(this.i,this.u,this.A,this.l,this.R,fn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,dn=this.g;if((We=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(We)){var Ye=We;break t}}Ye=null}if(S=Ye)fa(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,S);else{this.o=!1,this.s=3,Kt(12),cr(this),Er(this);break e}}if(this.P){S=!0;let xn;for(;!this.J&&this.C<ge.length;)if(xn=ga(this,ge),xn==xo){fn==4&&(this.s=4,Kt(14),S=!1),fa(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==pa){this.s=4,Kt(15),fa(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else fa(this.i,this.l,xn,null),br(this,xn);if(ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||ge.length!=0||this.h.h||(this.s=1,Kt(16),S=!1),this.o=this.o&&S,!S)fa(this.i,this.l,ge,"[Invalid Chunked Response]"),cr(this),Er(this);else if(0<ge.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Bo(bn),bn.M=!0,Kt(11))}}else fa(this.i,this.l,ge,null),br(this,ge);fn==4&&cr(this),this.o&&!this.J&&(fn==4?wp(this.j,this):(this.o=!1,Pt(this)))}else R_(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),cr(this),Er(this)}}}catch{}finally{}};function ma(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ga(p,E){var S=p.C,N=E.indexOf(`
`,S);return N==-1?xo:(S=Number(E.substring(S,N)),isNaN(S)?pa:(N+=1,N+S>E.length?xo:(E=E.slice(N,N+S),p.C=N+S,E)))}Ti.prototype.cancel=function(){this.J=!0,cr(this)};function Pt(p){p.S=Date.now()+p.I,lh(p,p.I)}function lh(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=ha(v(p.ba,p),E)}function Xl(p){p.B&&(h.clearTimeout(p.B),p.B=null)}Ti.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(wi(this.i,this.A),this.L!=2&&(ca(),Kt(17)),cr(this),this.s=2,Er(this)):lh(this,this.S-p)};function Er(p){p.j.G==0||p.J||wp(p.j,p)}function cr(p){Xl(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Bn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function br(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||ya(S.h,p))){if(!p.K&&ya(S.h,p)&&S.G==3){try{var N=S.Da.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)ou(S),su(S);else break e;vh(S),Kt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=ha(v(S.Za,S),6e3));if(1>=dp(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ms(S,11)}else if((p.K||S.g==p)&&ou(S),!L(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Ye=Y[E];if(S.T=Ye[0],Ye=Ye[1],S.G==2)if(Ye[0]=="c"){S.K=Ye[1],S.ia=Ye[2];const bn=Ye[3];bn!=null&&(S.la=bn,S.j.info("VER="+S.la));const fn=Ye[4];fn!=null&&(S.Aa=fn,S.j.info("SVER="+S.Aa));const gs=Ye[5];gs!=null&&typeof gs=="number"&&0<gs&&(N=1.5*gs,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const xn=p.g;if(xn){const Pi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pi){var re=N.h;re.g||Pi.indexOf("spdy")==-1&&Pi.indexOf("quic")==-1&&Pi.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(_a(re,re.h),re.h=null))}if(N.D){const bh=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(N.ya=bh,Je(N.I,N.D,bh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ge=p;if(N.qa=Sp(N,N.J?N.ia:null,N.W),ge.K){Fr(N.h,ge);var We=ge,dn=N.L;dn&&(We.I=dn),We.B&&(Xl(We),Pt(We)),N.g=ge}else Ep(N);0<S.i.length&&au(S)}else Ye[0]!="stop"&&Ye[0]!="close"||ms(S,7);else S.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ms(S,7):yh(S):Ye[0]!="noop"&&S.l&&S.l.ta(Ye),S.v=0)}}ca(4)}catch{}}var b_=class{constructor(p,E){this.g=p,this.map=E}};function uh(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ch(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function dp(p){return p.h?1:p.g?p.g.size:0}function ya(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function _a(p,E){p.g?p.g.add(E):p.h=E}function Fr(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}uh.prototype.cancel=function(){if(this.i=Zn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Zn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return R(p.i)}function fp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var E=[],S=p.length,N=0;N<S;N++)E.push(p[N]);return E}E=[],S=0;for(N in p)E[S++]=p[N];return E}function w_(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const N in p)E[S++]=N;return E}}}function Po(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=w_(p),N=fp(p),Y=N.length,re=0;re<Y;re++)E.call(void 0,N[re],S&&S[re],p)}var hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zl(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var N=p[S].indexOf("="),Y=null;if(0<=N){var re=p[S].substring(0,N);Y=p[S].substring(N+1)}else re=p[S];E(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function cs(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof cs){this.h=p.h,va(this,p.j),this.o=p.o,this.g=p.g,Oo(this,p.s),this.l=p.l;var E=p.i,S=new Si;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Jl(this,S),this.m=p.m}else p&&(E=String(p).match(hh))?(this.h=!1,va(this,E[1]||"",!0),this.o=Ea(E[2]||""),this.g=Ea(E[3]||"",!0),Oo(this,E[4]),this.l=Ea(E[5]||"",!0),Jl(this,E[6]||"",!0),this.m=Ea(E[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}cs.prototype.toString=function(){var p=[],E=this.j;E&&p.push(jr(E,dh,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(jr(E,dh,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(jr(S,S.charAt(0)=="/"?fh:pp,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",jr(S,A_)),p.join("")};function Ut(p){return new cs(p)}function va(p,E,S){p.j=S?Ea(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Oo(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Jl(p,E,S){E instanceof Si?(p.i=E,ph(p.i,p.h)):(S||(E=jr(E,S_)),p.i=new Si(E,p.h))}function Je(p,E,S){p.i.set(E,S)}function ko(p){return Je(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ea(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function jr(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,T_),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function T_(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var dh=/[#\/\?@]/g,pp=/[#\?:]/g,fh=/[#\?]/g,S_=/[#\?@]/g,A_=/#/g;function Si(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function zr(p){p.g||(p.g=new Map,p.h=0,p.i&&Zl(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=Si.prototype,n.add=function(p,E){zr(this),this.i=null,p=fs(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function eu(p,E){zr(p),E=fs(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function hs(p,E){return zr(p),E=fs(p,E),p.g.has(E)}n.forEach=function(p,E){zr(this),this.g.forEach(function(S,N){S.forEach(function(Y){p.call(E,Y,N,this)},this)},this)},n.na=function(){zr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let N=0;N<E.length;N++){const Y=p[N];for(let re=0;re<Y.length;re++)S.push(E[N])}return S},n.V=function(p){zr(this);let E=[];if(typeof p=="string")hs(this,p)&&(E=E.concat(this.g.get(fs(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return zr(this),this.i=null,p=fs(this,p),hs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function ds(p,E,S){eu(p,E),0<S.length&&(p.i=null,p.g.set(fs(p,E),R(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var N=E[S];const re=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var Y=re;ge[N]!==""&&(Y+="="+encodeURIComponent(String(ge[N]))),p.push(Y)}}return this.i=p.join("&")};function fs(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function ph(p,E){E&&!p.j&&(zr(p),p.i=null,p.g.forEach(function(S,N){var Y=N.toLowerCase();N!=Y&&(eu(this,N),ds(this,Y,S))},p)),p.j=E}function mp(p,E){const S=new da;if(h.Image){const N=new Image;N.onload=T(qr,S,"TestLoadImage: loaded",!0,E,N),N.onerror=T(qr,S,"TestLoadImage: error",!1,E,N),N.onabort=T(qr,S,"TestLoadImage: abort",!1,E,N),N.ontimeout=T(qr,S,"TestLoadImage: timeout",!1,E,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else E(!1)}function Do(p,E){const S=new da,N=new AbortController,Y=setTimeout(()=>{N.abort(),qr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:N.signal}).then(re=>{clearTimeout(Y),re.ok?qr(S,"TestPingServer: ok",!0,E):qr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),qr(S,"TestPingServer: error",!1,E)})}function qr(p,E,S,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(S)}catch{}}function No(){this.g=new Xn}function Ai(p,E,S){const N=S||"";try{Po(p,function(Y,re){let ge=Y;f(Y)&&(ge=ih(Y)),E.push(N+re+"="+encodeURIComponent(ge))})}catch(Y){throw E.push(N+"type="+encodeURIComponent("_badmap")),Y}}function ba(p){this.l=p.Ub||null,this.j=p.eb||!1}w(ba,sh),ba.prototype.g=function(){return new ps(this.l,this.j)},ba.prototype.i=function(p){return function(){return p}}({});function ps(p,E){cn.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ps,cn),n=ps.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Ii(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function mh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Ri(this):Ii(this),this.readyState==3&&mh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ri(this))},n.Qa=function(p){this.g&&(this.response=p,Ri(this))},n.ga=function(){this.g&&Ri(this)};function Ri(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ii(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function Ii(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function gh(p){let E="";return $(p,function(S,N){E+=N,E+=":",E+=S,E+=`\r
`}),E}function En(p,E,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=gh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):Je(p,E,S))}function st(p){cn.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(st,cn);var tu=/^https?$/i,Mo=["POST","PUT"];n=st.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Co.g(),this.v=this.o?op(this.o):op(Co),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){gp(this,re);return}if(p=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)S.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())S.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Mo,E,void 0))||N||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of S)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vo(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){gp(this,re)}};function gp(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,nu(p),Ci(p)}function nu(p){p.A||(p.A=!0,_n(p,"complete"),_n(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,_n(this,"complete"),_n(this,"abort"),Ci(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ru(this):this.bb())},n.bb=function(){ru(this)};function ru(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Hr(p)!=4||p.Z()!=2)){if(p.u&&Hr(p)==4)ap(p.Ea,0,p);else if(_n(p,"readystatechange"),Hr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var N;if(N=ge===0){var Y=String(p.D).match(hh)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),N=!tu.test(Y?Y.toLowerCase():"")}S=N}if(S)_n(p,"complete"),_n(p,"success");else{p.m=6;try{var re=2<Hr(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",nu(p)}}finally{Ci(p)}}}}function Ci(p,E){if(p.g){Vo(p);const S=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||_n(p,"ready");try{S.onreadystatechange=N}catch{}}}function Vo(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Hr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Ei(E)}};function yp(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function R_(p){const E={};p=(p.g&&2<=Hr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(L(p[N]))continue;var S=P(p[N]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=E[Y]||[];E[Y]=re,re.push(S)}M(E,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function iu(p){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,p),this.cb=Lo("retryDelaySeedMs",1e4,p),this.Wa=Lo("forwardChannelMaxRetries",2,p),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new uh(p&&p.concurrentRequestLimit),this.Da=new No,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=iu.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,N){Kt(0),this.W=p,this.H=E||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=Sp(this,null,this.W),au(this)};function yh(p){if(_p(p),p.G==3){var E=p.U++,S=Ut(p.I);if(Je(S,"SID",p.K),Je(S,"RID",E),Je(S,"TYPE","terminate"),Uo(p,S),E=new Ti(p,p.j,E),E.L=2,E.v=ko(Ut(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=Ap(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Pt(E)}Tp(p)}function su(p){p.g&&(Bo(p),p.g.cancel(),p.g=null)}function _p(p){su(p),p.u&&(h.clearTimeout(p.u),p.u=null),ou(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function au(p){if(!ch(p.h)&&!p.s){p.s=!0;var E=p.Ga;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.B=0}}function I_(p,E){return dp(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=ha(v(p.Ga,p,E),Eh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Ti(this,this.j,p);let re=this.o;if(this.S&&(re?(re=C(re),b(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(E+=N,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=vp(this,Y,E),S=Ut(this.I),Je(S,"RID",p),Je(S,"CVER",22),this.D&&Je(S,"X-HTTP-Session-Id",this.D),Uo(this,S),re&&(this.O?E="headers="+encodeURIComponent(String(gh(re)))+"&"+E:this.m&&En(S,this.m,re)),_a(this.h,Y),this.Ua&&Je(S,"TYPE","init"),this.P?(Je(S,"$req",E),Je(S,"SID","null"),Y.T=!0,ci(Y,S,null)):ci(Y,S,E),this.G=2}}else this.G==3&&(p?_h(this,p):this.i.length==0||ch(this.h)||_h(this))};function _h(p,E){var S;E?S=E.l:S=p.U++;const N=Ut(p.I);Je(N,"SID",p.K),Je(N,"RID",S),Je(N,"AID",p.T),Uo(p,N),p.m&&p.o&&En(N,p.m,p.o),S=new Ti(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=vp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),_a(p.h,S),ci(S,N,E)}function Uo(p,E){p.H&&$(p.H,function(S,N){Je(E,N,S)}),p.l&&Po({},function(S,N){Je(E,N,S)})}function vp(p,E,S){S=Math.min(p.i.length,S);var N=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let re=-1;for(;;){const ge=["count="+S];re==-1?0<S?(re=Y[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let We=!0;for(let dn=0;dn<S;dn++){let Ye=Y[dn].g;const bn=Y[dn].map;if(Ye-=re,0>Ye)re=Math.max(0,Y[dn].g-100),We=!1;else try{Ai(bn,ge,"req"+Ye+"_")}catch{N&&N(bn)}}if(We){N=ge.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,N}function Ep(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.v=0}}function vh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=ha(v(p.Fa,p),Eh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,bp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=ha(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),su(this),bp(this))};function Bo(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function bp(p){p.g=new Ti(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Ut(p.qa);Je(E,"RID","rpc"),Je(E,"SID",p.K),Je(E,"AID",p.T),Je(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Je(E,"TO",p.ja),Je(E,"TYPE","xmlhttp"),Uo(p,E),p.m&&p.o&&En(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=ko(Ut(E)),S.m=null,S.P=!0,us(S,p)}n.Za=function(){this.C!=null&&(this.C=null,su(this),vh(this),Kt(19))};function ou(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function wp(p,E){var S=null;if(p.g==E){ou(p),Bo(p),p.g=null;var N=2}else if(ya(p.h,E))S=E.D,Fr(p.h,E),N=1;else return;if(p.G!=0){if(E.o)if(N==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;N=Wl(),_n(N,new up(N,S)),au(p)}else Ep(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(N==1&&I_(p,E)||N==2&&vh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:ms(p,5);break;case 4:ms(p,10);break;case 3:ms(p,6);break;default:ms(p,2)}}}function Eh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function ms(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),N=p.Xa;const Y=!N;N=new cs(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||va(N,"https"),ko(N),Y?mp(N.toString(),S):Do(N.toString(),S)}else Kt(2);p.G=0,p.l&&p.l.sa(E),Tp(p),_p(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Tp(p){if(p.G=0,p.ka=[],p.l){const E=Zn(p.h);(E.length!=0||p.i.length!=0)&&(x(p.ka,E),x(p.ka,p.i),p.h.i.length=0,R(p.i),p.i.length=0),p.l.ra()}}function Sp(p,E,S){var N=S instanceof cs?Ut(S):new cs(S);if(N.g!="")E&&(N.g=E+"."+N.g),Oo(N,N.s);else{var Y=h.location;N=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new cs(null);N&&va(re,N),E&&(re.g=E),Y&&Oo(re,Y),S&&(re.l=S),N=re}return S=p.D,E=p.ya,S&&E&&Je(N,S,E),Je(N,"VER",p.la),Uo(p,N),N}function Ap(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new st(new ba({eb:S})):new st(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rp(){}n=Rp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lu(){}lu.prototype.g=function(p,E){return new Jn(p,E)};function Jn(p,E){cn.call(this),this.g=new iu(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!L(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new xi(this)}w(Jn,cn),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){yh(this.g)},Jn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=ih(p),p=S);E.i.push(new b_(E.Ya++,p)),E.G==3&&au(E)},Jn.prototype.N=function(){this.g.l=null,delete this.j,yh(this.g),delete this.g,Jn.aa.N.call(this)};function Ip(p){la.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(Ip,la);function Cp(){ui.call(this),this.status=1}w(Cp,ui);function xi(p){this.g=p}w(xi,Rp),xi.prototype.ua=function(){_n(this.g,"a")},xi.prototype.ta=function(p){_n(this.g,new Ip(p))},xi.prototype.sa=function(p){_n(this.g,new Cp)},xi.prototype.ra=function(){_n(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,Uk=function(){return new lu},Lk=function(){return Wl()},Vk=Br,UE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hn.NO_ERROR=0,hn.TIMEOUT=8,hn.HTTP_ERROR=6,sg=hn,ls.COMPLETE="complete",Mk=ls,lp.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",cn.prototype.listen=cn.prototype.K,Ud=lp,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,Nk=st}).apply(typeof Dm<"u"?Dm:typeof self<"u"?self:typeof window<"u"?window:{});const L1="@firebase/firestore",U1="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Iy("@firebase/firestore");function Wu(){return lo.logLevel}function i8(n){lo.setLogLevel(n)}function pe(n,...e){if(lo.logLevel<=je.DEBUG){const t=e.map(gw);lo.debug(`Firestore (${Gc}): ${n}`,...t)}}function Yt(n,...e){if(lo.logLevel<=je.ERROR){const t=e.map(gw);lo.error(`Firestore (${Gc}): ${n}`,...t)}}function rs(n,...e){if(lo.logLevel<=je.WARN){const t=e.map(gw);lo.warn(`Firestore (${Gc}): ${n}`,...t)}}function gw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${Gc}) INTERNAL ASSERTION FAILED: `+n;throw Yt(e),new Error(e)}function Ae(n,e){n||we()}function s8(n,e){n||we()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class o8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class l8{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new Bk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Rn(e)}}class u8{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class c8{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new u8(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h8{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Et(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new B1(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new B1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=d8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function yc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function jk(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=-62135596800,j1=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*j1);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<F1)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j1}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-F1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new It(0,0))}static max(){return new Ce(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="__name__";class Bi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(),r===void 0?r=e.length-t:r>e.length-t&&we(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Bi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Bi.isNumericId(e),i=Bi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Bi.extractNumericId(e).compare(Bi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class qe extends Bi{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const f8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Bi{construct(e,t,r){return new At(e,t,r)}static isValidIdentifier(e){return f8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z1}static keyField(){return new At([z1])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(t)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(qe.fromString(e))}static fromName(e){return new _e(qe.fromString(e).popFirst(5))}static empty(){return new _e(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;class Mg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function BE(n){return n.fields.find(e=>e.kind===2)}function ol(n){return n.fields.filter(e=>e.kind!==2)}Mg.UNKNOWN_ID=-1;class ag{constructor(e,t){this.fieldPath=e,this.kind=t}}class mf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mf(0,Lr.min())}}function zk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new Lr(i,_e.empty(),e)}function qk(n){return new Lr(n.readTime,n.key,_c)}class Lr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Lr(Ce.min(),_e.empty(),_c)}static max(){return new Lr(Ce.max(),_e.empty(),_c)}}function yw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==Hk)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},d=>r(d))}),u=!0,o===i&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(i=>i?Q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{u[f]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new Q((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="SimpleDb";class jy{static open(e,t,r,i){try{return new jy(t,e.transaction(i,r))}catch(o){throw new Yd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Vn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Yd(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=_w(r.target.error);this.m.reject(new Yd(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(pe(xr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new m8(t)}}class Ji{static delete(e){return pe(xr,"Removing database:",e),ul(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uf())return!1;if(Ji.v())return!0;const e=Mt(),t=Ji.C(e),r=0<t&&t<10,i=Gk(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Ji.C(Mt())===12.2&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(pe(xr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new Yd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Yd(e,u))},i.onupgradeneeded=o=>{pe(xr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(xr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const h=jy.open(this.db,e,o?"readonly":"readwrite",r),d=i(h).next(f=>(h.S(),f)).catch(f=>(h.abort(f),Q.reject(f))).toPromise();return d.catch(()=>{}),await h.p,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(pe(xr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Gk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class p8{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return ul(this.q.delete())}}class Yd extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wo(n){return n.name==="IndexedDbTransactionError"}class m8{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(xr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(xr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ul(r)}add(e){return pe(xr,"ADD",this.store.name,e,e),ul(this.store.add(e))}get(e){return ul(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(xr,"GET",this.store.name,e,t),t))}delete(e){return pe(xr,"DELETE",this.store.name,e),ul(this.store.delete(e))}count(){return pe(xr,"COUNT",this.store.name),ul(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new Q((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}})}{const o=this.cursor(r),u=[];return this.j(o,(h,d)=>{u.push(d)}).next(()=>u)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Q((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){pe(xr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new Q((r,i)=>{t.onerror=o=>{const u=_w(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}j(e,t){const r=[];return new Q((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const d=new p8(h),f=t(h.primaryKey,h.value,d);if(f instanceof Q){const g=f.catch(_=>(d.done(),Q.reject(_)));r.push(g)}d.isDone?i():d.U===null?h.continue():h.continue(d.U)}}).next(()=>Q.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ul(n){return new Q((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=_w(r.target.error);t(i)}})}let q1=!1;function _w(n){const e=Ji.C(Mt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return q1||(q1=!0,setTimeout(()=>{throw r},0)),r}}return n}const Qd="IndexBackfiller";class g8{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){pe(Qd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();pe(Qd,`Documents written: ${t}`)}catch(t){wo(t)?pe(Qd,"Ignoring IndexedDB error during index backfill: ",t):await bo(t)}await this.te(6e4)})}}class y8{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return Q.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Qd,`Processing collection: ${u}`),this.ie(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,o)).next(h=>(pe(Qd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=qk(o);yw(u,r)>0&&(r=u)}),new Lr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}pr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=-1;function $f(n){return n==null}function gf(n){return n===0&&1/n==-1/0}function Kk(n){return typeof n=="number"&&Number.isInteger(n)&&!gf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="";function Yn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=H1(e)),e=_8(n.get(t),e);return H1(e)}function _8(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Vg:t+="";break;default:t+=o}}return t}function H1(n){return n+Vg+""}function Qi(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===Vg&&n.charAt(1)===""),qe.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(Vg,o);switch((u<0||u>t)&&we(),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we()}o=u+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="remoteDocuments",Gf="owner",ju="owner",yf="mutationQueues",v8="userId",gi="mutations",$1="batchId",gl="userMutationsIndex",G1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n,e){return[n,Yn(e)]}function Wk(n,e,t){return[n,Yn(e),t]}const E8={},vc="documentMutations",Lg="remoteDocumentsV14",b8=["prefixPath","collectionGroup","readTime","documentId"],lg="documentKeyIndex",w8=["prefixPath","collectionGroup","documentId"],Yk="collectionGroupIndex",T8=["collectionGroup","readTime","prefixPath","documentId"],_f="remoteDocumentGlobal",FE="remoteDocumentGlobalKey",Ec="targets",Qk="queryTargetsIndex",S8=["canonicalId","targetId"],bc="targetDocuments",A8=["targetId","path"],vw="documentTargetsIndex",R8=["path","targetId"],Ug="targetGlobalKey",wl="targetGlobal",vf="collectionParents",I8=["collectionId","parent"],wc="clientMetadata",C8="clientId",zy="bundles",x8="bundleId",qy="namedQueries",P8="name",Ew="indexConfiguration",O8="indexId",jE="collectionGroupIndex",k8="collectionGroup",Bg="indexState",D8=["indexId","uid"],Xk="sequenceNumberIndex",N8=["uid","sequenceNumber"],Fg="indexEntries",M8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Zk="documentKeyIndex",V8=["indexId","uid","orderedDocumentKey"],Hy="documentOverlays",L8=["userId","collectionPath","documentId"],zE="collectionPathOverlayIndex",U8=["userId","collectionPath","largestBatchId"],Jk="collectionGroupOverlayIndex",B8=["userId","collectionGroup","largestBatchId"],bw="globals",F8="name",eD=[yf,gi,vc,ll,Ec,Gf,wl,bc,wc,_f,vf,zy,qy],j8=[...eD,Hy],tD=[yf,gi,vc,Lg,Ec,Gf,wl,bc,wc,_f,vf,zy,qy,Hy],nD=tD,ww=[...nD,Ew,Bg,Fg],z8=ww,q8=[...ww,bw];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends $k{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function yn(n,e){const t=Ee(n);return Ji.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function To(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nm(this.root,e,this.comparator,!0)}}class Nm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Dn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W1(this.data.getIterator())}getIteratorFrom(e){return new W1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class W1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new mr([])}unionWith(e){let t=new lt(At.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new iD("Invalid base64 string: "+o):o}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const $8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=$8.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ys(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="server_timestamp",aD="__type__",oD="__previous_value__",lD="__local_write_time__";function $y(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[aD])===null||t===void 0?void 0:t.stringValue)===sD}function Gy(n){const e=n.mapValue.fields[oD];return $y(e)?Gy(e):e}function Ef(n){const e=Ws(n.mapValue.fields[lD].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,t,r,i,o,u,h,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f}}const HE="(default)";class uo{constructor(e,t){this.projectId=e,this.database=t||HE}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===HE}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__type__",uD="__max__",Qa={mapValue:{fields:{__type__:{stringValue:uD}}}},Sw="__vector__",Tc="value",ug={nullValue:"NULL_VALUE"};function co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$y(n)?4:cD(n)?9007199254740991:Ky(n)?10:11:we()}function is(n,e){if(n===e)return!0;const t=co(n);if(t!==co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ef(n).isEqual(Ef(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ws(i.timestampValue),h=Ws(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ys(i.bytesValue).isEqual(Ys(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return St(i.geoPointValue.latitude)===St(o.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return St(i.integerValue)===St(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=St(i.doubleValue),h=St(o.doubleValue);return u===h?gf(u)===gf(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return yc(n.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(K1(u)!==K1(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!is(u[d],h[d])))return!1;return!0}(n,e);default:return we()}}function bf(n,e){return(n.values||[]).find(t=>is(t,e))!==void 0}function ho(n,e){if(n===e)return 0;const t=co(n),r=co(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=St(o.integerValue||o.doubleValue),d=St(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return Y1(n.timestampValue,e.timestampValue);case 4:return Y1(Ef(n),Ef(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Ys(o),d=Ys(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=De(h[f],d[f]);if(g!==0)return g}return De(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=De(St(o.latitude),St(u.latitude));return h!==0?h:De(St(o.longitude),St(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Q1(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,f,g;const _=o.fields||{},v=u.fields||{},T=(h=_[Tc])===null||h===void 0?void 0:h.arrayValue,w=(d=v[Tc])===null||d===void 0?void 0:d.arrayValue,R=De(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:Q1(T,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Qa.mapValue&&u===Qa.mapValue)return 0;if(o===Qa.mapValue)return 1;if(u===Qa.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=De(d[_],g[_]);if(v!==0)return v;const T=ho(h[d[_]],f[g[_]]);if(T!==0)return T}return De(d.length,g.length)}(n.mapValue,e.mapValue);default:throw we()}}function Y1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ws(n),r=Ws(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function Q1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=ho(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function Sc(n){return $E(n)}function $E(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ws(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=$E(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${$E(t.fields[u])}`;return i+"}"}(n.mapValue):we()}function cg(n){switch(co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gy(n);return e?16+cg(e):16;case 5:return 2*n.stringValue.length;case 6:return Ys(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+cg(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return To(r.fields,(o,u)=>{i+=o.length+cg(u)}),i}(n.mapValue);default:throw we()}}function xl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function GE(n){return!!n&&"integerValue"in n}function wf(n){return!!n&&"arrayValue"in n}function X1(n){return!!n&&"nullValue"in n}function Z1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hg(n){return!!n&&"mapValue"in n}function Ky(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tw])===null||t===void 0?void 0:t.stringValue)===Sw}function Xd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return To(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uD}const hD={mapValue:{fields:{[Tw]:{stringValue:Sw},[Tc]:{arrayValue:{}}}}};function K8(n){return"nullValue"in n?ug:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xl(uo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Ky(n)?hD:{mapValue:{}}:we()}function W8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xl(uo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?hD:"mapValue"in n?Ky(n)?{mapValue:{}}:Qa:we()}function J1(n,e){const t=ho(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function eC(n,e){const t=ho(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xd(t)}setAll(e){let t=At.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Xd(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());hg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];hg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){To(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Mn(Xd(this.value))}}function dD(n){const e=[];return To(n.fields,(t,r)=>{const i=new At([t]);if(hg(r)){const o=dD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new vt(e,0,Ce.min(),Ce.min(),Ce.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Ce.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Ce.min(),Ce.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Ce.min(),Ce.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this.position=e,this.inclusive=t}}function tC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=ho(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!is(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{}class He extends fD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Q8(e,t,r):t==="array-contains"?new J8(e,r):t==="in"?new vD(e,r):t==="not-in"?new e7(e,r):t==="array-contains-any"?new t7(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new X8(e,r):new Z8(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ho(t,this.value)):t!==null&&co(this.value)===co(t)&&this.matchesComparison(ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends fD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return Ac(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ac(n){return n.op==="and"}function KE(n){return n.op==="or"}function Aw(n){return pD(n)&&Ac(n)}function pD(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function WE(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+Sc(n.value);if(Aw(n))return n.filters.map(e=>WE(e)).join(",");{const e=n.filters.map(t=>WE(t)).join(",");return`${n.op}(${e})`}}function mD(n,e){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&is(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&mD(u,i.filters[h]),!0):!1}(n,e):void we()}function gD(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function yD(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${Sc(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(yD).join(" ,")+"}"}(n):"Filter"}class Q8 extends He{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class X8 extends He{constructor(e,t){super(e,"in",t),this.keys=_D("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Z8 extends He{constructor(e,t){super(e,"not-in",t),this.keys=_D("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _D(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class J8 extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wf(t)&&bf(t.arrayValue,this.value)}}class vD extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bf(this.value.arrayValue,t)}}class e7 extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!bf(this.value.arrayValue,t)}}class t7 extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function YE(n,e=null,t=[],r=[],i=null,o=null,u=null){return new n7(n,e,t,r,i,o,u)}function Pl(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>WE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$f(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sc(r)).join(",")),e.le=t}return e.le}function Kf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nC(n.startAt,e.startAt)&&nC(n.endAt,e.endAt)}function jg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function zg(n,e){return n.filters.filter(t=>t instanceof He&&t.field.isEqual(e))}function rC(n,e,t){let r=ug,i=!0;for(const o of zg(n,e)){let u=ug,h=!0;switch(o.op){case"<":case"<=":u=K8(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=ug}J1({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];J1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function iC(n,e,t){let r=Qa,i=!0;for(const o of zg(n,e)){let u=Qa,h=!0;switch(o.op){case">=":case">":u=W8(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Qa}eC({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];eC({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ED(n,e,t,r,i,o,u,h){return new na(n,e,t,r,i,o,u,h)}function Kc(n){return new na(n)}function sC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Rw(n){return n.collectionGroup!==null}function ac(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new lt(At.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(h=h.add(f.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Tf(o,r))}),t.has(At.keyField().canonicalString())||e.he.push(new Tf(At.keyField(),r))}return e.he}function ar(n){const e=Ee(n);return e.Pe||(e.Pe=r7(e,ac(n))),e.Pe}function r7(n,e){if(n.limitType==="F")return YE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Tf(i.field,o)});const t=n.endAt?new fo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fo(n.startAt.position,n.startAt.inclusive):null;return YE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function QE(n,e){const t=n.filters.concat([e]);return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qg(n,e,t){return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wf(n,e){return Kf(ar(n),ar(e))&&n.limitType===e.limitType}function bD(n){return`${Pl(ar(n))}|lt:${n.limitType}`}function Yu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>yD(i)).join(", ")}]`),$f(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Sc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Sc(i)).join(",")),`Target(${r})`}(ar(n))}; limitType=${n.limitType})`}function Yf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of ac(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,d){const f=tC(u,h,d);return u.inclusive?f<=0:f<0}(r.startAt,ac(r),i)||r.endAt&&!function(u,h,d){const f=tC(u,h,d);return u.inclusive?f>=0:f>0}(r.endAt,ac(r),i))}(n,e)}function wD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TD(n){return(e,t)=>{let r=!1;for(const i of ac(n)){const o=i7(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function i7(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?ho(d,f):we()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return rD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=new yt(_e.comparator);function gr(){return s7}const SD=new yt(_e.comparator);function Bd(...n){let e=SD;for(const t of n)e=e.insert(t.key,t);return e}function AD(n){let e=SD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xi(){return Zd()}function RD(){return Zd()}function Zd(){return new ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const a7=new yt(_e.comparator),o7=new lt(_e.comparator);function Ve(...n){let e=o7;for(const t of n)e=e.add(t);return e}const l7=new lt(De);function Iw(){return l7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function ID(n){return{integerValue:""+n}}function CD(n,e){return Kk(e)?ID(e):Cw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function u7(n,e,t){return n instanceof Rc?function(i,o){const u={fields:{[aD]:{stringValue:sD},[lD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$y(o)&&(o=Gy(o)),o&&(u.fields[oD]=o),{mapValue:u}}(t,e):n instanceof Ol?PD(n,e):n instanceof kl?OD(n,e):function(i,o){const u=xD(i,o),h=aC(u)+aC(i.Ie);return GE(u)&&GE(i.Ie)?ID(h):Cw(i.serializer,h)}(n,e)}function c7(n,e,t){return n instanceof Ol?PD(n,e):n instanceof kl?OD(n,e):t}function xD(n,e){return n instanceof Ic?function(r){return GE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Rc extends Wy{}class Ol extends Wy{constructor(e){super(),this.elements=e}}function PD(n,e){const t=kD(e);for(const r of n.elements)t.some(i=>is(i,r))||t.push(r);return{arrayValue:{values:t}}}class kl extends Wy{constructor(e){super(),this.elements=e}}function OD(n,e){let t=kD(e);for(const r of n.elements)t=t.filter(i=>!is(i,r));return{arrayValue:{values:t}}}class Ic extends Wy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function aC(n){return St(n.integerValue||n.doubleValue)}function kD(n){return wf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.field=e,this.transform=t}}function h7(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ol&&i instanceof Ol||r instanceof kl&&i instanceof kl?yc(r.elements,i.elements,is):r instanceof Ic&&i instanceof Ic?is(r.Ie,i.Ie):r instanceof Rc&&i instanceof Rc}(n.transform,e.transform)}class d7{constructor(e,t){this.version=e,this.transformResults=t}}class Rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yy{}function DD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yc(n.key,Rt.none()):new Wc(n.key,n.data,Rt.none());{const t=n.data,r=Mn.empty();let i=new lt(At.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new ia(n.key,r,new mr(i.toArray()),Rt.none())}}function f7(n,e,t){n instanceof Wc?function(i,o,u){const h=i.value.clone(),d=lC(i.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ia?function(i,o,u){if(!dg(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=lC(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(ND(i)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Jd(n,e,t,r){return n instanceof Wc?function(o,u,h,d){if(!dg(o.precondition,u))return h;const f=o.value.clone(),g=uC(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof ia?function(o,u,h,d){if(!dg(o.precondition,u))return h;const f=uC(o.fieldTransforms,d,u),g=u.data;return g.setAll(ND(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return dg(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function p7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=xD(r.transform,i||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,o))}return t||null}function oC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yc(r,i,(o,u)=>h7(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wc extends Yy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ia extends Yy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ND(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lC(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,c7(u,h,t[i]))}return r}function uC(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,u7(o,u,e))}return r}class Yc extends Yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xw extends Yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&f7(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RD();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const d=DD(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(t,r)=>oC(t,r))&&yc(this.baseMutations,e.baseMutations,(t,r)=>oC(t,r))}}class Ow{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return a7}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Ow(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,Xe;function MD(n){switch(n){case ne.OK:return we();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we()}}function VD(n){if(n===void 0)return Yt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case sn.OK:return ne.OK;case sn.CANCELLED:return ne.CANCELLED;case sn.UNKNOWN:return ne.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ne.INTERNAL;case sn.UNAVAILABLE:return ne.UNAVAILABLE;case sn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case sn.NOT_FOUND:return ne.NOT_FOUND;case sn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case sn.ABORTED:return ne.ABORTED;case sn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case sn.DATA_LOSS:return ne.DATA_LOSS;default:return we()}}(Xe=sn||(sn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=new eo([4294967295,4294967295],0);function cC(n){const e=LD().encode(n),t=new Dk;return t.update(e),new Uint8Array(t.digest())}function hC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eo([t,r],0),new eo([i,o],0)]}class Dw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fd(`Invalid padding: ${t}`);if(r<0)throw new Fd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Fd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=eo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(eo.fromNumber(r)));return i.compare(g7)===1&&(i=new eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=cC(e),[r,i]=hC(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Dw(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=cC(e),[r,i]=hC(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Zf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Xf(Ce.min(),i,new yt(De),gr(),Ve())}}class Zf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Zf(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class UD{constructor(e,t){this.targetId=e,this.ge=t}}class BD{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class dC{constructor(){this.pe=0,this.ye=fC(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),r=Ve();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we()}}),new Zf(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=fC()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class y7{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gr(),this.$e=Mm(),this.Ke=Mm(),this.Ue=new yt(De)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(jg(o))if(r===0){const u=new _e(o.path);this.ze(t,u,vt.newNoDocument(u,Ce.min()))}else Ae(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Ys(r).toUint8Array()}catch(d){if(d instanceof iD)return rs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Dw(u,i,o)}catch(d){return rs(d instanceof Fd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&jg(h.target)){const d=new _e(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,vt.newNoDocument(d,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Ve();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const i=new Xf(e,t,this.Ue,this.Qe,r);return this.Qe=gr(),this.$e=Mm(),this.Ke=Mm(),this.Ue=new yt(De),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new dC,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(De),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(De),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dC),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Mm(){return new yt(_e.comparator)}function fC(){return new yt(_e.comparator)}const _7={asc:"ASCENDING",desc:"DESCENDING"},v7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E7={and:"AND",or:"OR"};class b7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function XE(n,e){return n.useProto3Json||$f(e)?e:{value:e}}function Cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function w7(n,e){return Cc(n,e.toTimestamp())}function Xt(n){return Ae(!!n),Ce.fromTimestamp(function(t){const r=Ws(t);return new It(r.seconds,r.nanos)}(n))}function Nw(n,e){return ZE(n,e).canonicalString()}function ZE(n,e){const t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function jD(n){const e=qe.fromString(n);return Ae(XD(e)),e}function Sf(n,e){return Nw(n.databaseId,e.path)}function es(n,e){const t=jD(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(HD(t))}function zD(n,e){return Nw(n.databaseId,e)}function qD(n){const e=jD(n);return e.length===4?qe.emptyPath():HD(e)}function JE(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HD(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function pC(n,e,t){return{name:Sf(n,e),fields:t.value.mapValue.fields}}function $D(n,e,t){const r=es(n,e.name),i=Xt(e.updateTime),o=e.createTime?Xt(e.createTime):Ce.min(),u=new Mn({mapValue:{fields:e.fields}}),h=vt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function T7(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const o=es(r,i.found.name),u=Xt(i.found.updateTime),h=i.found.createTime?Xt(i.found.createTime):Ce.min(),d=new Mn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(o,u,h,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const o=es(r,i.missing),u=Xt(i.readTime);return vt.newNoDocument(o,u)}(n,e):we()}function S7(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string"),Ht.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ht.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(f){const g=f.code===void 0?ne.UNKNOWN:VD(f.code);return new de(g,f.message||"")}(u);t=new BD(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=es(n,r.document.name),o=Xt(r.document.updateTime),u=r.document.createTime?Xt(r.document.createTime):Ce.min(),h=new Mn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new fg(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=es(n,r.document),o=r.readTime?Xt(r.readTime):Ce.min(),u=vt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new fg([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=es(n,r.document),o=r.removedTargetIds||[];t=new fg([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new m7(i,o),h=r.targetId;t=new UD(h,u)}}return t}function Af(n,e){let t;if(e instanceof Wc)t={update:pC(n,e.key,e.value)};else if(e instanceof Yc)t={delete:Sf(n,e.key)};else if(e instanceof ia)t={update:pC(n,e.key,e.data),updateMask:P7(e.fieldMask)};else{if(!(e instanceof xw))return we();t={verify:Sf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof Rc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ic)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw we()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:w7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(n,e.precondition)),t}function eb(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?Rt.updateTime(Xt(o.updateTime)):o.exists!==void 0?Rt.exists(o.exists):Rt.none()}(e.currentDocument):Rt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME"),d=new Rc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new Ol(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new kl(g)}else"increment"in h?d=new Ic(u,h.increment):we();const f=At.fromServerFormat(h.fieldPath);return new Qf(f,d)}(n,i)):[];if(e.update){e.update.name;const i=es(n,e.update.name),o=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(d){const f=d.fieldPaths||[];return new mr(f.map(g=>At.fromServerFormat(g)))}(e.updateMask);return new ia(i,o,u,t,r)}return new Wc(i,o,t,r)}if(e.delete){const i=es(n,e.delete);return new Yc(i,t)}if(e.verify){const i=es(n,e.verify);return new xw(i,t)}return we()}function A7(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?Xt(i.updateTime):Xt(o);return u.isEqual(Ce.min())&&(u=Xt(o)),new d7(u,i.transformResults||[])}(t,e))):[]}function GD(n,e){return{documents:[zD(n,e.path)]}}function KD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zD(n,i);const o=function(f){if(f.length!==0)return QD(ot.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:Qu(v.field),direction:I7(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=XE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function WD(n){let e=qD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=YD(_);return v instanceof ot&&Aw(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(w){return new Tf(Xu(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,$f(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,T=_.values||[];return new fo(T,v)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const v=!_.before,T=_.values||[];return new fo(T,v)}(t.endAt)),ED(e,i,u,o,h,"F",d,f)}function R7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xu(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xu(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xu(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xu(t.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return He.create(Xu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>YD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function I7(n){return _7[n]}function C7(n){return v7[n]}function x7(n){return E7[n]}function Qu(n){return{fieldPath:n.canonicalString()}}function Xu(n){return At.fromServerFormat(n.fieldPath)}function QD(n){return n instanceof He?function(t){if(t.op==="=="){if(Z1(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NAN"}};if(X1(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Z1(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NAN"}};if(X1(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qu(t.field),op:C7(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>QD(i));return r.length===1?r[0]:{compositeFilter:{op:x7(t.op),filters:r}}}(n):we()}function P7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t,r,i,o=Ce.min(),u=Ce.min(),h=Ht.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.Tt=e}}function O7(n,e){let t;if(e.document)t=$D(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=Nl(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const r=_e.fromSegments(e.unknownDocument.path),i=Nl(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new It(i[0],i[1]);return Ce.fromTimestamp(o)}(e.readTime)),t}function mC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:Sf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Cc(o,u.version.toTimestamp()),createTime:Cc(o,u.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Dl(e.version)};else{if(!e.isUnknownDocument())return we();r.unknownDocument={path:t.path.toArray(),version:Dl(e.version)}}return r}function Hg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(n){const e=new It(n.seconds,n.nanoseconds);return Ce.fromTimestamp(e)}function cl(n,e){const t=(e.baseMutations||[]).map(o=>eb(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>eb(n.Tt,o)),i=It.fromMillis(e.localWriteTimeMs);return new Pw(e.batchId,i,t,r)}function jd(n){const e=Nl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Nl(n.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ae(o.documents.length===1),ar(Kc(qD(o.documents[0])))}(n.query):function(o){return ar(WD(o))}(n.query),new Bs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ht.fromBase64String(n.resumeToken))}function JD(n,e){const t=Dl(e.snapshotVersion),r=Dl(e.lastLimboFreeSnapshotVersion);let i;i=jg(e.target)?GD(n.Tt,e.target):KD(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Mw(n){const e=WD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qg(e,e.limit,"L"):e}function Z0(n,e){return new kw(e.largestBatchId,eb(n.Tt,e.overlayMutation))}function gC(n,e){const t=e.path.lastSegment();return[n,Yn(e.path.popLast()),t]}function yC(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Dl(r.readTime),documentKey:Yn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{getBundleMetadata(e,t){return _C(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Nl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return _C(e).put(function(i){return{bundleId:i.id,createTime:Dl(Xt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return vC(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Mw(o.bundledQuery),readTime:Nl(o.readTime)}}(r)})}saveNamedQuery(e,t){return vC(e).put(function(i){return{name:i.name,readTime:Dl(Xt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function _C(n){return yn(n,zy)}function vC(n){return yn(n,qy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new Qy(e,r)}getOverlay(e,t){return Ad(e).get(gC(this.userId,t)).next(r=>r?Z0(this.serializer,r):null)}getOverlays(e,t){const r=Xi();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new kw(t,u);i.push(this.Et(e,h))}),Q.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Yn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Ad(e).J(zE,h))}),Q.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Xi(),o=Yn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ad(e).G(zE,u).next(h=>{for(const d of h){const f=Z0(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Xi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ad(e).Z({index:Jk,range:h},(d,f,g)=>{const _=Z0(this.serializer,f);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return Ad(e).put(function(i,o,u){const[h,d,f]=gC(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Af(i.Tt,u.mutation)}}(this.serializer,this.userId,t))}}function Ad(n){return yn(n,Hy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{dt(e){return yn(e,bw)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Ht.fromUint8Array(r):Ht.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(St(e.integerValue));else if("doubleValue"in e){const r=St(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),gf(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Ws(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Ys(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?cD(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Ky(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):we()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const u=Tc,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(St(h)),this.wt(u,t),this.Rt(o[u],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}}hl.xt=new hl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=255;function N7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function EC(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=N7(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class M7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=EC(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=EC(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(qu),this.jt(255)}Ht(){this.Jt(qu),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===qu?(this.jt(qu),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===qu?(this.Jt(qu),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class V7{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class L7{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Rd{constructor(){this.Zt=new M7,this.Xt=new V7(this.Zt),this.en=new L7(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new dl(this.indexId,this.documentKey,this.arrayValue,r)}}function qa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=bC(n.arrayValue,e.arrayValue),t!==0?t:(t=bC(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function bC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.rn=new lt((t,r)=>At.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=BE(e);if(t!==void 0&&!this.cn(t))return!1;const r=ol(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const h=this.rn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const d=r[o];if(!this.ln(h,d)||!this.hn(this.sn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.sn.length||!this.hn(this.sn[u++],h))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(At.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new ag(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new ag(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new ag(r.field,r.dir==="asc"?0:1)));return new Mg(Mg.UNKNOWN_ID,this.collectionId,t,mf.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(n){var e,t;if(Ae(n instanceof He||n instanceof ot),n instanceof He){if(n instanceof vD){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>He.create(n.field,"==",o)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>eN(i));return ot.create(r,n.op)}function U7(n){if(n.getFilters().length===0)return[];const e=rb(eN(n));return Ae(tN(e)),tb(e)||nb(e)?[e]:e.getFilters()}function tb(n){return n instanceof He}function nb(n){return n instanceof ot&&Aw(n)}function tN(n){return tb(n)||nb(n)||function(t){if(t instanceof ot&&KE(t)){for(const r of t.getFilters())if(!tb(r)&&!nb(r))return!1;return!0}return!1}(n)}function rb(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;if(n.filters.length===1)return rb(n.filters[0]);const e=n.filters.map(r=>rb(r));let t=ot.create(e,n.op);return t=$g(t),tN(t)?t:(Ae(t instanceof ot),Ae(Ac(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>Vw(r,i)))}function Vw(n,e){let t;return Ae(n instanceof He||n instanceof ot),Ae(e instanceof He||e instanceof ot),t=n instanceof He?e instanceof He?function(i,o){return ot.create([i,o],"and")}(n,e):TC(n,e):e instanceof He?TC(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0),Ac(i)&&Ac(o))return gD(i,o.getFilters());const u=KE(i)?i:o,h=KE(i)?o:i,d=u.filters.map(f=>Vw(f,h));return ot.create(d,"or")}(n,e),$g(t)}function TC(n,e){if(Ac(e))return gD(e,n.getFilters());{const t=e.filters.map(r=>Vw(n,r));return ot.create(t,"or")}}function $g(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return $g(e[0]);if(pD(n))return n;const t=e.map(i=>$g(i)),r=[];return t.forEach(i=>{i instanceof He?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(){this.Tn=new Lw}addToCollectionParentIndex(e,t){return this.Tn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Lr.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class Lw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="IndexedDbIndexManager",Vm=new Uint8Array(0);class F7{constructor(e,t){this.databaseId=t,this.In=new Lw,this.En=new ra(r=>Pl(r),(r,i)=>Kf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:Yn(i)};return AC(e).put(o)}return Q.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[jk(t),""],!1,!0);return AC(e).G(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Qi(u.parent))}return r})}addFieldIndex(e,t){const r=Id(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=$u(e);return o.next(h=>{u.put(yC(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Id(e),i=$u(e),o=Hu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Id(e),r=Hu(e),i=$u(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return Q.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new wC(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Hu(e);let i=!0;const o=new Map;return Q.forEach(this.dn(t),u=>this.An(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Ve();const h=[];return Q.forEach(o,(d,f)=>{pe(SC,`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`}(d)} to execute ${Pl(t)}`);const g=function(U,H){const j=BE(H);if(j===void 0)return null;for(const $ of zg(U,j.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null}(f,d),_=function(U,H){const j=new Map;for(const $ of ol(H))for(const M of zg(U,$.fieldPath))switch(M.op){case"==":case"in":j.set($.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return j.set($.fieldPath.canonicalString(),M.value),Array.from(j.values())}return null}(f,d),v=function(U,H){const j=[];let $=!0;for(const M of ol(H)){const C=M.kind===0?rC(U,M.fieldPath,U.startAt):iC(U,M.fieldPath,U.startAt);j.push(C.value),$&&($=C.inclusive)}return new fo(j,$)}(f,d),T=function(U,H){const j=[];let $=!0;for(const M of ol(H)){const C=M.kind===0?iC(U,M.fieldPath,U.endAt):rC(U,M.fieldPath,U.endAt);j.push(C.value),$&&($=C.inclusive)}return new fo(j,$)}(f,d),w=this.Rn(d,f,v),R=this.Rn(d,f,T),x=this.Vn(d,f,_),B=this.mn(d.indexId,g,w,v.inclusive,R,T.inclusive,x);return Q.forEach(B,L=>r.H(L,t.limit).next(U=>{U.forEach(H=>{const j=_e.fromSegments(H.documentKey);u.has(j)||(u=u.add(j),h.push(j))})}))}).next(()=>h)}return Q.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=U7(ot.create(e.filters,"and")).map(r=>YE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.fn(t[_/f]):Vm,T=this.gn(e,v,r[_%f],i),w=this.pn(e,v,o[_%f],u),R=h.map(x=>this.gn(e,v,x,!0));g.push(...this.createRange(T,w,R))}return g}gn(e,t,r,i){const o=new dl(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new dl(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new wC(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.un(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.dn(t);return Q.forEach(i,o=>this.An(e,o).next(u=>{u?r!==0&&u.fields.length<function(d){let f=new lt(At.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Rd;for(const i of ol(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.tn(i.kind);hl.xt.At(o,u)}return r.Yt()}fn(e){const t=new Rd;return hl.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Rd;return hl.xt.At(xl(this.databaseId,t),r.tn(function(o){const u=ol(o);return u.length===0?0:u[u.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Rd);let o=0;for(const u of ol(e)){const h=r[o++];for(const d of i)if(this.Sn(t,u.fieldPath)&&wf(h))i=this.bn(i,u,h);else{const f=d.tn(u.kind);hl.xt.At(h,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}bn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const d=new Rd;d.seed(h.Yt()),hl.xt.At(u,d.tn(t.kind)),o.push(d)}return o}Sn(e,t){return!!e.filters.find(r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Id(e),i=$u(e);return(t?r.G(jE,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const u=[];return Q.forEach(o,h=>i.get([h.indexId,this.uid]).next(d=>{u.push(function(g,_){const v=_?new mf(_.sequenceNumber,new Lr(Nl(_.readTime),new _e(Qi(_.documentKey)),_.largestBatchId)):mf.empty(),T=g.fields.map(([w,R])=>new ag(At.fromServerFormat(w),R));return new Mg(g.indexId,g.collectionGroup,T,v)}(h,d))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Id(e),o=$u(e);return this.vn(e).next(u=>i.G(jE,IDBKeyRange.bound(t,t)).next(h=>Q.forEach(h,d=>o.put(yC(d.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return Q.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?Q.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),Q.forEach(h,d=>this.Cn(e,i,d).next(f=>{const g=this.Fn(o,d);return f.isEqual(g)?Q.resolve():this.Mn(e,o,d,f,g)}))))})}xn(e,t,r,i){return Hu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return Hu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=Hu(e);let o=new lt(qa);return i.Z({index:Zk,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(u,h)=>{o=o.add(new dl(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Fn(e,t){let r=new lt(qa);const i=this.yn(t,e);if(i==null)return r;const o=BE(t);if(o!=null){const u=e.data.field(o.fieldPath);if(wf(u))for(const h of u.arrayValue.values||[])r=r.add(new dl(t.indexId,e.key,this.fn(h),i))}else r=r.add(new dl(t.indexId,e.key,Vm,i));return r}Mn(e,t,r,i,o){pe(SC,"Updating index entries for document '%s'",t.key);const u=[];return function(d,f,g,_,v){const T=d.getIterator(),w=f.getIterator();let R=zu(T),x=zu(w);for(;R||x;){let B=!1,L=!1;if(R&&x){const U=g(R,x);U<0?L=!0:U>0&&(B=!0)}else R!=null?L=!0:B=!0;B?(_(x),x=zu(w)):L?(v(R),R=zu(T)):(R=zu(T),x=zu(w))}}(i,o,qa,h=>{u.push(this.xn(e,t,r,h))},h=>{u.push(this.On(e,t,r,h))}),Q.waitFor(u)}vn(e){let t=1;return $u(e).Z({index:Xk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>qa(u,h)).filter((u,h,d)=>!h||qa(u,d[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=qa(u,e),d=qa(u,t);if(h===0)i[0]=e.nn();else if(h>0&&d<0)i.push(u),i.push(u.nn());else if(d>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Nn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,Vm,[]],d=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,Vm,[]];o.push(IDBKeyRange.bound(h,d))}return o}Nn(e,t){return qa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(RC)}getMinOffset(e,t){return Q.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||we())).next(RC)}}function AC(n){return yn(n,vf)}function Hu(n){return yn(n,Fg)}function Id(n){return yn(n,Ew)}function $u(n){return yn(n,Bg)}function RC(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;yw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Lr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nN=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n,e,t){const r=n.store(gi),i=n.store(vc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.Z({range:u},(g,_,v)=>(h++,v.delete()));o.push(d.next(()=>{Ae(h===1)}));const f=[];for(const g of t.mutations){const _=Wk(e,g.key.path,t.batchId);o.push(i.delete(_)),f.push(g.key)}return Q.waitFor(o).next(()=>f)}function Gg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(nN,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);class Xy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Xy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).Z({index:gl,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Zu(e),u=Ha(e);return u.add({}).next(h=>{Ae(typeof h=="number");const d=new Pw(h,t,r,i),f=function(T,w,R){const x=R.baseMutations.map(L=>Af(T.Tt,L)),B=R.mutations.map(L=>Af(T.Tt,L));return{userId:w,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:x,mutations:B}}(this.serializer,this.userId,d),g=[];let _=new lt((v,T)=>De(v.canonicalString(),T.canonicalString()));for(const v of i){const T=Wk(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(T,E8))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[h]=d.keys()}),Q.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Ha(e).get(t).next(r=>r?(Ae(r.userId===this.userId),cl(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?Q.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ha(e).Z({index:gl,range:i},(u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r),o=cl(this.serializer,h)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=to;return Ha(e).Z({index:gl,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,to],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).G(gl,t).next(r=>r.map(i=>cl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=og(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Zu(e).Z({range:i},(u,h,d)=>{const[f,g,_]=u,v=Qi(g);if(f===this.userId&&t.path.isEqual(v))return Ha(e).get(_).next(T=>{if(!T)throw we();Ae(T.userId===this.userId),o.push(cl(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(De);const i=[];return t.forEach(o=>{const u=og(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Zu(e).Z({range:h},(f,g,_)=>{const[v,T,w]=f,R=Qi(T);v===this.userId&&o.path.isEqual(R)?r=r.add(w):_.done()});i.push(d)}),Q.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=og(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new lt(De);return Zu(e).Z({range:u},(d,f,g)=>{const[_,v,T]=d,w=Qi(v);_===this.userId&&r.isPrefixOf(w)?w.length===i&&(h=h.add(T)):g.done()}).next(()=>this.kn(e,h))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ha(e).get(o).next(u=>{if(u===null)throw we();Ae(u.userId===this.userId),r.push(cl(this.serializer,u))}))}),Q.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return rN(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),Q.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Q.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Zu(e).Z({range:r},(o,u,h)=>{if(o[0]===this.userId){const d=Qi(o[1]);i.push(d)}else h.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return iN(e,this.userId,t)}Qn(e){return sN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:to,lastStreamToken:""})}}function iN(n,e,t){const r=og(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Zu(n).Z({range:o,Y:!0},(h,d,f)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),f.done()}).next(()=>u)}function Ha(n){return yn(n,gi)}function Zu(n){return yn(n,vc)}function sN(n){return yn(n,yf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ml(0)}static Un(){return new Ml(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new Ml(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Ce.fromTimestamp(new It(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Gu(e).Z((u,h)=>{const d=jd(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>Q.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Gu(e).Z((r,i)=>{const o=jd(i);t(o)})}Wn(e){return CC(e).get(Ug).next(t=>(Ae(t!==null),t))}Gn(e,t){return CC(e).put(Ug,t)}zn(e,t){return Gu(e).put(JD(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Gu(e).Z({range:i,index:Qk},(u,h,d)=>{const f=jd(h);Kf(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Wa(e);return t.forEach(u=>{const h=Yn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),Q.waitFor(i)}removeMatchingKeys(e,t,r){const i=Wa(e);return Q.forEach(t,o=>{const u=Yn(o.path);return Q.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Wa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Wa(e);let o=Ve();return i.Z({range:r,Y:!0},(u,h,d)=>{const f=Qi(u[1]),g=new _e(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Yn(t.path),i=IDBKeyRange.bound([r],[jk(r)],!1,!0);let o=0;return Wa(e).Z({index:vw,Y:!0,range:i},([u,h],d,f)=>{u!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Gu(e).get(t).next(r=>r?jd(r):null)}}function Gu(n){return yn(n,Ec)}function CC(n){return yn(n,wl)}function Wa(n){return yn(n,bc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="LruGarbageCollector",z7=1048576;function PC([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class q7{constructor(e){this.Hn=e,this.buffer=new lt(PC),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();PC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(xC,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wo(t)?pe(xC,"Ignoring IndexedDB error during garbage collection: ",t):await bo(t)}await this.er(3e5)})}}class H7{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(pr.ae);const r=new q7(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(IC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IC):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Wu()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function oN(n,e){return new H7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,t){this.db=e,this.garbageCollector=oN(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Lm(e,r)}removeReference(e,t,r){return Lm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Lm(e,t)}ar(e,t){return function(i,o){let u=!1;return sN(i).X(h=>iN(i,h,o).next(d=>(d&&(u=!0),Q.resolve(!d)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(u,h)=>{if(h<=t){const d=this.ar(e,u).next(f=>{if(!f)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ce.min()),Wa(e).delete(function(_){return[0,Yn(_.path)]}(u))))});i.push(d)}}).next(()=>Q.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Lm(e,t)}_r(e,t){const r=Wa(e);let i,o=pr.ae;return r.Z({index:vw},([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==pr.ae&&t(new _e(Qi(i)),o),o=f,i=d):o=pr.ae}).next(()=>{o!==pr.ae&&t(new _e(Qi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lm(n,e){return Wa(n).put(function(r,i){return{targetId:0,path:Yn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return il(e).put(r)}removeEntry(e,t,r){return il(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Hg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return il(e).Z({index:lg,range:IDBKeyRange.only(Cd(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return il(e).Z({index:lg,range:IDBKeyRange.only(Cd(t))},(i,o)=>{r={document:this.cr(t,o),size:Gg(o)}}).next(()=>r)}getEntries(e,t){let r=gr();return this.hr(e,t,(i,o)=>{const u=this.cr(i,o);r=r.insert(i,u)}).next(()=>r)}Pr(e,t){let r=gr(),i=new yt(_e.comparator);return this.hr(e,t,(o,u)=>{const h=this.cr(o,u);r=r.insert(o,h),i=i.insert(o,Gg(u))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return Q.resolve();let i=new lt(DC);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(Cd(i.first()),Cd(i.last())),u=i.getIterator();let h=u.getNext();return il(e).Z({index:lg,range:o},(d,f,g)=>{const _=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&DC(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.W(Cd(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Hg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return il(e).G(IDBKeyRange.bound(h,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=gr();for(const _ of f){const v=this.cr(_e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Yf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=gr();const u=kC(t,r),h=kC(t,Lr.max());return il(e).Z({index:Yk,range:IDBKeyRange.bound(u,h,!0)},(d,f,g)=>{const _=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new K7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return OC(e).get(FE).next(t=>(Ae(!!t),t))}ur(e,t){return OC(e).put(FE,t)}cr(e,t){if(t){const r=O7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return vt.newInvalidDocument(e)}}function uN(n){return new G7(n)}class K7 extends lN{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new ra(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((o,u)=>De(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=mC(this.Ir.serializer,u);i=i.add(o.path.popLast());const f=Gg(d);r+=f-h.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=mC(this.Ir.serializer,u.convertToNoDocument(Ce.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),Q.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function OC(n){return yn(n,_f)}function il(n){return yn(n,Lg)}function Cd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kC(n,e){const t=e.documentKey.path.toArray();return[n,Hg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function DC(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Jd(r.mutation,i,mr.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Bd();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=gr();const u=Zd(),h=function(){return Zd()}();return t.forEach((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof ia)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Jd(g.mutation,f,g.mutation.getFieldMask(),It.now())):u.set(f.key,mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>u.set(f,g)),t.forEach((f,g)=>{var _;return h.set(f,new W7(g,(_=u.get(f))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Zd();let i=new yt((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||mr.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(i.get(h.batchId)||Ve()).add(d);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=RD();g.forEach(v=>{if(!o.has(v)){const T=DD(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return Q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Q.resolve(Xi());let h=_c,d=o;return u.next(f=>Q.forEach(f,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?Q.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Ve())).next(g=>({batchId:h,changes:AD(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Bd();return this.indexManager.getCollectionParents(e,o).next(h=>Q.forEach(h,d=>{const f=function(_,v){return new na(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,vt.newInvalidDocument(g)))});let h=Bd();return u.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Jd(g.mutation,f,mr.empty(),It.now()),Yf(t,f)&&(h=h.insert(d,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Q.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Mw(i.bundledQuery),readTime:Xt(i.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(){this.overlays=new yt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xi();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const i=Xi(),o=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((f,g)=>f-g);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Xi(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Xi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>h.set(f,g)),!(h.size()>=i)););return Q.resolve(h)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kw(t,r));let o=this.Rr.get(t);o===void 0&&(o=Ve(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.Vr=new lt(An.mr),this.gr=new lt(An.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new An(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new An(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new qe([])),r=new An(t,e),i=new An(t,e+1),o=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new qe([])),r=new An(t,e),i=new An(t,e+1);let o=Ve();return this.gr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new An(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||De(e.Cr,t.Cr)}static pr(e,t){return De(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(An.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Pw(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Mr=this.Mr.add(new An(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,t){return Q.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?to:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new An(t,0),i=new An(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],u=>{const h=this.Or(u.Cr);o.push(h)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(De);return t.forEach(i=>{const o=new An(i,0),u=new An(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),Q.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new An(new _e(o),0);let h=new lt(De);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(h=h.add(d.Cr)),!0)},u),Q.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Q.forEach(t.mutations,i=>{const o=new An(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new An(t,0),i=this.Mr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.kr=e,this.docs=function(){return new yt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=gr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vt.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gr();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||yw(qk(g),r)<=0||(i.has(g.key)||Yf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we()}qr(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new e$(this)}getSize(e){return Q.resolve(this.size)}}class e$ extends lN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.persistence=e,this.Qr=new ra(t=>Pl(t),Kf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Uw,this.targetCount=0,this.Ur=Ml.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Q.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.zn(t),Q.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new pr(0),this.zr=!1,this.zr=!0,this.jr=new X7,this.referenceDelegate=e(this),this.Hr=new t$(this),this.indexManager=new B7,this.remoteDocumentCache=function(i){return new J7(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new ZD(t),this.Yr=new Y7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Z7(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new n$(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return Q.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class n$ extends $k{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.ti=new Uw,this.ni=null}static ri(e){return new Zy(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Q.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Q.or([()=>Q.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Kg{constructor(e,t){this.persistence=e,this.oi=new ra(r=>Yn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=oN(this,t)}static ri(e,t){return new Kg(e,t)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Q.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?Q.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cg(e.data.value)),t}ar(e,t,r){return Q.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.serializer=e}B(e,t,r,i){const o=new jy("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Gf)}(e),function(d){d.createObjectStore(yf,{keyPath:v8}),d.createObjectStore(gi,{keyPath:$1,autoIncrement:!0}).createIndex(gl,G1,{unique:!0}),d.createObjectStore(vc)}(e),NC(e),function(d){d.createObjectStore(ll)}(e));let u=Q.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(bc),d.deleteObjectStore(Ec),d.deleteObjectStore(wl)}(e),NC(e)),u=u.next(()=>function(d){const f=d.store(wl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return f.put(Ug,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(d,f){return f.store(gi).G().next(_=>{d.deleteObjectStore(gi),d.createObjectStore(gi,{keyPath:$1,autoIncrement:!0}).createIndex(gl,G1,{unique:!0});const v=f.store(gi),T=_.map(w=>v.put(w));return Q.waitFor(T)})}(e,o))),u=u.next(()=>{(function(d){d.createObjectStore(wc,{keyPath:C8})})(e)})),r<5&&i>=5&&(u=u.next(()=>this._i(o))),r<6&&i>=6&&(u=u.next(()=>(function(d){d.createObjectStore(_f)}(e),this.ai(o)))),r<7&&i>=7&&(u=u.next(()=>this.ui(o))),r<8&&i>=8&&(u=u.next(()=>this.ci(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.li(o))),r<11&&i>=11&&(u=u.next(()=>{(function(d){d.createObjectStore(zy,{keyPath:x8})})(e),function(d){d.createObjectStore(qy,{keyPath:P8})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(d){const f=d.createObjectStore(Hy,{keyPath:L8});f.createIndex(zE,U8,{unique:!1}),f.createIndex(Jk,B8,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(d){const f=d.createObjectStore(Lg,{keyPath:b8});f.createIndex(lg,w8),f.createIndex(Yk,T8)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(ll))),r<14&&i>=14&&(u=u.next(()=>this.Pi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(d){d.createObjectStore(Ew,{keyPath:O8,autoIncrement:!0}).createIndex(jE,k8,{unique:!1}),d.createObjectStore(Bg,{keyPath:D8}).createIndex(Xk,N8,{unique:!1}),d.createObjectStore(Fg,{keyPath:M8}).createIndex(Zk,V8,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(Bg).clear()}).next(()=>{t.objectStore(Fg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(d){d.createObjectStore(bw,{keyPath:F8})})(e)})),u}ai(e){let t=0;return e.store(ll).Z((r,i)=>{t+=Gg(i)}).next(()=>{const r={byteSize:t};return e.store(_f).put(FE,r)})}_i(e){const t=e.store(yf),r=e.store(gi);return t.G().next(i=>Q.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,to],[o.userId,o.lastAcknowledgedBatchId]);return r.G(gl,u).next(h=>Q.forEach(h,d=>{Ae(d.userId===o.userId);const f=cl(this.serializer,d);return rN(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(bc),r=e.store(ll);return e.store(wl).get(Ug).next(i=>{const o=[];return r.Z((u,h)=>{const d=new qe(u),f=function(_){return[0,Yn(_)]}(d);o.push(t.get(f).next(g=>g?Q.resolve():(_=>t.put({targetId:0,path:Yn(_),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>Q.waitFor(o))})}ci(e,t){e.createObjectStore(vf,{keyPath:I8});const r=t.store(vf),i=new Lw,o=u=>{if(i.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:Yn(d)})}};return t.store(ll).Z({Y:!0},(u,h)=>{const d=new qe(u);return o(d.popLast())}).next(()=>t.store(vc).Z({Y:!0},([u,h,d],f)=>{const g=Qi(h);return o(g.popLast())}))}li(e){const t=e.store(Ec);return t.Z((r,i)=>{const o=jd(i),u=JD(this.serializer,o);return t.put(u)})}hi(e,t){const r=t.store(ll),i=[];return r.Z((o,u)=>{const h=t.store(Lg),d=function(_){return _.document?new _e(qe.fromString(_.document.name).popFirst(5)):_.noDocument?_e.fromSegments(_.noDocument.path):_.unknownDocument?_e.fromSegments(_.unknownDocument.path):we()}(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(f))}).next(()=>Q.waitFor(i))}Pi(e,t){const r=t.store(gi),i=uN(this.serializer),o=new Bw(Zy.ri,this.serializer.Tt);return r.G().next(u=>{const h=new Map;return u.forEach(d=>{var f;let g=(f=h.get(d.userId))!==null&&f!==void 0?f:Ve();cl(this.serializer,d).keys().forEach(_=>g=g.add(_)),h.set(d.userId,g)}),Q.forEach(h,(d,f)=>{const g=new Rn(f),_=Qy.It(this.serializer,g),v=o.getIndexManager(g),T=Xy.It(g,this.serializer,v,o.referenceDelegate);return new cN(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new qE(t,pr.ae),d).next()})})}}function NC(n){n.createObjectStore(bc,{keyPath:A8}).createIndex(vw,R8,{unique:!0}),n.createObjectStore(Ec,{keyPath:"targetId"}).createIndex(Qk,S8,{unique:!0}),n.createObjectStore(wl)}const $a="IndexedDbPersistence",J0=18e5,eE=5e3,tE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hN="main";class Fw{constructor(e,t,r,i,o,u,h,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=u,this.document=h,this.Ii=f,this.Ei=g,this.di=_,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!Fw.D())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $7(this,i),this.gi=t+hN,this.serializer=new ZD(d),this.pi=new Ji(this.gi,this.di,new r$(this.serializer)),this.jr=new D7,this.Hr=new j7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=uN(this.serializer),this.Yr=new k7,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Yt($a,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,tE);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new pr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Um(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(wo(e))return pe($a,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe($a,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return xd(e).get(ju).next(t=>Q.resolve(this.Ni(t)))}Bi(e){return Um(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,J0)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=yn(t,wc);return r.G().next(i=>{const o=this.qi(i,J0),u=i.filter(h=>o.indexOf(h)===-1);return Q.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?Q.resolve(!0):xd(e).get(ju).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,eE)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,tE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Um(e).G().next(r=>this.qi(r,eE).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe($a,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Gf,wc],e=>{const t=new qE(e,pr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Um(e).G().next(t=>this.qi(t,J0).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Xy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new F7(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Qy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe($a,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?q8:d===16?z8:d===15?ww:d===14?nD:d===13?tD:d===12?j8:d===11?eD:void we()}(this.di);let u;return this.pi.runTransaction(e,i,o,h=>(u=new qE(h,this.Gr?this.Gr.next():pr.ae),t==="readwrite-primary"?this.Fi(u).next(d=>!!d||this.Mi(u)).next(d=>{if(!d)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new de(ne.FAILED_PRECONDITION,Hk);return r(u)}).next(d=>this.Oi(u).next(()=>d)):this.ji(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}ji(e){return xd(e).get(ju).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,eE)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,tE)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xd(e).put(ju,t)}static D(){return Ji.D()}xi(e){const t=xd(e);return t.get(ju).next(r=>this.Ni(r)?(pe($a,"Releasing primary lease."),t.delete(ju)):Q.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Yt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;mO()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return pe($a,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yt($a,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xd(n){return yn(n,Gf)}function Um(n){return yn(n,wc)}function jw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new zw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return mO()?8:Gk(Mt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new i$;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Wu()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Yu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Wu()<=je.DEBUG&&pe("QueryEngine","Query:",Yu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Wu()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Yu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):Q.resolve())}rs(e,t){if(sC(t))return Q.resolve(null);let r=ar(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=qg(t,null,"F"),r=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,h);return this.ls(t,f,u,d.readTime)?this.rs(e,qg(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return sC(t)||i.isEqual(Ce.min())?Q.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,i)?Q.resolve(null):(Wu()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yu(t)),this.hs(e,u,t,zk(i,_c)).next(h=>h))})}cs(e,t){let r=new lt(TD(e));return t.forEach((i,o)=>{Yf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Wu()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Yu(t)),this.ns.getDocumentsMatchingQuery(e,t,Lr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="LocalStore",s$=3e8;class a${constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new yt(De),this.Is=new ra(o=>Pl(o),Kf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function fN(n,e,t,r){return new a$(n,e,t,r)}async function pN(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Ve();for(const f of i){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:u,addedBatchIds:h}))})})}function o$(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,f,g){const _=f.batch,v=_.keys();let T=Q.resolve();return v.forEach(w=>{T=T.next(()=>g.getEntry(d,w)).next(R=>{const x=f.docVersions.get(w);Ae(x!==null),R.version.compareTo(x)<0&&(_.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),g.addEntry(R)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Ve();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function mN(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function l$(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Ht.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(R,x,B){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=s$?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(v,T,g)&&h.push(t.Hr.updateTargetData(o,T))});let d=gr(),f=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(gN(o,u,e.documentUpdates).next(g=>{d=g.Vs,f=g.fs})),!r.isEqual(Ce.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return Q.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function gN(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=gr();return t.forEach((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(qw,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)}),{Vs:u,fs:i}})}function u$(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=to),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):t.Hr.allocateTargetId(r).next(u=>(i=new Bs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Pc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!wo(u))throw u;pe(qw,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Wg(n,e,t){const r=Ee(n);let i=Ce.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,f,g){const _=Ee(d),v=_.Is.get(g);return v!==void 0?Q.resolve(_.Ts.get(v)):_.Hr.getTargetData(f,g)}(r,u,ar(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?i:Ce.min(),t?o:Ve())).next(h=>(vN(r,wD(e),h),{documents:h,gs:o})))}function yN(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(u=>u?u.target:null))}function _N(n,e){const t=Ee(n),r=t.Es.get(e)||Ce.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,zk(r,_c),Number.MAX_SAFE_INTEGER)).then(i=>(vN(t,e,i),i))}function vN(n,e,t){let r=n.Es.get(e)||Ce.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function c$(n,e,t,r){const i=Ee(n);let o=Ve(),u=gr();for(const f of t){const g=e.ps(f.metadata.name);f.document&&(o=o.add(g));const _=e.ys(f);_.setReadTime(e.ws(f.metadata.readTime)),u=u.insert(g,_)}const h=i.ds.newChangeBuffer({trackRemovals:!0}),d=await xc(i,function(g){return ar(Kc(qe.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>gN(f,h,u).next(g=>(h.apply(f),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,g.Vs,g.fs)).next(()=>g.Vs)))}async function h$(n,e,t=Ve()){const r=await xc(n,ar(Mw(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Xt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Yr.saveNamedQuery(o,e);const h=r.withResumeToken(Ht.EMPTY_BYTE_STRING,u);return i.Ts=i.Ts.insert(h.targetId,h),i.Hr.updateTargetData(o,h).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firestore_clients";function MC(n,e){return`${EN}_${n}_${e}`}const bN="firestore_mutations";function VC(n,e,t){let r=`${bN}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const wN="firestore_targets";function nE(n,e){return`${wN}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="SharedClientState";class Yg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ss(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new de(i.error.code,i.error.message))),u?new Yg(e,t,i.state,o):(Yt(zi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ef{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ss(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new de(r.error.code,r.error.message))),o?new ef(e,r.state,i):(Yt(zi,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Iw();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=Kk(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Qg(e,o):(Yt(zi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Hw{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Hw(t.clientId,t.onlineState):(Yt(zi,`Failed to parse online state: ${e}`),null)}}class ib{constructor(){this.activeTargetIds=Iw()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rE{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new yt(De),this.started=!1,this.Os=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=MC(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new ib),this.Ls=new RegExp(`^${EN}_${u}_([^_]*)$`),this.ks=new RegExp(`^${bN}_${u}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${wN}_${u}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(MC(this.persistenceKey,r));if(i){const o=Qg.Ss(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(nE(this.persistenceKey,e));if(i){const o=ef.Ss(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nE(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(zi,"READ",e,t),t}setItem(e,t){pe(zi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(zi,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(pe(zi,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let u=pr.ae;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number"),u=h}catch(h){Yt(zi,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==pr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,r){const i=new Yg(this.currentUser,e,t,r),o=VC(this.persistenceKey,this.currentUser,e);this.setItem(o,i.bs())}js(e){const t=VC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=nE(this.persistenceKey,e),o=new ef(e,t,r);this.setItem(i,o.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Qg.Ss(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Yg.Ss(new Rn(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return ef.Ss(i,t)}Us(e){return Hw.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);pe(zi,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),u=[],h=[];return o.forEach(d=>{i.has(d)||u.push(d)}),i.forEach(d=>{o.has(d)||h.push(d)}),this.syncEngine.lo(u,h).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Iw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class TN{constructor(){this.ho=new ib,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ib,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="ConnectivityMonitor";class UC{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(LC,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(LC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm=null;function sb(){return Bm===null?Bm=function(){return 268435456+Math.round(2147483648*Math.random())}():Bm++,"0x"+Bm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="RestConnection",f$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p${get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===HE?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const u=sb(),h=this.bo(e,t.toUriEncodedString());pe(iE,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,h,d,r).then(f=>(pe(iE,`Received RPC '${e}' ${u}: `,f),f),f=>{throw rs(iE,`RPC '${e}' ${u} failed with error: `,f,"url: ",h,"request:",r),f})}Co(e,t,r,i,o,u){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=f$[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class g$ extends p${constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=sb();return new Promise((u,h)=>{const d=new Nk;d.setWithCredentials(!0),d.listenOnce(Mk.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case sg.NO_ERROR:const g=d.getResponseJson();pe(zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case sg.TIMEOUT:pe(zn,`RPC '${e}' ${o} timed out`),h(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:const _=d.getStatus();if(pe(zn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const w=function(x){const B=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN}(T.status);h(new de(w,T.message))}else h(new de(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(ne.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{pe(zn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);pe(zn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=sb(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Uk(),h=Lk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(zn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=u.createWebChannel(g,d);let v=!1,T=!1;const w=new m$({Fo:x=>{T?pe(zn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(pe(zn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(zn,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Mo:()=>_.close()}),R=(x,B,L)=>{x.listen(B,U=>{try{L(U)}catch(H){setTimeout(()=>{throw H},0)}})};return R(_,Ud.EventType.OPEN,()=>{T||(pe(zn,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),R(_,Ud.EventType.CLOSE,()=>{T||(T=!0,pe(zn,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),R(_,Ud.EventType.ERROR,x=>{T||(T=!0,rs(zn,`RPC '${e}' stream ${i} transport errored:`,x),w.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),R(_,Ud.EventType.MESSAGE,x=>{var B;if(!T){const L=x.data[0];Ae(!!L);const U=L,H=(U==null?void 0:U.error)||((B=U[0])===null||B===void 0?void 0:B.error);if(H){pe(zn,`RPC '${e}' stream ${i} received error:`,H);const j=H.status;let $=function(I){const b=sn[I];if(b!==void 0)return VD(b)}(j),M=H.message;$===void 0&&($=ne.INTERNAL,M="Unknown error status: "+j+" with message "+H.message),T=!0,w.Ko(new de($,M)),_.close()}else pe(zn,`RPC '${e}' stream ${i} received:`,L),w.Uo(L)}}),R(h,Vk.STAT_EVENT,x=>{x.stat===UE.PROXY?pe(zn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===UE.NOPROXY&&pe(zn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){return typeof window<"u"?window:null}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(n){return new b7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="PersistentStream";class AN{constructor(e,t,r,i,o,u,h,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $w(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Yt(t.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(BC,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(BC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y$ extends AN{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=S7(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Xt(u.readTime):Ce.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=JE(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=jg(d)?{documents:GD(o,d)}:{query:KD(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=FD(o,u.resumeToken);const f=XE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=Cc(o,u.snapshotVersion.toTimestamp());const f=XE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,e);const r=R7(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=JE(this.serializer),t.removeTarget=e,this.I_(t)}}class _$ extends AN{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=A7(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=JE(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Af(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${}class E$ extends v${constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,ZE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,ZE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class b${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yt(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class w${constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{So(this)&&(pe(Vl,"Restarting streams for network reachability change."),await async function(d){const f=Ee(d);f.W_.add(4),await Qc(f),f.j_.set("Unknown"),f.W_.delete(4),await ep(f)}(this))})}),this.j_=new b$(r,i)}}async function ep(n){if(So(n))for(const e of n.G_)await e(!0)}async function Qc(n){for(const e of n.G_)await e(!1)}function Jy(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Ww(t)?Kw(t):Zc(t).c_()&&Gw(t,e))}function Oc(n,e){const t=Ee(n),r=Zc(t);t.U_.delete(e),r.c_()&&RN(t,e),t.U_.size===0&&(r.c_()?r.P_():So(t)&&t.j_.set("Unknown"))}function Gw(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zc(n).y_(e)}function RN(n,e){n.H_.Ne(e),Zc(n).w_(e)}function Kw(n){n.H_=new y7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Zc(n).start(),n.j_.B_()}function Ww(n){return So(n)&&!Zc(n).u_()&&n.U_.size>0}function So(n){return Ee(n).W_.size===0}function IN(n){n.H_=void 0}async function T$(n){n.j_.set("Online")}async function S$(n){n.U_.forEach((e,t)=>{Gw(n,e)})}async function A$(n,e){IN(n),Ww(n)?(n.j_.q_(e),Kw(n)):n.j_.set("Unknown")}async function R$(n,e,t){if(n.j_.set("Online"),e instanceof BD&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.U_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.U_.delete(h),i.H_.removeTarget(h))}(n,e)}catch(r){pe(Vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xg(n,r)}else if(e instanceof fg?n.H_.We(e):e instanceof UD?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const r=await mN(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,f)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),RN(o,d);const _=new Bs(g.target,d,f,g.sequenceNumber);Gw(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(Vl,"Failed to raise snapshot:",r),await Xg(n,r)}}async function Xg(n,e,t){if(!wo(e))throw e;n.W_.add(1),await Qc(n),n.j_.set("Offline"),t||(t=()=>mN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Vl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ep(n)})}function CN(n,e){return e().catch(t=>Xg(n,t,e))}async function Xc(n){const e=Ee(n),t=po(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:to;for(;I$(e);)try{const i=await u$(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,C$(e,i)}catch(i){await Xg(e,i)}xN(e)&&PN(e)}function I$(n){return So(n)&&n.K_.length<10}function C$(n,e){n.K_.push(e);const t=po(n);t.c_()&&t.S_&&t.b_(e.mutations)}function xN(n){return So(n)&&!po(n).u_()&&n.K_.length>0}function PN(n){po(n).start()}async function x$(n){po(n).C_()}async function P$(n){const e=po(n);for(const t of n.K_)e.b_(t.mutations)}async function O$(n,e,t){const r=n.K_.shift(),i=Ow.from(r,e,t);await CN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Xc(n)}async function k$(n,e){e&&po(n).S_&&await async function(r,i){if(function(u){return MD(u)&&u!==ne.ABORTED}(i.code)){const o=r.K_.shift();po(r).h_(),await CN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Xc(r)}}(n,e),xN(n)&&PN(n)}async function FC(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(Vl,"RemoteStore received new credentials");const r=So(t);t.W_.add(3),await Qc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ep(t)}async function ab(n,e){const t=Ee(n);e?(t.W_.delete(2),await ep(t)):e||(t.W_.add(2),await Qc(t),t.j_.set("Unknown"))}function Zc(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new y$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:T$.bind(null,n),No:S$.bind(null,n),Lo:A$.bind(null,n),p_:R$.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Ww(n)?Kw(n):n.j_.set("Unknown")):(await n.J_.stop(),IN(n))})),n.J_}function po(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new _$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:x$.bind(null,n),Lo:k$.bind(null,n),D_:P$.bind(null,n),v_:O$.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Xc(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(Vl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new Yw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jc(n,e){if(Yt("AsyncQueue",`${e}: ${n}`),wo(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Bd(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.Z_=new yt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class kc{constructor(e,t,r,i,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new kc(e,t,oc.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class N${constructor(){this.queries=zC(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=zC(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function zC(){return new ra(n=>bD(n),Wf)}async function Qw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new D$,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Jc(u,`Initialization of query '${Yu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Zw(t)}async function Xw(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function M$(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(i)&&(r=!0);u.ea=i}}r&&Zw(t)}function V$(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Zw(n){n.ia.forEach(e=>{e.next()})}var ob,qC;(qC=ob||(ob={}))._a="default",qC.Cache="cache";class Jw{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ob.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.serializer=e}ps(e){return es(this.serializer,e)}ys(e){return e.metadata.exists?$D(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Xt(e)}}class U${constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ON(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=qe.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new HC(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await c$(this.localStore,new HC(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await h$(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function ON(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.key=e}}class DN{constructor(e){this.key=e}}class NN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=TD(e),this.wa=new oc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new jC,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Yf(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let x=!1;v&&T?v.data.isEqual(T.data)?w!==R&&(r.track({type:3,doc:T}),x=!0):this.va(v,T)||(r.track({type:2,doc:T}),x=!0,(d&&this.ya(T,d)>0||f&&this.ya(T,f)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),x=!0):v&&!T&&(r.track({type:1,doc:v}),x=!0,(d||f)&&(h=!0)),x&&(T?(u=u.add(T),o=R?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(T,w){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return R(T)-R(w)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const h=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,u.length!==0||f?{snapshot:new kc(this.query,e.wa,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jC,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new DN(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new kN(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return kc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ao="SyncEngine";class B${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class F${constructor(e){this.key=e,this.Ba=!1}}class j${constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ra(h=>bD(h),Wf),this.qa=new Map,this.Qa=new Set,this.$a=new yt(_e.comparator),this.Ka=new Map,this.Ua=new Uw,this.Wa={},this.Ga=new Map,this.za=Ml.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function z$(n,e,t=!0){const r=e_(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await MN(r,e,t,!0),i}async function q$(n,e){const t=e_(n);await MN(t,e,!0,!1)}async function MN(n,e,t,r){const i=await xc(n.localStore,ar(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await eT(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&Jy(n.remoteStore,i),h}async function eT(n,e,t,r,i){n.Ha=(_,v,T)=>async function(R,x,B,L){let U=x.view.ba(B);U.ls&&(U=await Wg(R.localStore,x.query,!1).then(({documents:M})=>x.view.ba(M,U)));const H=L&&L.targetChanges.get(x.targetId),j=L&&L.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(U,R.isPrimaryClient,H,j);return lb(R,x.targetId,$.Ma),$.snapshot}(n,_,v,T);const o=await Wg(n.localStore,e,!0),u=new NN(e,o.gs),h=u.ba(o.documents),d=Zf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=u.applyChanges(h,n.isPrimaryClient,d);lb(n,t,f.Ma);const g=new B$(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function H$(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(u=>!Wf(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Oc(r.remoteStore,i.targetId),Dc(r,i.targetId)}).catch(bo)):(Dc(r,i.targetId),await Pc(r.localStore,i.targetId,!0))}async function $$(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Oc(t.remoteStore,r.targetId))}async function G$(n,e,t){const r=iT(n);try{const i=await function(u,h){const d=Ee(u),f=It.now(),g=h.reduce((T,w)=>T.add(w.key),Ve());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=gr(),R=Ve();return d.ds.getEntries(T,g).next(x=>{w=x,w.forEach((B,L)=>{L.isValidDocument()||(R=R.add(B))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,w)).next(x=>{_=x;const B=[];for(const L of h){const U=p7(L,_.get(L.key).overlayedDocument);U!=null&&B.push(new ia(L.key,U,dD(U.value.mapValue),Rt.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,B,h)}).next(x=>{v=x;const B=x.applyToLocalDocumentSet(_,R);return d.documentOverlayCache.saveOverlays(T,x.batchId,B)})}).then(()=>({batchId:v.batchId,changes:AD(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,d){let f=u.Wa[u.currentUser.toKey()];f||(f=new yt(De)),f=f.insert(h,d),u.Wa[u.currentUser.toKey()]=f}(r,i.batchId,t),await sa(r,i.changes),await Xc(r.remoteStore)}catch(i){const o=Jc(i,"Failed to persist write");t.reject(o)}}async function VN(n,e){const t=Ee(n);try{const r=await l$(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Ka.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ae(u.Ba):i.removedDocuments.size>0&&(Ae(u.Ba),u.Ba=!1))}),await sa(t,r,e)}catch(r){await bo(r)}}function $C(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const d=Ee(u);d.onlineState=h;let f=!1;d.queries.forEach((g,_)=>{for(const v of _.ta)v.sa(h)&&(f=!0)}),f&&Zw(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K$(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let u=new yt(_e.comparator);u=u.insert(o,vt.newNoDocument(o,Ce.min()));const h=Ve().add(o),d=new Xf(Ce.min(),new Map,new yt(De),u,h);await VN(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),rT(r)}else await Pc(r.localStore,e,!1).then(()=>Dc(r,e,t)).catch(bo)}async function W$(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await o$(t.localStore,e);nT(t,r,null),tT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await sa(t,i)}catch(i){await bo(i)}}async function Y$(n,e,t){const r=Ee(n);try{const i=await function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next(_=>(Ae(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);nT(r,e,t),tT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await sa(r,i)}catch(i){await bo(i)}}async function Q$(n,e){const t=Ee(n);So(t.remoteStore)||pe(Ao,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===to)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Jc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function tT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function nT(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Dc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||LN(n,r)})}function LN(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Oc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),rT(n))}function lb(n,e,t){for(const r of t)r instanceof kN?(n.Ua.addReference(r.key,e),X$(n,r)):r instanceof DN?(pe(Ao,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||LN(n,r.key)):we()}function X$(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(Ao,"New document in limbo: "+t),n.Qa.add(r),rT(n))}function rT(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(qe.fromString(e)),r=n.za.next();n.Ka.set(r,new F$(t)),n.$a=n.$a.insert(t,r),Jy(n.remoteStore,new Bs(ar(Kc(t.path)),r,"TargetPurposeLimboResolution",pr.ae))}}async function sa(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){i.push(f);const _=zw.Yi(d.targetId,f);o.push(_)}}))}),await Promise.all(u),r.La.p_(i),await async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Q.forEach(f,v=>Q.forEach(v.Hi,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>Q.forEach(v.Ji,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!wo(_))throw _;pe(qw,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const T=g.Ts.get(v),w=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(w);g.Ts=g.Ts.insert(v,R)}}}(r.localStore,o))}async function Z$(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(Ao,"User change. New user:",e.toKey());const r=await pN(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new de(ne.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sa(t,r.Rs)}}function J$(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return Ve().add(r.key);{let i=Ve();const o=t.qa.get(e);if(!o)return i;for(const u of o){const h=t.ka.get(u);i=i.unionWith(h.view.Sa)}return i}}async function eG(n,e){const t=Ee(n),r=await Wg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&lb(t,e.targetId,i.Ma),i}async function tG(n,e){const t=Ee(n);return _N(t.localStore,e).then(r=>sa(t,r))}async function nG(n,e,t,r){const i=Ee(n),o=await function(h,d){const f=Ee(h),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Ln(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):Q.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Xc(i.remoteStore):t==="acknowledged"||t==="rejected"?(nT(i,e,r||null),tT(i,e),function(h,d){Ee(Ee(h).mutationQueue).qn(d)}(i.localStore,e)):we(),await sa(i,o)):pe(Ao,"Cannot apply mutation batch with id: "+e)}async function rG(n,e){const t=Ee(n);if(e_(t),iT(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await GC(t,r.toArray());t.ja=!0,await ab(t.remoteStore,!0);for(const o of i)Jy(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Dc(t,u),Pc(t.localStore,u,!0))),Oc(t.remoteStore,u)}),await i,await GC(t,r),function(u){const h=Ee(u);h.Ka.forEach((d,f)=>{Oc(h.remoteStore,f)}),h.Ua.Dr(),h.Ka=new Map,h.$a=new yt(_e.comparator)}(t),t.ja=!1,await ab(t.remoteStore,!1)}}async function GC(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const d=r.qa.get(u);if(d&&d.length!==0){h=await xc(r.localStore,ar(d[0]));for(const f of d){const g=r.ka.get(f),_=await eG(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await yN(r.localStore,u);h=await xc(r.localStore,f),await eT(r,UN(f),u,!1,h.resumeToken)}i.push(h)}return r.La.p_(o),i}function UN(n){return ED(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function iG(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function sG(n,e,t,r){const i=Ee(n);if(i.ja)return void pe(Ao,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await _N(i.localStore,wD(o[0])),h=Xf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ht.EMPTY_BYTE_STRING);await sa(i,u,h);break}case"rejected":await Pc(i.localStore,e,!0),Dc(i,e,r);break;default:we()}}async function aG(n,e,t){const r=e_(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(Ao,"Adding an already active target "+i);continue}const o=await yN(r.localStore,i),u=await xc(r.localStore,o);await eT(r,UN(o),u.targetId,!1,u.resumeToken),Jy(r.remoteStore,u)}for(const i of t)r.qa.has(i)&&await Pc(r.localStore,i,!1).then(()=>{Oc(r.remoteStore,i),Dc(r,i)}).catch(bo)}}function e_(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K$.bind(null,e),e.La.p_=M$.bind(null,e.eventManager),e.La.Ja=V$.bind(null,e.eventManager),e}function iT(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y$.bind(null,e),e}function oG(n,e,t){const r=Ee(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await function(T,w){const R=Ee(T),x=Xt(w.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",B=>R.Yr.getBundleMetadata(B,w.id)).then(B=>!!B&&B.createTime.compareTo(x)>=0)}(o.localStore,d))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);h._updateProgress(ON(d));const f=new U$(d,o.localStore,u.serializer);let g=await u.Ya();for(;g;){const v=await f.Aa(g);v&&h._updateProgress(v),g=await u.Ya()}const _=await f.complete();return await sa(o,_.ma,void 0),await function(T,w){const R=Ee(T);return R.persistence.runTransaction("Save bundle","readwrite",x=>R.Yr.saveBundleMetadata(x,w))}(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Va)}catch(d){return rs(Ao,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return fN(this.persistence,new dN,e.initialUser,this.serializer)}Xa(e){return new Bw(Zy.ri,this.serializer)}Za(e){return new TN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class lG extends Rf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof Kg);const r=this.persistence.referenceDelegate.garbageCollector;return new aN(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new Bw(r=>Kg.ri(r,t),this.serializer)}}class BN extends Rf{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await iT(this.ru.syncEngine),await Xc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return fN(this.persistence,new dN,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new aN(r,e.asyncQueue,t)}nu(e,t){const r=new y8(t,this.persistence);return new g8(e.asyncQueue,r)}Xa(e){const t=jw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new Fw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,SN(),pg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new TN}}class uG extends BN{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof rE&&(this.sharedClientState.syncEngine={uo:nG.bind(null,t),co:sG.bind(null,t),lo:aG.bind(null,t),zi:iG.bind(null,t),ao:tG.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await rG(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=SN();if(!rE.D(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class If{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$C(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z$.bind(null,this.syncEngine),await ab(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N$}()}createDatastore(e){const t=Jf(e.databaseInfo.databaseId),r=function(o){return new g$(o)}(e.databaseInfo);return function(o,u,h,d){return new E$(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new w$(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>$C(this.syncEngine,t,0),function(){return UC.D()?new UC:new d$}())}createSyncEngine(e,t){return function(i,o,u,h,d,f,g){const _=new j$(i,o,u,h,d,f);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(Vl,"RemoteStore shutting down."),o.W_.add(5),await Qc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}If.provider={build:()=>new If};function KC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new L$(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>Sf(u.serializer,_))},d=await u.Co("BatchGetDocuments",u.serializer.databaseId,qe.emptyPath(),h,o.length),f=new Map;d.forEach(_=>{const v=T7(u.serializer,_);f.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=f.get(_.toString());Ae(!!v),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new xw(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>Af(o.serializer,h))};await o.So("Commit",o.serializer.databaseId,qe.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ce.min())?Rt.exists(!1):Rt.updateTime(t):Rt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ce.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rt.updateTime(t)}return Rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new $w(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new hG(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!$f(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!MD(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="FirestoreClient";class fG{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=Fk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(mo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(mo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Jc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sE(n,e){n.asyncQueue.verifyOperationInProgress(),pe(mo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function WC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sT(n);pe(mo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>FC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>FC(e.remoteStore,i)),n._onlineComponents=e}async function sT(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(mo,"Using user provided OfflineComponentProvider");try{await sE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;rs("Error using user provided cache. Falling back to memory cache: "+t),await sE(n,new Rf)}}else pe(mo,"Using default OfflineComponentProvider"),await sE(n,new lG(void 0));return n._offlineComponents}async function n_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(mo,"Using user provided OnlineComponentProvider"),await WC(n,n._uninitializedComponentsProvider._online)):(pe(mo,"Using default OnlineComponentProvider"),await WC(n,new If))),n._onlineComponents}function FN(n){return sT(n).then(e=>e.persistence)}function aT(n){return sT(n).then(e=>e.localStore)}function jN(n){return n_(n).then(e=>e.remoteStore)}function oT(n){return n_(n).then(e=>e.syncEngine)}function pG(n){return n_(n).then(e=>e.datastore)}async function Nc(n){const e=await n_(n),t=e.eventManager;return t.onListen=z$.bind(null,e.syncEngine),t.onUnlisten=H$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=q$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$$.bind(null,e.syncEngine),t}function mG(n){return n.asyncQueue.enqueue(async()=>{const e=await FN(n),t=await jN(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),ep(o)}(t)})}function gG(n){return n.asyncQueue.enqueue(async()=>{const e=await FN(n),t=await jN(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await Qc(o),o.j_.set("Offline")}(t)})}function yG(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=Jc(h,`Failed to get document '${o} from cache`);u.reject(d)}}(await aT(n),e,t)),t.promise}function zN(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new t_({next:v=>{g.su(),u.enqueueAndForget(()=>Xw(o,_));const T=v.docs.has(h);!T&&v.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Jw(Kc(h.path),g,{includeMetadataChanges:!0,Ta:!0});return Qw(o,_)}(await Nc(n),n.asyncQueue,e,t,r)),r.promise}function _G(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Wg(i,o,!0),d=new NN(o,h.gs),f=d.ba(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=Jc(h,`Failed to execute query '${o} against cache`);u.reject(d)}}(await aT(n),e,t)),t.promise}function qN(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new t_({next:v=>{g.su(),u.enqueueAndForget(()=>Xw(o,_)),v.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Jw(h,g,{includeMetadataChanges:!0,Ta:!0});return Qw(o,_)}(await Nc(n),n.asyncQueue,e,t,r)),r.promise}function vG(n,e){const t=new t_(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await Nc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await Nc(n),t))}}function EG(n,e,t,r){const i=function(u,h){let d;return d=typeof u=="string"?LD().encode(u):u,function(g,_){return new cG(g,_)}(function(g,_){if(g instanceof Uint8Array)return KC(g,_);if(g instanceof ArrayBuffer)return KC(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),h)}(t,Jf(e));n.asyncQueue.enqueueAndForget(async()=>{oG(await oT(n),i,r)})}function bG(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Yr.getNamedQuery(u,i))}(await aT(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $N(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function QC(n){if(!_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XC(n){if(_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function r_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=r_(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GN(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="firestore.googleapis.com",ZC=!0;class JC{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KN,this.ssl=ZC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZC;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z7)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$N("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a8;switch(r.type){case"firstParty":return new c8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=YC.get(t);r&&(pe("ComponentProvider","Removing Datastore"),YC.delete(t),r.terminate())}(this),Promise.resolve()}}function wG(n,e,t,r={}){var i;const o=(n=nt(n,tp))._getSettings(),u=`${e}:${t}`;if(o.host!==KN&&o.host!==u&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Rn.MOCK_USER;else{h=hO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Rn(f)}n._authCredentials=new o8(new Bk(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let or=class WN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new WN(this.firestore,e,this._query)}},Nt=class YN{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new YN(this.firestore,e,this._key)}},no=class QN extends or{constructor(e,t,r){super(e,t,Kc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new QN(this.firestore,e,this._path)}};function XN(n,e,...t){if(n=Re(n),lT("collection","path",e),n instanceof tp){const r=qe.fromString(e,...t);return XC(r),new no(n,null,r)}{if(!(n instanceof Nt||n instanceof no))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return XC(r),new no(n.firestore,null,r)}}function TG(n,e){if(n=nt(n,tp),lT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new or(n,null,function(r){return new na(qe.emptyPath(),r)}(e))}function Zg(n,e,...t){if(n=Re(n),arguments.length===1&&(e=Fk.newId()),lT("doc","path",e),n instanceof tp){const r=qe.fromString(e,...t);return QC(r),new Nt(n,null,new _e(r))}{if(!(n instanceof Nt||n instanceof no))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return QC(r),new Nt(n.firestore,n instanceof no?n.converter:null,new _e(r))}}function ZN(n,e){return n=Re(n),e=Re(e),(n instanceof Nt||n instanceof no)&&(e instanceof Nt||e instanceof no)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function JN(n,e){return n=Re(n),e=Re(e),n instanceof or&&e instanceof or&&n.firestore===e.firestore&&Wf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="AsyncQueue";class tx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $w(this,"async_queue_retry"),this.Su=()=>{const r=pg();r&&pe(ex,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!wo(e))throw e;pe(ex,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Yt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Yw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function ub(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class SG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=-1;let Zt=class extends tp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tx(e),this._firestoreClient=void 0,await e}}};function Qn(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||e2(n),n._firestoreClient}function e2(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,f,g){return new G8(h,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,HN(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new fG(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}function RG(n,e){rs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return t2(n,If.provider,{build:r=>new BN(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function IG(n){rs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();t2(n,If.provider,{build:t=>new uG(t,e.cacheSizeBytes)})}function t2(n,e,t){if((n=nt(n,Zt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},e2(n)}function CG(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ji.D())return Promise.resolve();const i=r+hN;await Ji.delete(i)}(jw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function xG(n){return function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>Q$(await oT(t),r)),r.promise}(Qn(n=nt(n,Zt)))}function PG(n){return mG(Qn(n=nt(n,Zt)))}function OG(n){return gG(Qn(n=nt(n,Zt)))}function kG(n,e){const t=Qn(n=nt(n,Zt)),r=new SG;return EG(t,n._databaseId,e,r),r}function DG(n,e){return bG(Qn(n=nt(n,Zt)),e).then(t=>t?new or(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ss(Ht.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ss(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=/^__.*__$/;class MG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wc(e,this.data,t,this.fieldTransforms)}}class n2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function r2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class s_{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new s_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Jg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(r2(this.Lu)&&NG.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class VG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jf(e)}ju(e,t,r,i=!1){return new s_({Lu:e,methodName:t,zu:r,path:At.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hl(n){const e=n._freezeSettings(),t=Jf(n._databaseId);return new VG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function a_(n,e,t,r,i,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,i);gT("Data must be an object, but it was:",u,r);const h=a2(r,u);let d,f;if(o.merge)d=new mr(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=cb(e,_,t);if(!u.contains(v))throw new de(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);l2(g,v)||g.push(v)}d=new mr(g),f=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=u.fieldTransforms;return new MG(new Mn(h),d,f)}class np extends ql{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}function i2(n,e,t){return new s_({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cT extends ql{_toFieldTransform(e){return new Qf(e.path,new Rc)}isEqual(e){return e instanceof cT}}class hT extends ql{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=i2(this,e,!0),r=this.Hu.map(o=>$l(o,t)),i=new Ol(r);return new Qf(e.path,i)}isEqual(e){return e instanceof hT&&hc(this.Hu,e.Hu)}}class dT extends ql{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=i2(this,e,!0),r=this.Hu.map(o=>$l(o,t)),i=new kl(r);return new Qf(e.path,i)}isEqual(e){return e instanceof dT&&hc(this.Hu,e.Hu)}}class fT extends ql{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Ic(e.serializer,CD(e.serializer,this.Ju));return new Qf(e.path,t)}isEqual(e){return e instanceof fT&&this.Ju===e.Ju}}function pT(n,e,t,r){const i=n.ju(1,e,t);gT("Data must be an object, but it was:",i,r);const o=[],u=Mn.empty();To(r,(d,f)=>{const g=yT(e,d,t);f=Re(f);const _=i.Ku(g);if(f instanceof np)o.push(g);else{const v=$l(f,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new mr(o);return new n2(u,h,i.fieldTransforms)}function mT(n,e,t,r,i,o){const u=n.ju(1,e,t),h=[cb(e,r,t)],d=[i];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(cb(e,o[v])),d.push(o[v+1]);const f=[],g=Mn.empty();for(let v=h.length-1;v>=0;--v)if(!l2(f,h[v])){const T=h[v];let w=d[v];w=Re(w);const R=u.Ku(T);if(w instanceof np)f.push(T);else{const x=$l(w,R);x!=null&&(f.push(T),g.set(T,x))}}const _=new mr(f);return new n2(g,_,u.fieldTransforms)}function s2(n,e,t,r=!1){return $l(t,n.ju(r?4:3,e))}function $l(n,e){if(o2(n=Re(n)))return gT("Unsupported field value:",e,n),a2(n,e);if(n instanceof ql)return function(r,i){if(!r2(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let d=$l(h,i.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:Cc(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cc(i.serializer,o)}}if(r instanceof i_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ss)return{bytesValue:FD(i.serializer,r._byteString)};if(r instanceof Nt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Nw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uT)return function(u,h){return{mapValue:{fields:{[Tw]:{stringValue:Sw},[Tc]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Wu("VectorValues must only contain numeric values.");return Cw(h.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${r_(r)}`)}(n,e)}function a2(n,e){const t={};return rD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(n,(r,i)=>{const o=$l(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function o2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof i_||n instanceof ss||n instanceof Nt||n instanceof ql||n instanceof uT)}function gT(n,e,t){if(!o2(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=r_(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function cb(n,e,t){if((e=Re(e))instanceof go)return e._internalPath;if(typeof e=="string")return yT(n,e);throw Jg("Field path arguments must be of type string or ",n,!1,void 0,t)}const LG=new RegExp("[~\\*/\\[\\]]");function yT(n,e,t){if(e.search(LG)>=0)throw Jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new go(...e.split("."))._internalPath}catch{throw Jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new de(ne.INVALID_ARGUMENT,h+n+d)}function l2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(o_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UG extends Cf{data(){return super.data()}}function o_(n,e){return typeof e=="string"?yT(n,e):e instanceof go?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _T{}class rp extends _T{}function Ga(n,e,...t){let r=[];e instanceof _T&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof vT).length,h=o.filter(d=>d instanceof l_).length;if(u>1||u>0&&h>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class l_ extends rp{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new l_(e,t,r)}_apply(e){const t=this._parse(e);return h2(e._query,t),new or(e.firestore,e.converter,QE(e._query,t))}_parse(e){const t=Hl(e.firestore);return function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){rx(_,g);const w=[];for(const R of _)w.push(nx(d,o,R));v={arrayValue:{values:w}}}else v=nx(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||rx(_,g),v=s2(h,u,_,g==="in"||g==="not-in");return He.create(f,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function BG(n,e,t){const r=e,i=o_("where",n);return l_._create(i,r,t)}class vT extends _T{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vT(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const d of h)h2(u,d),u=QE(u,d)}(e._query,t),new or(e.firestore,e.converter,QE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ET extends rp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ET(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tf(o,u)}(e._query,this._field,this._direction);return new or(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new na(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function FG(n,e="asc"){const t=e,r=o_("orderBy",n);return ET._create(r,t)}class u_ extends rp{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new u_(e,t,r)}_apply(e){return new or(e.firestore,e.converter,qg(e._query,this._limit,this._limitType))}}function jG(n){return GN("limit",n),u_._create("limit",n,"F")}function zG(n){return GN("limitToLast",n),u_._create("limitToLast",n,"L")}class c_ extends rp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new c_(e,t,r)}_apply(e){const t=c2(e,this.type,this._docOrFields,this._inclusive);return new or(e.firestore,e.converter,function(i,o){return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function qG(...n){return c_._create("startAt",n,!0)}function HG(...n){return c_._create("startAfter",n,!1)}class h_ extends rp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new h_(e,t,r)}_apply(e){const t=c2(e,this.type,this._docOrFields,this._inclusive);return new or(e.firestore,e.converter,function(i,o){return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function $G(...n){return h_._create("endBefore",n,!1)}function GG(...n){return h_._create("endAt",n,!0)}function c2(n,e,t,r){if(t[0]=Re(t[0]),t[0]instanceof Cf)return function(o,u,h,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of ac(o))if(_.field.isKeyField())g.push(xl(u,d.key));else{const v=d.data.field(_.field);if($y(v))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new fo(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hl(n.firestore);return function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const R=g[w];if(v[w].field.isKeyField()){if(typeof R!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!Rw(u)&&R.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const x=u.path.child(qe.fromString(R));if(!_e.isDocumentKey(x))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const B=new _e(x);T.push(xl(h,B))}else{const x=s2(d,f,R);T.push(x)}}return new fo(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function nx(n,e,t){if(typeof(t=Re(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rw(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!_e.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xl(n,new _e(r))}if(t instanceof Nt)return xl(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r_(t)}.`)}function rx(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h2(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bT{convertValue(e,t="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return To(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Tc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>St(u.doubleValue));return new uT(o)}convertGeoPoint(e){return new i_(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Gy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ef(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Ae(XD(r));const i=new uo(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class KG extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ss(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Qs=class extends Cf{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(o_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},tf=class extends Qs{data(e={}){return super.data(e)}},yo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tf(this._firestore,this._userDataWriter,r.key,r,new yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const d=new tf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new yl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new tf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new yl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:WG(h.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function WG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function d2(n,e){return n instanceof Qs&&e instanceof Qs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof yo&&e instanceof yo&&n._firestore===e._firestore&&JN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(n){n=nt(n,Nt);const e=nt(n.firestore,Zt);return zN(Qn(e),n._key).then(t=>wT(e,n,t))}class Gl extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ss(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function QG(n){n=nt(n,Nt);const e=nt(n.firestore,Zt),t=Qn(e),r=new Gl(e);return yG(t,n._key).then(i=>new Qs(e,r,n._key,i,new yl(i!==null&&i.hasLocalMutations,!0),n.converter))}function XG(n){n=nt(n,Nt);const e=nt(n.firestore,Zt);return zN(Qn(e),n._key,{source:"server"}).then(t=>wT(e,n,t))}function ZG(n){n=nt(n,or);const e=nt(n.firestore,Zt),t=Qn(e),r=new Gl(e);return u2(n._query),qN(t,n._query).then(i=>new yo(e,r,n,i))}function JG(n){n=nt(n,or);const e=nt(n.firestore,Zt),t=Qn(e),r=new Gl(e);return _G(t,n._query).then(i=>new yo(e,r,n,i))}function eK(n){n=nt(n,or);const e=nt(n.firestore,Zt),t=Qn(e),r=new Gl(e);return qN(t,n._query,{source:"server"}).then(i=>new yo(e,r,n,i))}function ix(n,e,t){n=nt(n,Nt);const r=nt(n.firestore,Zt),i=d_(n.converter,e,t);return ip(r,[a_(Hl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Rt.none())])}function sx(n,e,t,...r){n=nt(n,Nt);const i=nt(n.firestore,Zt),o=Hl(i);let u;return u=typeof(e=Re(e))=="string"||e instanceof go?mT(o,"updateDoc",n._key,e,t,r):pT(o,"updateDoc",n._key,e),ip(i,[u.toMutation(n._key,Rt.exists(!0))])}function tK(n){return ip(nt(n.firestore,Zt),[new Yc(n._key,Rt.none())])}function nK(n,e){const t=nt(n.firestore,Zt),r=Zg(n),i=d_(n.converter,e);return ip(t,[a_(Hl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Rt.exists(!1))]).then(()=>r)}function f2(n,...e){var t,r,i;n=Re(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||ub(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ub(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,f,g;if(n instanceof Nt)f=nt(n.firestore,Zt),g=Kc(n._key.path),d={next:_=>{e[u]&&e[u](wT(f,n,_))},error:e[u+1],complete:e[u+2]};else{const _=nt(n,or);f=nt(_.firestore,Zt),g=_._query;const v=new Gl(f);d={next:T=>{e[u]&&e[u](new yo(f,v,_,T))},error:e[u+1],complete:e[u+2]},u2(n._query)}return function(v,T,w,R){const x=new t_(R),B=new Jw(T,x,w);return v.asyncQueue.enqueueAndForget(async()=>Qw(await Nc(v),B)),()=>{x.su(),v.asyncQueue.enqueueAndForget(async()=>Xw(await Nc(v),B))}}(Qn(f),g,h,d)}function rK(n,e){return vG(Qn(n=nt(n,Zt)),ub(e)?e:{next:e})}function ip(n,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>G$(await oT(r),i,o)),o.promise}(Qn(n),e)}function wT(n,e,t){const r=t.docs.get(e._key),i=new Gl(n);return new Qs(n,i,e._key,r,new yl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sK=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hl(e)}set(e,t,r){this._verifyNotCommitted();const i=Xa(e,this._firestore),o=d_(i.converter,t,r),u=a_(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,Rt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Xa(e,this._firestore);let u;return u=typeof(t=Re(t))=="string"||t instanceof go?mT(this._dataReader,"WriteBatch.update",o._key,t,r,i):pT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xa(e,this._firestore);return this._mutations=this._mutations.concat(new Yc(t._key,Rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Xa(n,e){if((n=Re(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hl(e)}get(e){const t=Xa(e,this._firestore),r=new KG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we();const o=i[0];if(o.isFoundDocument())return new Cf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Cf(this._firestore,r,t._key,null,t.converter);throw we()})}set(e,t,r){const i=Xa(e,this._firestore),o=d_(i.converter,t,r),u=a_(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Xa(e,this._firestore);let u;return u=typeof(t=Re(t))=="string"||t instanceof go?mT(this._dataReader,"Transaction.update",o._key,t,r,i):pT(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Xa(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oK=class extends aK{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xa(e,this._firestore),r=new Gl(this._firestore);return super.get(e).then(i=>new Qs(this._firestore,r,t._key,i._document,new yl(!1,!1),t.converter))}};function lK(n,e,t){n=nt(n,Zt);const r=Object.assign(Object.assign({},iK),t);return function(o){if(o.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const d=new Vn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await pG(o);new dG(o.asyncQueue,f,h,u,d).Iu()}),d.promise}(Qn(n),i=>e(new oK(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(){return new np("deleteField")}function cK(){return new cT("serverTimestamp")}function hK(...n){return new hT("arrayUnion",n)}function dK(...n){return new dT("arrayRemove",n)}function fK(n){return new fT("increment",n)}(function(e,t=!0){(function(i){Gc=i})(Js),Gs(new si("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Zt(new l8(r.getProvider("auth-internal")),new h8(u,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(f.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Vr(L1,U1,e),Vr(L1,U1,"esm2017")})();const pK="@firebase/firestore-compat",mK="0.3.43";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function ox(){if(!H8())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let p2=class hb{constructor(e){this._delegate=e}static fromBase64String(e){return ox(),new hb(ss.fromBase64String(e))}static fromUint8Array(e){return ax(),new hb(ss.fromUint8Array(e))}toBase64(){return ox(),this._delegate.toBase64()}toUint8Array(){return ax(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(n){return gK(n,["next","error","complete"])}function gK(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{enableIndexedDbPersistence(e,t){return RG(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return IG(e._delegate)}clearIndexedDbPersistence(e){return CG(e._delegate)}}class m2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof uo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){wG(this._delegate,e,t,r)}enableNetwork(){return PG(this._delegate)}disableNetwork(){return OG(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$N("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xG(this._delegate)}onSnapshotsInSync(e){return rK(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Mc(this,XN(this._delegate,e))}catch(t){throw ir(t,"collection()","Firestore.collection()")}}doc(e){try{return new ni(this,Zg(this._delegate,e))}catch(t){throw ir(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rr(this,TG(this._delegate,e))}catch(t){throw ir(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return lK(this._delegate,t=>e(new g2(this,t)))}batch(){return Qn(this._delegate),new y2(new sK(this._delegate,e=>ip(this._delegate,e)))}loadBundle(e){return kG(this._delegate,e)}namedQuery(e){return DG(this._delegate,e).then(t=>t?new rr(this,t):null)}}class f_ extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new p2(new ss(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ni.forKey(t,this.firestore,null)}}function _K(n){i8(n)}class g2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new f_(e)}get(e){const t=_l(e);return this._delegate.get(t).then(r=>new xf(this._firestore,new Qs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=_l(e);return r?(TT("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=_l(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=_l(e);return this._delegate.delete(t),this}}class y2{constructor(e){this._delegate=e}set(e,t,r){const i=_l(e);return r?(TT("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=_l(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=_l(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ll{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new tf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ll.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Ll(e,new f_(e),t),i.set(t,o)),o}}Ll.INSTANCES=new WeakMap;class ni{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f_(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ni(t,new Nt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new ni(t,new Nt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Mc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Mc(this.firestore,XN(this._delegate,e))}catch(t){throw ir(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Re(e),e instanceof Nt?ZN(this._delegate,e):!1}set(e,t){t=TT("DocumentReference.set",t);try{return t?ix(this._delegate,e,t):ix(this._delegate,e)}catch(r){throw ir(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?sx(this._delegate,e):sx(this._delegate,e,t,...r)}catch(i){throw ir(i,"updateDoc()","DocumentReference.update()")}}delete(){return tK(this._delegate)}onSnapshot(...e){const t=_2(e),r=v2(e,i=>new xf(this.firestore,new Qs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return f2(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=QG(this._delegate):(e==null?void 0:e.source)==="server"?t=XG(this._delegate):t=YG(this._delegate),t.then(r=>new xf(this.firestore,new Qs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ni(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ir(n,e,t){return n.message=n.message.replace(e,t),n}function _2(n){for(const e of n)if(typeof e=="object"&&!db(e))return e;return{}}function v2(n,e){var t,r;let i;return db(n[0])?i=n[0]:db(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class xf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ni(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return d2(this._delegate,e._delegate)}}class Pf extends xf{data(e){const t=this._delegate.data(e);return this._delegate._converter||s8(t!==void 0),t}}class rr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f_(e)}where(e,t,r){try{return new rr(this.firestore,Ga(this._delegate,BG(e,t,r)))}catch(i){throw ir(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rr(this.firestore,Ga(this._delegate,FG(e,t)))}catch(r){throw ir(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rr(this.firestore,Ga(this._delegate,jG(e)))}catch(t){throw ir(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rr(this.firestore,Ga(this._delegate,zG(e)))}catch(t){throw ir(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rr(this.firestore,Ga(this._delegate,qG(...e)))}catch(t){throw ir(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rr(this.firestore,Ga(this._delegate,HG(...e)))}catch(t){throw ir(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rr(this.firestore,Ga(this._delegate,$G(...e)))}catch(t){throw ir(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rr(this.firestore,Ga(this._delegate,GG(...e)))}catch(t){throw ir(t,"endAt()","Query.endAt()")}}isEqual(e){return JN(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=JG(this._delegate):(e==null?void 0:e.source)==="server"?t=eK(this._delegate):t=ZG(this._delegate),t.then(r=>new fb(this.firestore,new yo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=_2(e),r=v2(e,i=>new fb(this.firestore,new yo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return f2(this._delegate,t,r)}withConverter(e){return new rr(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class vK{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Pf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new vK(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Pf(this._firestore,r))})}isEqual(e){return d2(this._delegate,e._delegate)}}class Mc extends rr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ni(this.firestore,e):null}doc(e){try{return e===void 0?new ni(this.firestore,Zg(this._delegate)):new ni(this.firestore,Zg(this._delegate,e))}catch(t){throw ir(t,"doc()","CollectionReference.doc()")}}add(e){return nK(this._delegate,e).then(t=>new ni(this.firestore,t))}isEqual(e){return ZN(this._delegate,e._delegate)}withConverter(e){return new Mc(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _l(n){return nt(n,Nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(...e){this._delegate=new go(...e)}static documentId(){return new ST(At.keyField().canonicalString())}isEqual(e){return e=Re(e),e instanceof go?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static serverTimestamp(){const e=cK();return e._methodName="FieldValue.serverTimestamp",new fl(e)}static delete(){const e=uK();return e._methodName="FieldValue.delete",new fl(e)}static arrayUnion(...e){const t=hK(...e);return t._methodName="FieldValue.arrayUnion",new fl(t)}static arrayRemove(...e){const t=dK(...e);return t._methodName="FieldValue.arrayRemove",new fl(t)}static increment(e){const t=fK(e);return t._methodName="FieldValue.increment",new fl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK={Firestore:m2,GeoPoint:i_,Timestamp:It,Blob:p2,Transaction:g2,WriteBatch:y2,DocumentReference:ni,DocumentSnapshot:xf,Query:rr,QueryDocumentSnapshot:Pf,QuerySnapshot:fb,CollectionReference:Mc,FieldPath:ST,FieldValue:fl,setLogLevel:_K,CACHE_SIZE_UNLIMITED:AG};function bK(n,e){n.INTERNAL.registerComponent(new si("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},EK)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(n){bK(n,(e,t)=>new m2(e,t,new yK)),n.registerVersion(pK,mK)}wK(jl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firebasestorage.googleapis.com",b2="storageBucket",TK=2*60*1e3,SK=10*60*1e3,AK=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends Wn{constructor(e,t,r=0){super(aE(e),`Firebase Storage: ${t} (${aE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function aE(n){return"storage/"+n}function AT(){const n="An unknown error occurred, please check the error payload for server response.";return new Lt(bt.UNKNOWN,n)}function RK(n){return new Lt(bt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function IK(n){return new Lt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CK(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(bt.UNAUTHENTICATED,n)}function xK(){return new Lt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PK(n){return new Lt(bt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function w2(){return new Lt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T2(){return new Lt(bt.CANCELED,"User canceled the upload/download.")}function OK(n){return new Lt(bt.INVALID_URL,"Invalid URL '"+n+"'.")}function kK(n){return new Lt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function DK(){return new Lt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+b2+"' property when initializing the app?")}function S2(){return new Lt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NK(){return new Lt(bt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function MK(){return new Lt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function VK(n){return new Lt(bt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lc(n){return new Lt(bt.INVALID_ARGUMENT,n)}function A2(){return new Lt(bt.APP_DELETED,"The Firebase app was deleted.")}function R2(n){return new Lt(bt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nf(n,e){return new Lt(bt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Pd(n){throw new Lt(bt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Kn.makeFromUrl(e,t)}catch{return new Kn(e,"")}if(r.path==="")return r;throw kK(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+i+u,"i"),d={bucket:1,path:3};function f(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${g}/b/${i}/o${v}`,"i"),w={bucket:1,path:3},R=t===E2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",B=new RegExp(`^https?://${R}/${i}/${x}`,"i"),U=[{regex:h,indices:d,postModify:o},{regex:T,indices:w,postModify:f},{regex:B,indices:{bucket:1,path:2},postModify:f}];for(let H=0;H<U.length;H++){const j=U[H],$=j.regex.exec(e);if($){const M=$[j.indices.bucket];let C=$[j.indices.path];C||(C=""),r=new Kn(M,C),j.postModify(r);break}}if(r==null)throw OK(e);return r}}class LK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(n,e,t){let r=1,i=null,o=null,u=!1,h=0;function d(){return h===2}let f=!1;function g(...x){f||(f=!0,e.apply(null,x))}function _(x){i=setTimeout(()=>{i=null,n(T,d())},x)}function v(){o&&clearTimeout(o)}function T(x,...B){if(f){v();return}if(x){v(),g.call(null,x,...B);return}if(d()||u){v(),g.call(null,x,...B);return}r<64&&(r*=2);let U;h===1?(h=2,U=0):U=(r+Math.random())*1e3,_(U)}let w=!1;function R(x){w||(w=!0,v(),!f&&(i!==null?(x||(h=2),clearTimeout(i),_(0)):x||(h=1)))}return _(0),o=setTimeout(()=>{u=!0,R(!0)},t),R}function BK(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(n){return n!==void 0}function jK(n){return typeof n=="function"}function zK(n){return typeof n=="object"&&!Array.isArray(n)}function p_(n){return typeof n=="string"||n instanceof String}function lx(n){return RT()&&n instanceof Blob}function RT(){return typeof Blob<"u"}function pb(n,e,t,r){if(r<e)throw lc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw lc(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function I2(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Tl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Tl||(Tl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e,t,r,i,o,u,h,d,f,g,_,v=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=_,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,w)=>{this.resolve_=T,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Tl.NO_ERROR,d=o.getStatus();if(!h||C2(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Tl.ABORT;r(!1,new Fm(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Fm(f,o))})},t=(r,i)=>{const o=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());FK(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=AT();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(i.canceled){const d=this.appDelete_?A2():T2();u(d)}else{const d=w2();u(d)}};this.canceled_?t(!1,new Fm(!1,null,!0)):this.backoffId_=UK(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function HK(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function $K(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GK(n,e){e&&(n["X-Firebase-GMPID"]=e)}function KK(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function WK(n,e,t,r,i,o,u=!0){const h=I2(n.urlParams),d=n.url+h,f=Object.assign({},n.headers);return GK(f,e),HK(f,t),$K(f,o),KK(f,r),new qK(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QK(...n){const e=YK();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(RT())return new Blob(n);throw new Lt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XK(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(n){if(typeof atob>"u")throw VK("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class oE{constructor(e,t){this.data=e,this.contentType=t||null}}function x2(n,e){switch(n){case ri.RAW:return new oE(P2(e));case ri.BASE64:case ri.BASE64URL:return new oE(O2(n,e));case ri.DATA_URL:return new oE(eW(e),tW(e))}throw AT()}function P2(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function JK(n){let e;try{e=decodeURIComponent(n)}catch{throw nf(ri.DATA_URL,"Malformed data URL.")}return P2(e)}function O2(n,e){switch(n){case ri.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw nf(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw nf(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=ZK(e)}catch(i){throw i.message.includes("polyfill")?i:nf(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class k2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw nf(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=nW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function eW(n){const e=new k2(n);return e.base64?O2(ri.BASE64,e.rest):JK(e.rest)}function tW(n){return new k2(n).contentType}function nW(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){let r=0,i="";lx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(lx(this.data_)){const r=this.data_,i=XK(r,e,t);return i===null?null:new Vs(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Vs(r,!0)}}static getBlob(...e){if(RT()){const t=e.map(r=>r instanceof Vs?r.data_:r);return new Vs(QK.apply(null,t))}else{const t=e.map(u=>p_(u)?x2(ri.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[o++]=u[h]}),new Vs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n){let e;try{e=JSON.parse(n)}catch{return null}return zK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function iW(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function D2(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(n,e){return e}class nr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||sW}}let jm=null;function aW(n){return!p_(n)||n.length<2?n:D2(n)}function m_(){if(jm)return jm;const n=[];n.push(new nr("bucket")),n.push(new nr("generation")),n.push(new nr("metageneration")),n.push(new nr("name","fullPath",!0));function e(o,u){return aW(u)}const t=new nr("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const i=new nr("size");return i.xform=r,n.push(i),n.push(new nr("timeCreated")),n.push(new nr("updated")),n.push(new nr("md5Hash",null,!0)),n.push(new nr("cacheControl",null,!0)),n.push(new nr("contentDisposition",null,!0)),n.push(new nr("contentEncoding",null,!0)),n.push(new nr("contentLanguage",null,!0)),n.push(new nr("contentType",null,!0)),n.push(new nr("metadata","customMetadata",!0)),jm=n,jm}function oW(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new Kn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function lW(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return oW(r,n),r}function N2(n,e,t){const r=IT(e);return r===null?null:lW(n,r,t)}function uW(n,e,t,r){const i=IT(e);if(i===null||!p_(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(f=>{const g=n.bucket,_=n.fullPath,v="/b/"+u(g)+"/o/"+u(_),T=Ro(v,t,r),w=I2({alt:"media",token:f});return T+w})[0]}function CT(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="prefixes",cx="items";function cW(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[ux])for(const i of t[ux]){const o=i.replace(/\/$/,""),u=n._makeStorageReference(new Kn(e,o));r.prefixes.push(u)}if(t[cx])for(const i of t[cx]){const o=n._makeStorageReference(new Kn(e,i.name));r.items.push(o)}return r}function hW(n,e,t){const r=IT(t);return r===null?null:cW(n,e,r)}class aa{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n){if(!n)throw AT()}function g_(n,e){function t(r,i){const o=N2(n,i,e);return ts(o!==null),o}return t}function dW(n,e){function t(r,i){const o=hW(n,e,i);return ts(o!==null),o}return t}function fW(n,e){function t(r,i){const o=N2(n,i,e);return ts(o!==null),uW(o,i,n.host,n._protocol)}return t}function eh(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=xK():i=CK():t.getStatus()===402?i=IK(n.bucket):t.getStatus()===403?i=PK(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function y_(n){const e=eh(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=RK(n.path)),o.serverResponse=i.serverResponse,o}return t}function M2(n,e,t){const r=e.fullServerUrl(),i=Ro(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new aa(i,o,g_(n,t),u);return h.errorHandler=y_(e),h}function pW(n,e,t,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);const u=e.bucketOnlyServerUrl(),h=Ro(u,n.host,n._protocol),d="GET",f=n.maxOperationRetryTime,g=new aa(h,d,dW(n,e.bucket),f);return g.urlParams=o,g.errorHandler=eh(e),g}function mW(n,e,t){const r=e.fullServerUrl(),i=Ro(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new aa(i,o,fW(n,t),u);return h.errorHandler=y_(e),h}function gW(n,e,t,r){const i=e.fullServerUrl(),o=Ro(i,n.host,n._protocol),u="PATCH",h=CT(t,r),d={"Content-Type":"application/json; charset=utf-8"},f=n.maxOperationRetryTime,g=new aa(o,u,g_(n,r),f);return g.headers=d,g.body=h,g.errorHandler=y_(e),g}function yW(n,e){const t=e.fullServerUrl(),r=Ro(t,n.host,n._protocol),i="DELETE",o=n.maxOperationRetryTime;function u(d,f){}const h=new aa(r,i,u,o);return h.successCodes=[200,204],h.errorHandler=y_(e),h}function _W(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function V2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=_W(null,e)),r}function vW(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let U="";for(let H=0;H<2;H++)U=U+Math.random().toString().slice(2);return U}const d=h();u["Content-Type"]="multipart/related; boundary="+d;const f=V2(e,r,i),g=CT(f,t),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",T=Vs.getBlob(_,r,v);if(T===null)throw S2();const w={name:f.fullPath},R=Ro(o,n.host,n._protocol),x="POST",B=n.maxUploadRetryTime,L=new aa(R,x,g_(n,t),B);return L.urlParams=w,L.headers=u,L.body=T.uploadData(),L.errorHandler=eh(e),L}class ey{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function xT(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ts(!1)}return ts(!!t&&(e||["active"]).indexOf(t)!==-1),t}function EW(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),u=V2(e,r,i),h={name:u.fullPath},d=Ro(o,n.host,n._protocol),f="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},_=CT(u,t),v=n.maxUploadRetryTime;function T(R){xT(R);let x;try{x=R.getResponseHeader("X-Goog-Upload-URL")}catch{ts(!1)}return ts(p_(x)),x}const w=new aa(d,f,T,v);return w.urlParams=h,w.headers=g,w.body=_,w.errorHandler=eh(e),w}function bW(n,e,t,r){const i={"X-Goog-Upload-Command":"query"};function o(f){const g=xT(f,["active","final"]);let _=null;try{_=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ts(!1)}_||ts(!1);const v=Number(_);return ts(!isNaN(v)),new ey(v,r.size(),g==="final")}const u="POST",h=n.maxUploadRetryTime,d=new aa(t,u,o,h);return d.headers=i,d.errorHandler=eh(e),d}const hx=256*1024;function wW(n,e,t,r,i,o,u,h){const d=new ey(0,0);if(u?(d.current=u.current,d.total=u.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw NK();const f=d.total-d.current;let g=f;i>0&&(g=Math.min(g,i));const _=d.current,v=_+g;let T="";g===0?T="finalize":f===g?T="upload, finalize":T="upload";const w={"X-Goog-Upload-Command":T,"X-Goog-Upload-Offset":`${d.current}`},R=r.slice(_,v);if(R===null)throw S2();function x(H,j){const $=xT(H,["active","final"]),M=d.current+g,C=r.size();let I;return $==="final"?I=g_(e,o)(H,j):I=null,new ey(M,C,$==="final",I)}const B="POST",L=e.maxUploadRetryTime,U=new aa(t,B,x,L);return U.headers=w,U.body=R.uploadData(),U.progressCallback=h||null,U.errorHandler=eh(n),U}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW={STATE_CHANGED:"state_changed"},sr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lE(n){switch(n){case"running":case"pausing":case"canceling":return sr.RUNNING;case"paused":return sr.PAUSED;case"success":return sr.SUCCESS;case"canceled":return sr.CANCELED;case"error":return sr.ERROR;default:return sr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,t,r){if(jK(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class AW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Pd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class RW extends AW{initXhr(){this.xhr_.responseType="text"}}function Ki(){return new RW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=m_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(bt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(C2(i.status,[]))if(o)i=w2();else{this.sleepTime=Math.max(this.sleepTime*2,AK),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(bt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=EW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ki,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=bW(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ki,t,r);this._request=o,o.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=hx*this._chunkMultiplier,t=new ey(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let u;try{u=wW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const h=this._ref.storage._makeRequest(u,Ki,i,o,!1);this._request=h,h.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){hx*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=M2(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ki,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=vW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ki,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=T2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=lE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const o=new SW(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(lE(this._state)){case sr.SUCCESS:Ku(this._resolve.bind(null,this.snapshot))();break;case sr.CANCELED:case sr.ERROR:const t=this._reject;Ku(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(lE(this._state)){case sr.RUNNING:case sr.PAUSED:e.next&&Ku(e.next.bind(e,this.snapshot))();break;case sr.SUCCESS:e.complete&&Ku(e.complete.bind(e))();break;case sr.CANCELED:case sr.ERROR:e.error&&Ku(e.error.bind(e,this._error))();break;default:e.error&&Ku(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t){this._service=e,t instanceof Kn?this._location=t:this._location=Kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ul(e,t)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D2(this._location.path)}get storage(){return this._service}get parent(){const e=rW(this._location.path);if(e===null)return null;const t=new Kn(this._location.bucket,e);return new Ul(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw R2(e)}}function IW(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new L2(n,new Vs(e),t)}function CW(n){const e={prefixes:[],items:[]};return U2(n,e).then(()=>e)}async function U2(n,e,t){const i=await B2(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await U2(n,e,i.nextPageToken)}function B2(n,e){e!=null&&typeof e.maxResults=="number"&&pb("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=pW(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ki)}function xW(n){n._throwIfRoot("getMetadata");const e=M2(n.storage,n._location,m_());return n.storage.makeRequestWithTokens(e,Ki)}function PW(n,e){n._throwIfRoot("updateMetadata");const t=gW(n.storage,n._location,e,m_());return n.storage.makeRequestWithTokens(t,Ki)}function OW(n){n._throwIfRoot("getDownloadURL");const e=mW(n.storage,n._location,m_());return n.storage.makeRequestWithTokens(e,Ki).then(t=>{if(t===null)throw MK();return t})}function kW(n){n._throwIfRoot("deleteObject");const e=yW(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ki)}function F2(n,e){const t=iW(n._location.path,e),r=new Kn(n._location.bucket,t);return new Ul(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(n){return/^[A-Za-z]+:\/\//.test(n)}function NW(n,e){return new Ul(n,e)}function j2(n,e){if(n instanceof PT){const t=n;if(t._bucket==null)throw DK();const r=new Ul(t,t._bucket);return e!=null?j2(r,e):r}else return e!==void 0?F2(n,e):n}function MW(n,e){if(e&&DW(e)){if(n instanceof PT)return NW(n,e);throw lc("To use ref(service, url), the first argument must be a Storage instance.")}else return j2(n,e)}function dx(n,e){const t=e==null?void 0:e[b2];return t==null?null:Kn.makeFromBucketSpec(t,n)}function VW(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:hO(i,n.app.options.projectId))}class PT{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=E2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TK,this._maxUploadRetryTime=SK,this._requests=new Set,i!=null?this._bucket=Kn.makeFromBucketSpec(i,this._host):this._bucket=dx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=dx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ul(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new LK(A2());{const u=WK(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const fx="@firebase/storage",px="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="storage";function UW(n,e,t){return n=Re(n),IW(n,e,t)}function BW(n){return n=Re(n),xW(n)}function FW(n,e){return n=Re(n),PW(n,e)}function jW(n,e){return n=Re(n),B2(n,e)}function zW(n){return n=Re(n),CW(n)}function qW(n){return n=Re(n),OW(n)}function HW(n){return n=Re(n),kW(n)}function mx(n,e){return n=Re(n),MW(n,e)}function $W(n,e){return F2(n,e)}function GW(n,e,t,r={}){VW(n,e,t,r)}function KW(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new PT(t,r,i,e,Js)}function WW(){Gs(new si(LW,KW,"PUBLIC").setMultipleInstances(!0)),Vr(fx,px,""),Vr(fx,px,"esm2017")}WW();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new zm(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new zm(r,this,this._ref))},t)}on(e,t,r,i){let o;return t&&(typeof t=="function"?o=u=>t(new zm(u,this,this._ref)):o={next:t.next?u=>t.next(new zm(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class yx{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new zs(e,this._service))}get items(){return this._delegate.items.map(e=>new zs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=$W(this._delegate,e);return new zs(t,this.storage)}get root(){return new zs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new zs(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new gx(UW(this._delegate,e,t),this)}putString(e,t=ri.RAW,r){this._throwIfRoot("putString");const i=x2(t,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new gx(new L2(this._delegate,new Vs(i.data,!0),o),this)}listAll(){return zW(this._delegate).then(e=>new yx(e,this.storage))}list(e){return jW(this._delegate,e||void 0).then(t=>new yx(t,this.storage))}getMetadata(){return BW(this._delegate)}updateMetadata(e){return FW(this._delegate,e)}getDownloadURL(){return qW(this._delegate)}delete(){return this._throwIfRoot("delete"),HW(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw R2(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(_x(e))throw lc("ref() expected a child path but got a URL, use refFromURL instead.");return new zs(mx(this._delegate,e),this)}refFromURL(e){if(!_x(e))throw lc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Kn.makeFromUrl(e,this._delegate.host)}catch{throw lc("refFromUrl() expected a valid full URL but got an invalid one.")}return new zs(mx(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){GW(this._delegate,e,t,r)}}function _x(n){return/^[A-Za-z]+:\/\//.test(n)}const YW="@firebase/storage-compat",QW="0.3.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW="storage-compat";function ZW(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new z2(t,r)}function JW(n){const e={TaskState:sr,TaskEvent:TW,StringFormat:ri,Storage:z2,Reference:zs};n.INTERNAL.registerComponent(new si(XW,ZW,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(YW,QW)}JW(jl);const eY={apiKey:"AIzaSyCB2i8dRMwHg6uOQ6QiKw-d4N2M2IuIoMs",authDomain:"clone-3147d.firebaseapp.com",projectId:"clone-3147d",storageBucket:"clone-3147d.firebasestorage.app",messagingSenderId:"35126180913",appId:"1:35126180913:web:da8ccefe263fecb9b7e910"},OT=jl.initializeApp(eY),ty=pH(OT),q2=OT.firestore();OT.storage();const tY=()=>{var i;const[{user:n,basket:e},t]=X.useContext(Zs),r=e.reduce((o,u)=>u.amount+o,0);return V.jsxs("div",{className:Ui.outer_wrapper,children:[V.jsx("section",{children:V.jsxs("div",{className:Ui.header_container,children:[V.jsxs("div",{className:Ui.logo_container,children:[V.jsx(yi,{to:"/",children:V.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),V.jsxs("div",{className:Ui.delivery,children:[V.jsx("span",{children:V.jsx(d3,{})}),V.jsxs("div",{children:[V.jsx("p",{children:" Delivered to"}),V.jsx("span",{children:" Ethiopia "})]})]})]}),V.jsxs("div",{className:Ui.search,children:[V.jsx("select",{name:"",id:"",children:V.jsx("option",{value:"",children:"All"})}),V.jsx("input",{type:"text"}),V.jsx(f3,{size:37})]}),V.jsxs("div",{className:Ui.order_container,children:[V.jsxs(yi,{to:"",className:Ui.language,children:[V.jsx("img",{src:" https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:"US flag"}),V.jsx("select",{name:"",id:"",children:V.jsx("option",{value:"",children:"EN"})})]}),V.jsxs(yi,{to:!n&&"/auth",children:[" ",V.jsx("div",{children:n?V.jsxs(V.Fragment,{children:[V.jsxs("p",{children:[" Hello ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]," "]}),V.jsx("span",{onClick:()=>ty.signOut(),children:"Sign Out "})]}):V.jsxs(V.Fragment,{children:[V.jsx("p",{children:" Hello, Sign In"}),V.jsx("span",{children:"Account & Lists"})]})})]}),V.jsxs(yi,{to:"/orders",children:[V.jsx("p",{children:"Returns"}),V.jsx("span",{children:"& Orders"})]}),V.jsxs(yi,{to:"/cart",className:Ui.cart,children:[V.jsx(p3,{size:25}),V.jsx("span",{children:r})]})]})]})}),V.jsx(g3,{})]})};function nY(n){return Bl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(n)}const rY="_footer_1j704_1",iY="_backToTop_1j704_17",sY="_footerLinks_1j704_39",aY="_column_1j704_53",oY="_footer__container_1j704_103",lY="_bottomFooter_1j704_119",uY="_amazonLogoLink_1j704_137",cY="_options_1j704_157",hY="_btn__language_1j704_187",dY="_usd_1j704_201",fY="_country_1j704_203",pY="_flag_1j704_233",qn={footer:rY,backToTop:iY,footerLinks:sY,column:aY,footer__container:oY,bottomFooter:lY,amazonLogoLink:uY,options:cY,btn__language:hY,usd:dY,country:fY,flag:pY},mY=()=>V.jsxs("footer",{className:qn.footer,children:[V.jsx("div",{className:qn.backToTop,children:V.jsx("a",{href:"#top",children:"Back to top"})}),V.jsxs("div",{className:qn.footerLinks,children:[V.jsxs("div",{className:qn.column,children:[V.jsx("h4",{children:"Get to Know Us"}),V.jsx("a",{href:"#",children:"Careers"}),V.jsx("a",{href:"#",children:"Blog"}),V.jsx("a",{href:"#",children:"About Amazon"}),V.jsx("a",{href:"#",children:"Investor Relations"}),V.jsx("a",{href:"#",children:"Amazon Devices"}),V.jsx("a",{href:"#",children:"Amazon Science"})]}),V.jsxs("div",{className:qn.column,children:[V.jsx("h4",{children:"Make Money with Us"}),V.jsx("a",{href:"#",children:"Sell on Amazon"}),V.jsx("a",{href:"#",children:"Sell on Amazon Business"}),V.jsx("a",{href:"#",children:"Sell apps on Amazon "}),V.jsx("a",{href:"#",children:"Become an Affiliate"}),V.jsx("a",{href:"#",children:"Advertise Your Products"}),V.jsx("a",{href:"#",children:"Self-Publish with Us"}),V.jsx("a",{href:"#",children:"Host an Amazon Hub"}),V.jsx("a",{href:"#",children:"See More"})]}),V.jsxs("div",{className:qn.column,children:[V.jsx("h4",{children:"Amazon Payment Products"}),V.jsx("a",{href:"#",children:"Amazon Business Card"}),V.jsx("a",{href:"#",children:"Shop with Points"}),V.jsx("a",{href:"#",children:"Reload Your Balance"}),V.jsx("a",{href:"#",children:"Amazon Currency Converter"})]}),V.jsxs("div",{className:qn.column,children:[V.jsx("h4",{children:"Let Us Help You"}),V.jsx("a",{href:"#",children:"Amazon and COVID-19"}),V.jsx("a",{href:"#",children:"Your Account"}),V.jsx("a",{href:"#",children:"Your Orders"}),V.jsx("a",{href:"#",children:"Shipping Rates & Policies"}),V.jsx("a",{href:"#",children:"Returns & Replacements"}),V.jsx("a",{href:"#",children:"Manage Your Content and Devices"}),V.jsx("a",{href:"#",children:"Help"})]})]}),V.jsx("div",{className:qn.footer__container,children:V.jsxs("div",{className:qn.bottomFooter,children:[V.jsx("a",{href:"/",className:qn.amazonLogoLink,children:V.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:""})}),V.jsxs("div",{className:qn.options,children:[V.jsxs("button",{className:qn.btn__language,children:[" ",V.jsx(nY,{size:15,className:qn.svg})," ",V.jsx("span",{children:" English"})]}),V.jsx("button",{className:qn.usd,children:" $ USD - U.S. Dollar"}),V.jsxs("button",{className:qn.country,children:[V.jsx("img",{src:"https://flagcdn.com/w40/us.png",alt:"United States Flag",className:qn.flag}),V.jsx("span",{children:" United States"})]})]})]})})]}),th=({children:n})=>V.jsxs("div",{children:[V.jsx(tY,{}),n,V.jsx(mY,{})]}),gY=()=>V.jsxs(th,{children:[V.jsx(_U,{}),V.jsx(SU,{}),V.jsx(Wj,{})]}),yY="_payment_header_tpe3i_1",_Y="_payment_tpe3i_1",vY="_flex_tpe3i_19",EY="_payment__card__container_tpe3i_47",bY="_payment__price_tpe3i_55",wY="_payment__details_tpe3i_71",TY="_loader_tpe3i_95",Ds={payment_header:yY,payment:_Y,flex:vY,payment__card__container:EY,payment__price:bY,payment__details:wY,loader:TY};function vx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ex(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(t),!0).forEach(function(r){H2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mg=function(e){return typeof e}:mg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(n)}function H2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $2(n,e){return SY(n)||AY(n,e)||RY(n,e)||IY()}function SY(n){if(Array.isArray(n))return n}function AY(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,h=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function RY(n,e){if(n){if(typeof n=="string")return bx(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bx(n,e)}}function bx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function IY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Cr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},mb=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},Vc=function(e){return e!==null&&mg(e)==="object"},CY=function(e){return Vc(e)&&typeof e.then=="function"},xY=function(e){return Vc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},wx="[object Object]",PY=function n(e,t){if(!Vc(e)||!Vc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===wx,u=Object.prototype.toString.call(t)===wx;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var T=e,w=t,R=function(B){return n(T[B],w[B])};return v.every(R)},G2=function(e,t,r){return Vc(e)?Object.keys(e).reduce(function(i,o){var u=!Vc(t)||!PY(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?Ex(Ex({},i||{}),{},H2({},o,e[o])):i},null):null},K2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Tx=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K2;if(e===null||xY(e))return e;throw new Error(t)},OY=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K2;if(CY(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return Tx(i,t)})};var r=Tx(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},kY=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.1.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},__=Ke.createContext(null);__.displayName="ElementsContext";var W2=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Y2=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return OY(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=$2(u,2),d=h[0],f=h[1];Ke.useEffect(function(){var v=!0,T=function(R){f(function(x){return x.stripe?x:{stripe:R,elements:R.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&T(w)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){v=!1}},[o,d,r]);var g=mb(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=mb(r);return Ke.useEffect(function(){if(d.elements){var v=G2(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Ke.useEffect(function(){kY(d.stripe)},[d.stripe]),Ke.createElement(__.Provider,{value:d},i)};Y2.propTypes={stripe:Dt.any,options:Dt.object};var DY=function(e){var t=Ke.useContext(__);return W2(t,e)},NY=function(){var e=DY("calls useElements()"),t=e.elements;return t};Dt.func.isRequired;var Q2=Ke.createContext(null);Q2.displayName="CheckoutSdkContext";var MY=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},VY=Ke.createContext(null);VY.displayName="CheckoutContext";Dt.any,Dt.shape({clientSecret:Dt.string.isRequired,elementsOptions:Dt.object}).isRequired;var gb=function(e){var t=Ke.useContext(Q2),r=Ke.useContext(__);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?MY(t,e):W2(r,e)},LY=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ln=function(e,t){var r="".concat(LY(e),"Element"),i=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,T=d.onBlur,w=d.onFocus,R=d.onReady,x=d.onChange,B=d.onEscape,L=d.onClick,U=d.onLoadError,H=d.onLoaderStart,j=d.onNetworksChange,$=d.onConfirm,M=d.onCancel,C=d.onShippingAddressChange,I=d.onShippingRateChange,b=gb("mounts <".concat(r,">")),P="elements"in b?b.elements:null,O="checkoutSdk"in b?b.checkoutSdk:null,k=Ke.useState(null),te=$2(k,2),F=te[0],ee=te[1],ie=Ke.useRef(null),ue=Ke.useRef(null);Cr(F,"blur",T),Cr(F,"focus",w),Cr(F,"escape",B),Cr(F,"click",L),Cr(F,"loaderror",U),Cr(F,"loaderstart",H),Cr(F,"networkschange",j),Cr(F,"confirm",$),Cr(F,"cancel",M),Cr(F,"shippingaddresschange",C),Cr(F,"shippingratechange",I),Cr(F,"change",x);var Te;R&&(e==="expressCheckout"?Te=R:Te=function(){R(F)}),Cr(F,"ready",Te),Ke.useLayoutEffect(function(){if(ie.current===null&&ue.current!==null&&(P||O)){var ae=null;O?ae=O.createElement(e,v):P&&(ae=P.create(e,v)),ie.current=ae,ee(ae),ae&&ae.mount(ue.current)}},[P,O,v]);var q=mb(v);return Ke.useEffect(function(){if(ie.current){var ae=G2(v,q,["paymentRequest"]);ae&&"update"in ie.current&&ie.current.update(ae)}},[v,q]),Ke.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),Ke.createElement("div",{id:f,className:g,ref:ue})},o=function(d){gb("mounts <".concat(r,">"));var f=d.id,g=d.className;return Ke.createElement("div",{id:f,className:g})},u=t?o:i;return u.propTypes={id:Dt.string,className:Dt.string,onChange:Dt.func,onBlur:Dt.func,onFocus:Dt.func,onReady:Dt.func,onEscape:Dt.func,onClick:Dt.func,onLoadError:Dt.func,onLoaderStart:Dt.func,onNetworksChange:Dt.func,onConfirm:Dt.func,onCancel:Dt.func,onShippingAddressChange:Dt.func,onShippingRateChange:Dt.func,options:Dt.object},u.displayName=r,u.__elementType=e,u},un=typeof window>"u",UY=Ke.createContext(null);UY.displayName="EmbeddedCheckoutProviderContext";var BY=function(){var e=gb("calls useStripe()"),t=e.stripe;return t};ln("auBankAccount",un);var Sx=ln("card",un);ln("cardNumber",un);ln("cardExpiry",un);ln("cardCvc",un);ln("fpxBank",un);ln("iban",un);ln("idealBank",un);ln("p24Bank",un);ln("epsBank",un);ln("payment",un);ln("expressCheckout",un);ln("currencySelector",un);ln("paymentRequestButton",un);ln("linkAuthentication",un);ln("address",un);ln("shippingAddress",un);ln("paymentMethodMessaging",un);ln("affirmMessage",un);ln("afterpayClearpayMessage",un);const FY=Ct.create({baseURL:" https://amazon-api-deployment-ojd9.onrender.com/"}),jY=()=>{const[{user:n,basket:e},t]=X.useContext(Zs),r=e==null?void 0:e.reduce((w,R)=>R.amount+w,0),i=e.reduce((w,R)=>R.price*R.amount+w,0),[o,u]=X.useState(null),[h,d]=X.useState(!1),f=BY(),g=NY(),_=ay(),v=w=>{var R,x;console.log(w),(R=w==null?void 0:w.error)!=null&&R.message?u((x=w==null?void 0:w.error)==null?void 0:x.message):u("")},T=async w=>{var R;w.preventDefault();try{d(!0);const B=(R=(await FY({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:R.clientSecret,{paymentIntent:L}=await f.confirmCardPayment(B,{payment_method:{card:g.getElement(Sx)}});console.log(L),await q2.collection("users").doc(n.uid).collection("orders").doc(L.id).set({basket:e,amount:L.amount,created:L.created}),t({type:Wi.EMPTY_BASKET}),d(!1),_("/orders",{state:{img:"You have placed new order"}})}catch(x){console.log(x),d(!1)}};return V.jsxs(th,{children:[V.jsxs("div",{className:Ds.payment_header,children:["Checkout (",r,") items"," "]}),V.jsxs("section",{className:Ds.payment,children:[V.jsxs("div",{className:Ds.flex,children:[V.jsx("h3",{children:" Delivery Address"}),V.jsxs("div",{children:[V.jsx("div",{children:n==null?void 0:n.email}),V.jsx("div",{children:"123 Tabor Sub-City"}),V.jsx("div",{children:" Hawassa, Ethiopia"})]})]}),V.jsx("hr",{}),V.jsxs("div",{className:Ds.flex,children:[V.jsx("h3",{children:" Review Items and delivery"}),V.jsx("div",{children:e==null?void 0:e.map(w=>V.jsx(jc,{product:w,flex:!0}))})]}),V.jsx("hr",{}),V.jsxs("div",{className:Ds.flex,children:[V.jsx("h3",{children:" Payment Method"}),V.jsx("div",{className:Ds.payment__card__container,children:V.jsx("div",{className:Ds.payment__details,children:V.jsxs("form",{onSubmit:T,children:[o&&V.jsxs("small",{style:{color:"red"},children:[o," "]}),V.jsx(Sx,{onChange:v}),V.jsxs("div",{className:Ds.payment__price,children:[V.jsx("div",{children:V.jsxs("span",{style:{display:"flex",gap:"5px"},children:[V.jsx("p",{children:" Total Order | "})," ",V.jsx(Fb,{amount:i})]})}),V.jsx("button",{type:"submit",children:h?V.jsxs("div",{className:Ds.loader,children:[V.jsx(RE,{color:"gray",size:12}),V.jsx("p",{children:" Please wait ..."})]}):"Pay Now"})]})]})})})]})]})]})},zY="_container_1kvdt_1",qY="_order__container_1kvdt_9",Ax={container:zY,order__container:qY},HY=()=>{const[{user:n},e]=X.useContext(Zs),[t,r]=X.useState([]);return X.useEffect(()=>{n?q2.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),V.jsx(th,{children:V.jsx("section",{className:`${Ax.container}`,children:V.jsxs("div",{className:`${Ax.order__container}`,children:[V.jsx("h2",{children:"Your Orders "}),(t==null?void 0:t.length)==0&&V.jsx("div",{children:" You don't have orders. "}),V.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return V.jsxs("div",{children:[V.jsx("hr",{}),V.jsxs("p",{children:[" Order ID: ",i==null?void 0:i.id]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map(d=>V.jsx(jc,{product:d,flex:!0},d.id))]},o)})})]})})})},$Y="_cart_container_1hzhp_1",GY="_cart_items_1hzhp_25",KY="_cart_total_1hzhp_59",WY="_cart_product_1hzhp_121",YY="_btn_container_1hzhp_143",QY="_btn_1hzhp_143",sl={cart_container:$Y,cart_items:GY,cart_total:KY,cart_product:WY,btn_container:YY,btn:QY};function XY(n){return Bl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function ZY(n){return Bl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}const JY=()=>{const[{basket:n,user:e},t]=X.useContext(Zs),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Wi.ADD_TO_BASKET,item:u})},o=u=>{t({type:Wi.REMOVE_FROM_BASKET,id:u})};return V.jsx(th,{children:V.jsxs("section",{className:sl.cart_container,children:[V.jsxs("div",{className:sl.cart_items,children:[V.jsx("h2",{children:" Hello "}),V.jsx("h3",{children:" Your shopping basket "}),V.jsx("hr",{}),(n==null?void 0:n.length)===0?V.jsx("h3",{children:" Your basket is empty "}):n==null?void 0:n.map(u=>V.jsxs("section",{className:sl.cart_product,children:[V.jsx(jc,{product:u,renderDesc:!0,renderAdd:!1,flex:!0},u.id),V.jsxs("div",{className:sl.btn_container,children:[V.jsx("button",{className:sl.btn,onClick:()=>i(u),children:V.jsx(ZY,{size:20})}),V.jsx("span",{children:u.amount}),V.jsx("button",{className:sl.btn,onClick:()=>o(u.id),children:V.jsx(XY,{size:20})})]})]}))]}),(n==null?void 0:n.length)!==0&&V.jsxs("div",{className:sl.cart_total,children:[V.jsxs("div",{children:[V.jsxs("p",{children:[" Subtotal (",n==null?void 0:n.length," items)"]}),V.jsx(Fb,{amount:r})]}),V.jsxs("span",{children:[V.jsx("input",{type:"checkbox"}),V.jsx("small",{children:" This order contains a gift "})]}),V.jsx(yi,{to:"/Payment",children:" Continue to checkout "})]})]})})},X2="https://fakestoreapi.com",eQ=()=>{const{productId:n}=Bx(),[e,t]=X.useState({}),[r,i]=X.useState(!1);return X.useEffect(()=>{console.log("Fetching product data for ID:",n),!(!n||e.id)&&(i(!0),Ct.get(`${X2}/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.error("Error fetching product:",o)}).finally(()=>{i(!1)}))},[n,e.id]),V.jsx(th,{children:r?V.jsx(zb,{}):e&&e.id?V.jsx(jc,{product:e,flex:!0,renderDesc:!0,renderAdd:!0}):V.jsx("p",{children:"Product not found"})})},tQ="_products_container_j1yg8_1",nQ={products_container:tQ},rQ=()=>{const[n,e]=X.useState([]),[t,r]=X.useState(!1),{categoryName:i}=Bx();return X.useEffect(()=>{r(!0),Ct.get(`${X2}/products/category/${i}`).then(o=>{e(o.data),r(!1),console.log(o)}).catch(o=>{console.log(o),r(!1)})},[]),V.jsx(th,{children:t?V.jsx(zb,{}):V.jsxs("div",{children:[V.jsx("h1",{style:{padding:"30px"},children:" Results"}),V.jsxs("p",{style:{padding:"30px"},children:[" Category/",i]}),V.jsx("hr",{}),V.jsx("div",{className:nQ.products_container,children:n==null?void 0:n.map(o=>V.jsx(jc,{product:o,renderDesc:!1,renderAdd:!0},o.id))})]})})},iQ="_login_6m4hi_9",sQ="_login_container_6m4hi_35",aQ="_btn_signIn_6m4hi_121",oQ="_terms_links_6m4hi_145",lQ="_help_6m4hi_179",uQ="_help_hr_6m4hi_203",cQ="_buying_for_work_6m4hi_209",hQ="_newToAmazon_container_6m4hi_245",dQ="_newToAmazon_6m4hi_245",fQ="_btn_createAccount_6m4hi_291",pQ="_create_account_hr_6m4hi_345",mQ="_footer_links_container_6m4hi_359",gQ="_copy_right_6m4hi_407",dr={login:iQ,login_container:sQ,btn_signIn:aQ,terms_links:oQ,help:lQ,help_hr:uQ,buying_for_work:cQ,newToAmazon_container:hQ,newToAmazon:dQ,btn_createAccount:fQ,create_account_hr:pQ,footer_links_container:mQ,copy_right:gQ};function Rx(){var T;const[n,e]=X.useState(""),[t,r]=X.useState(""),[i,o]=X.useState(""),[u,h]=X.useState({signIn:!1,signUp:!1}),[{user:d},f]=X.useContext(Zs),g=ay(),_=vo();console.log(d);const v=async w=>{h({...u,signIn:!0}),w.preventDefault(),console.log(w.target.name),w.target.name==="Signin"?lk(ty,n,t).then(R=>{var x;console.log(R),f({type:"SET_USER",user:R.user}),h({...u,signIn:!1}),g(((x=_==null?void 0:_.state)==null?void 0:x.redirect)||"/")}).catch(R=>{o(R.message),h({...u,signIn:!1})}):(h({...u,signUp:!0}),ok(ty,n,t).then(R=>{var x;o(err.message),f({type:Type.SET_USER,user:R.user}),h({...u,signUp:!1}),g(((x=_==null?void 0:_.state)==null?void 0:x.redirect)||"/")}).catch(R=>{o(R.message),h({...u,signUp:!1})}))};return V.jsxs("section",{className:dr.login,children:[V.jsx(yi,{to:"/",children:V.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon Logo",className:dr.logo})}),V.jsxs("div",{className:dr.login_container,children:[V.jsx("h1",{children:" Sign in"}),((T=_==null?void 0:_.state)==null?void 0:T.msg)&&V.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:_.state.msg}),V.jsxs("form",{action:"",children:[V.jsxs("div",{children:[V.jsx("label",{htmlFor:"email",children:" Email"}),V.jsx("input",{value:n,onChange:w=>e(w.target.value),type:"email",id:"email",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"password",children:" Password"}),V.jsx("input",{value:t,onChange:w=>r(w.target.value),type:"password",id:"password",required:!0})]}),V.jsx("button",{type:"submit",name:"Signin",onClick:v,className:dr.btn_signIn,children:u.signIn?V.jsx(RE,{color:"#007185",size:20}):"Sign In"})]}),V.jsxs("p",{className:dr.terms_links,children:["By continuing, you agree to Amazon's Fake",V.jsx("a",{href:"#",style:{textDecoration:"underline",color:"#007185"},children:"  Conditions of Use "}),"and ",V.jsx("a",{href:"#",style:{textDecoration:"underline",color:"#007185"},children:" Privacy Notice"})]}),V.jsx("a",{children:V.jsx("p",{className:dr.help,children:" Need help?"})}),V.jsx("hr",{className:dr.help_hr}),V.jsxs("p",{className:dr.buying_for_work,children:[" Buying for Work?",V.jsx("br",{}),V.jsx("a",{children:" Shop on Amazon Business"})]})]}),V.jsx("div",{className:dr.newToAmazon_container,children:V.jsx("span",{className:dr.newToAmazon,children:" New to Amazon? "})}),V.jsx("button",{type:"submit",name:"SignUp",onClick:v,className:dr.btn_createAccount,children:u.signUp?V.jsx(RE,{color:"#007185",size:20}):" Create your Amazon Account"}),i&&V.jsxs("small",{style:{paddingTop:"7px",color:"red"},children:[" ",i," "]}),V.jsx("hr",{className:dr.create_account_hr}),V.jsxs("div",{className:dr.footer_links_container,children:[V.jsxs("div",{children:[" ",V.jsx("a",{children:" condition of Use"})]}),V.jsxs("div",{children:[" ",V.jsx("a",{children:" Privacy Notice"})]}),V.jsxs("div",{children:[" ",V.jsx("a",{children:" Help"})]})]}),V.jsx("p",{className:dr.copy_right,children:" 1996-2025, Amazon.com, Inc. or its affiliates"})]})}var Z2="https://js.stripe.com",yQ="".concat(Z2,"/v3"),_Q=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,vQ=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var EQ=function(e){return _Q.test(e)||vQ.test(e)},bQ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Z2,'"]')),t=0;t<e.length;t++){var r=e[t];if(EQ(r.src))return r}return null},Ix=function(e){var t="",r=document.createElement("script");r.src="".concat(yQ).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},wQ=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.7.0",startTime:t})},Od=null,qm=null,Hm=null,TQ=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},SQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},AQ=function(e){return Od!==null?Od:(Od=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=bQ();if(!(i&&e)){if(!i)i=Ix(e);else if(i&&Hm!==null&&qm!==null){var o;i.removeEventListener("load",Hm),i.removeEventListener("error",qm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=Ix(e)}}Hm=SQ(t,r),qm=TQ(r),i.addEventListener("load",Hm),i.addEventListener("error",qm)}catch(u){r(u);return}}),Od.catch(function(t){return Od=null,Promise.reject(t)}))},RQ=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return wQ(i,r),i},kd,J2=!1,eM=function(){return kd||(kd=AQ(null).catch(function(e){return kd=null,Promise.reject(e)}),kd)};Promise.resolve().then(function(){return eM()}).catch(function(n){J2||console.warn(n)});var IQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];J2=!0;var i=Date.now();return eM().then(function(o){return RQ(o,t,i)})};const Cx=({children:n,msg:e,redirect:t})=>{const r=ay(),[{user:i},o]=X.useContext(Zs);return X.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},CQ=IQ("pk_test_51QwkXDAwsVVf7WtstCLULoxsyCWHFPiotYWv4mLAaj4WUHNxJLDVq9mpxJ4Ve3lsygIAliYPSnCDIzHehN0FHVk000c8WRuJxC"),xQ=()=>V.jsx(HashRouter,{basename:"/New_Amazon_Clone/",children:V.jsxs(EL,{children:[V.jsx(Ns,{path:"/",element:V.jsx(gY,{})}),V.jsx(Ns,{path:"/auth",element:V.jsx(Rx,{})}),V.jsx(Ns,{path:"/payment",element:V.jsx(Cx,{msg:"You must login to pay",redirect:"/payment",children:V.jsx(Y2,{stripe:CQ,children:V.jsx(jY,{})})})}),V.jsx(Ns,{path:"/orders",element:V.jsx(Cx,{msg:"You must login to see your orders",redirect:"/orders",children:V.jsx(HY,{})})}),V.jsx(Ns,{path:"/cart",element:V.jsx(JY,{})}),V.jsx(Ns,{path:"/category/:categoryName",element:V.jsx(rQ,{})}),V.jsx(Ns,{path:"/products/:productId",element:V.jsx(eQ,{})}),V.jsx(Ns,{path:"signup",element:V.jsx(Rx,{})})]})});function PQ(){const[{user:n},e]=X.useContext(Zs);return X.useEffect(()=>{ty.onAuthStateChanged(t=>{e(t?{type:Wi.SET_USER,user:t}:{type:Wi.SET_USER,user:null})})},[]),V.jsx(V.Fragment,{children:V.jsx(xQ,{})})}NV.createRoot(document.getElementById("root")).render(V.jsx(V.Fragment,{children:V.jsx(Bj,{reducer:Uj,initialState:Lj,children:V.jsx(PQ,{})})}));
